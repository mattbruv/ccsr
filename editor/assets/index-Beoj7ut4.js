function G9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function H9(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var T5={exports:{}},Qm={},A5={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=Symbol.for("react.element"),V9=Symbol.for("react.portal"),W9=Symbol.for("react.fragment"),q9=Symbol.for("react.strict_mode"),X9=Symbol.for("react.profiler"),Y9=Symbol.for("react.provider"),K9=Symbol.for("react.context"),Z9=Symbol.for("react.forward_ref"),Q9=Symbol.for("react.suspense"),J9=Symbol.for("react.memo"),eV=Symbol.for("react.lazy"),xP=Symbol.iterator;function tV(t){return t===null||typeof t!="object"?null:(t=xP&&t[xP]||t["@@iterator"],typeof t=="function"?t:null)}var R5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P5=Object.assign,I5={};function Ec(t,e,r){this.props=t,this.context=e,this.refs=I5,this.updater=r||R5}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k5(){}k5.prototype=Ec.prototype;function GT(t,e,r){this.props=t,this.context=e,this.refs=I5,this.updater=r||R5}var HT=GT.prototype=new k5;HT.constructor=GT;P5(HT,Ec.prototype);HT.isPureReactComponent=!0;var wP=Array.isArray,M5=Object.prototype.hasOwnProperty,VT={current:null},D5={key:!0,ref:!0,__self:!0,__source:!0};function O5(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)M5.call(e,n)&&!D5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ef,type:t,key:a,ref:s,props:i,_owner:VT.current}}function rV(t,e){return{$$typeof:ef,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function WT(t){return typeof t=="object"&&t!==null&&t.$$typeof===ef}function nV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _P=/\/+/g;function Ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nV(""+t.key):e.toString(36)}function Kp(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ef:case V9:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Ky(s,0):n,wP(i)?(r="",t!=null&&(r=t.replace(_P,"$&/")+"/"),Kp(i,e,r,"",function(u){return u})):i!=null&&(WT(i)&&(i=rV(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_P,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",wP(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Ky(a,o);s+=Kp(a,e,r,l,i)}else if(l=tV(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Ky(a,o++),s+=Kp(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $f(t,e,r){if(t==null)return t;var n=[],i=0;return Kp(t,n,"","",function(a){return e.call(r,a,i++)}),n}function iV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Zp={transition:null},aV={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Zp,ReactCurrentOwner:VT};function N5(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:$f,forEach:function(t,e,r){$f(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return $f(t,function(){e++}),e},toArray:function(t){return $f(t,function(e){return e})||[]},only:function(t){if(!WT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=Ec;Ze.Fragment=W9;Ze.Profiler=X9;Ze.PureComponent=GT;Ze.StrictMode=q9;Ze.Suspense=Q9;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aV;Ze.act=N5;Ze.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=P5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=VT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)M5.call(e,l)&&!D5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ef,type:t.type,key:i,ref:a,props:n,_owner:s}};Ze.createContext=function(t){return t={$$typeof:K9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y9,_context:t},t.Consumer=t};Ze.createElement=O5;Ze.createFactory=function(t){var e=O5.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:Z9,render:t}};Ze.isValidElement=WT;Ze.lazy=function(t){return{$$typeof:eV,_payload:{_status:-1,_result:t},_init:iV}};Ze.memo=function(t,e){return{$$typeof:J9,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=Zp.transition;Zp.transition={};try{t()}finally{Zp.transition=e}};Ze.unstable_act=N5;Ze.useCallback=function(t,e){return nn.current.useCallback(t,e)};Ze.useContext=function(t){return nn.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return nn.current.useEffect(t,e)};Ze.useId=function(){return nn.current.useId()};Ze.useImperativeHandle=function(t,e,r){return nn.current.useImperativeHandle(t,e,r)};Ze.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return nn.current.useMemo(t,e)};Ze.useReducer=function(t,e,r){return nn.current.useReducer(t,e,r)};Ze.useRef=function(t){return nn.current.useRef(t)};Ze.useState=function(t){return nn.current.useState(t)};Ze.useSyncExternalStore=function(t,e,r){return nn.current.useSyncExternalStore(t,e,r)};Ze.useTransition=function(){return nn.current.useTransition()};Ze.version="18.3.1";A5.exports=Ze;var D=A5.exports;const Ri=Rl(D),L5=G9({__proto__:null,default:Ri},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sV=D,oV=Symbol.for("react.element"),lV=Symbol.for("react.fragment"),uV=Object.prototype.hasOwnProperty,cV=sV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hV={key:!0,ref:!0,__self:!0,__source:!0};function B5(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)uV.call(e,n)&&!hV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:oV,type:t,key:a,ref:s,props:i,_owner:cV.current}}Qm.Fragment=lV;Qm.jsx=B5;Qm.jsxs=B5;T5.exports=Qm;var A=T5.exports,F5={exports:{}},Bn={},z5={exports:{}},j5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var $=F.length;F.push(z);e:for(;0<$;){var O=$-1>>>1,j=F[O];if(0<i(j,z))F[O]=z,F[$]=j,$=O;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],$=F.pop();if($!==z){F[0]=$;e:for(var O=0,j=F.length,J=j>>>1;O<J;){var H=2*(O+1)-1,V=F[H],X=H+1,te=F[X];if(0>i(V,$))X<j&&0>i(te,V)?(F[O]=te,F[X]=$,O=X):(F[O]=V,F[H]=$,O=H);else if(X<j&&0>i(te,$))F[O]=te,F[X]=$,O=X;else break e}}return z}function i(F,z){var $=F.sortIndex-z.sortIndex;return $!==0?$:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=F)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function x(F){if(g=!1,b(F),!p)if(r(l)!==null)p=!0,L(w);else{var z=r(u);z!==null&&N(x,z.startTime-F)}}function w(F,z){p=!1,g&&(g=!1,v(T),T=-1),f=!0;var $=d;try{for(b(z),h=r(l);h!==null&&(!(h.expirationTime>z)||F&&!M());){var O=h.callback;if(typeof O=="function"){h.callback=null,d=h.priorityLevel;var j=O(h.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?h.callback=j:h===r(l)&&n(l),b(z)}else n(l);h=r(l)}if(h!==null)var J=!0;else{var H=r(u);H!==null&&N(x,H.startTime-z),J=!1}return J}finally{h=null,d=$,f=!1}}var E=!1,_=null,T=-1,C=5,P=-1;function M(){return!(t.unstable_now()-P<C)}function R(){if(_!==null){var F=t.unstable_now();P=F;var z=!0;try{z=_(!0,F)}finally{z?I():(E=!1,_=null)}}else E=!1}var I;if(typeof y=="function")I=function(){y(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,B=S.port2;S.port1.onmessage=R,I=function(){B.postMessage(null)}}else I=function(){m(R,0)};function L(F){_=F,E||(E=!0,I())}function N(F,z){T=m(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,L(w))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var $=d;d=z;try{return F()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=d;d=F;try{return z()}finally{d=$}},t.unstable_scheduleCallback=function(F,z,$){var O=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?O+$:O):$=O,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,F={id:c++,callback:z,priorityLevel:F,startTime:$,expirationTime:j,sortIndex:-1},$>O?(F.sortIndex=$,e(u,F),r(l)===null&&F===r(u)&&(g?(v(T),T=-1):g=!0,N(x,$-O))):(F.sortIndex=j,e(l,F),p||f||(p=!0,L(w))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var z=d;return function(){var $=d;d=z;try{return F.apply(this,arguments)}finally{d=$}}}})(j5);z5.exports=j5;var dV=z5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fV=D,Dn=dV;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U5=new Set,ld={};function Pl(t,e){rc(t,e),rc(t+"Capture",e)}function rc(t,e){for(ld[t]=e,t=0;t<e.length;t++)U5.add(e[t])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uS=Object.prototype.hasOwnProperty,pV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EP={},SP={};function vV(t){return uS.call(SP,t)?!0:uS.call(EP,t)?!1:pV.test(t)?SP[t]=!0:(EP[t]=!0,!1)}function mV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gV(t,e,r,n){if(e===null||typeof e>"u"||mV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var qT=/[\-:]([a-z])/g;function XT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qT,XT);Ir[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qT,XT);Ir[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qT,XT);Ir[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function YT(t,e,r,n){var i=Ir.hasOwnProperty(e)?Ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gV(e,r,i,n)&&(r=null),n||i===null?vV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var os=fV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),vu=Symbol.for("react.portal"),mu=Symbol.for("react.fragment"),KT=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),$5=Symbol.for("react.provider"),G5=Symbol.for("react.context"),ZT=Symbol.for("react.forward_ref"),hS=Symbol.for("react.suspense"),dS=Symbol.for("react.suspense_list"),QT=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),H5=Symbol.for("react.offscreen"),CP=Symbol.iterator;function rh(t){return t===null||typeof t!="object"?null:(t=CP&&t[CP]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,Zy;function Ah(t){if(Zy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zy=e&&e[1]||""}return`
`+Zy+t}var Qy=!1;function Jy(t,e){if(!t||Qy)return"";Qy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Qy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ah(t):""}function yV(t){switch(t.tag){case 5:return Ah(t.type);case 16:return Ah("Lazy");case 13:return Ah("Suspense");case 19:return Ah("SuspenseList");case 0:case 2:case 15:return t=Jy(t.type,!1),t;case 11:return t=Jy(t.type.render,!1),t;case 1:return t=Jy(t.type,!0),t;default:return""}}function fS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mu:return"Fragment";case vu:return"Portal";case cS:return"Profiler";case KT:return"StrictMode";case hS:return"Suspense";case dS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G5:return(t.displayName||"Context")+".Consumer";case $5:return(t._context.displayName||"Context")+".Provider";case ZT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case QT:return e=t.displayName||null,e!==null?e:fS(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return fS(t(e))}catch{}}return null}function bV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fS(e);case 8:return e===KT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xV(t){var e=V5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hf(t){t._valueTracker||(t._valueTracker=xV(t))}function W5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pS(t,e){var r=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function TP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ro(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q5(t,e){e=e.checked,e!=null&&YT(t,"checked",e,!1)}function vS(t,e){q5(t,e);var r=ro(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mS(t,e.type,r):e.hasOwnProperty("defaultValue")&&mS(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mS(t,e,r){(e!=="number"||Mv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rh=Array.isArray;function Du(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ro(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(Rh(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ro(r)}}function X5(t,e){var r=ro(e.value),n=ro(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function PP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vf,K5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ud(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wV=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(t){wV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wh[e]=Wh[t]})});function Z5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wh.hasOwnProperty(t)&&Wh[t]?(""+e).trim():e+"px"}function Q5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Z5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var _V=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bS(t,e){if(e){if(_V[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function xS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=null;function JT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _S=null,Ou=null,Nu=null;function IP(t){if(t=nf(t)){if(typeof _S!="function")throw Error(we(280));var e=t.stateNode;e&&(e=ng(e),_S(t.stateNode,t.type,e))}}function J5(t){Ou?Nu?Nu.push(t):Nu=[t]:Ou=t}function e4(){if(Ou){var t=Ou,e=Nu;if(Nu=Ou=null,IP(t),e)for(t=0;t<e.length;t++)IP(e[t])}}function t4(t,e){return t(e)}function r4(){}var e0=!1;function n4(t,e,r){if(e0)return t(e,r);e0=!0;try{return t4(t,e,r)}finally{e0=!1,(Ou!==null||Nu!==null)&&(r4(),e4())}}function cd(t,e){var r=t.stateNode;if(r===null)return null;var n=ng(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var ES=!1;if(Xa)try{var nh={};Object.defineProperty(nh,"passive",{get:function(){ES=!0}}),window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{ES=!1}function EV(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var qh=!1,Dv=null,Ov=!1,SS=null,SV={onError:function(t){qh=!0,Dv=t}};function CV(t,e,r,n,i,a,s,o,l){qh=!1,Dv=null,EV.apply(SV,arguments)}function TV(t,e,r,n,i,a,s,o,l){if(CV.apply(this,arguments),qh){if(qh){var u=Dv;qh=!1,Dv=null}else throw Error(we(198));Ov||(Ov=!0,SS=u)}}function Il(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function i4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kP(t){if(Il(t)!==t)throw Error(we(188))}function AV(t){var e=t.alternate;if(!e){if(e=Il(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return kP(i),t;if(a===n)return kP(i),e;a=a.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function a4(t){return t=AV(t),t!==null?s4(t):null}function s4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s4(t);if(e!==null)return e;t=t.sibling}return null}var o4=Dn.unstable_scheduleCallback,MP=Dn.unstable_cancelCallback,RV=Dn.unstable_shouldYield,PV=Dn.unstable_requestPaint,Vt=Dn.unstable_now,IV=Dn.unstable_getCurrentPriorityLevel,eA=Dn.unstable_ImmediatePriority,l4=Dn.unstable_UserBlockingPriority,Nv=Dn.unstable_NormalPriority,kV=Dn.unstable_LowPriority,u4=Dn.unstable_IdlePriority,Jm=null,ma=null;function MV(t){if(ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(Jm,t,void 0,(t.current.flags&128)===128)}catch{}}var Di=Math.clz32?Math.clz32:NV,DV=Math.log,OV=Math.LN2;function NV(t){return t>>>=0,t===0?32:31-(DV(t)/OV|0)|0}var Wf=64,qf=4194304;function Ph(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ph(o):(a&=s,a!==0&&(n=Ph(a)))}else s=r&~i,s!==0?n=Ph(s):a!==0&&(n=Ph(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Di(e),i=1<<r,n|=t[r],e&=~i;return n}function LV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Di(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=LV(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function CS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c4(){var t=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),t}function t0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Di(e),t[e]=r}function FV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Di(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function tA(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Di(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ct=0;function h4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d4,rA,f4,p4,v4,TS=!1,Xf=[],Gs=null,Hs=null,Vs=null,hd=new Map,dd=new Map,Ps=[],zV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DP(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":hd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(e.pointerId)}}function ih(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=nf(e),e!==null&&rA(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jV(t,e,r,n,i){switch(e){case"focusin":return Gs=ih(Gs,t,e,r,n,i),!0;case"dragenter":return Hs=ih(Hs,t,e,r,n,i),!0;case"mouseover":return Vs=ih(Vs,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return hd.set(a,ih(hd.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,dd.set(a,ih(dd.get(a)||null,t,e,r,n,i)),!0}return!1}function m4(t){var e=Zo(t.target);if(e!==null){var r=Il(e);if(r!==null){if(e=r.tag,e===13){if(e=i4(r),e!==null){t.blockedOn=e,v4(t.priority,function(){f4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=AS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wS=n,r.target.dispatchEvent(n),wS=null}else return e=nf(r),e!==null&&rA(e),t.blockedOn=r,!1;e.shift()}return!0}function OP(t,e,r){Qp(t)&&r.delete(e)}function UV(){TS=!1,Gs!==null&&Qp(Gs)&&(Gs=null),Hs!==null&&Qp(Hs)&&(Hs=null),Vs!==null&&Qp(Vs)&&(Vs=null),hd.forEach(OP),dd.forEach(OP)}function ah(t,e){t.blockedOn===e&&(t.blockedOn=null,TS||(TS=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,UV)))}function fd(t){function e(i){return ah(i,t)}if(0<Xf.length){ah(Xf[0],t);for(var r=1;r<Xf.length;r++){var n=Xf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Gs!==null&&ah(Gs,t),Hs!==null&&ah(Hs,t),Vs!==null&&ah(Vs,t),hd.forEach(e),dd.forEach(e),r=0;r<Ps.length;r++)n=Ps[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)m4(r),r.blockedOn===null&&Ps.shift()}var Lu=os.ReactCurrentBatchConfig,Bv=!0;function $V(t,e,r,n){var i=ct,a=Lu.transition;Lu.transition=null;try{ct=1,nA(t,e,r,n)}finally{ct=i,Lu.transition=a}}function GV(t,e,r,n){var i=ct,a=Lu.transition;Lu.transition=null;try{ct=4,nA(t,e,r,n)}finally{ct=i,Lu.transition=a}}function nA(t,e,r,n){if(Bv){var i=AS(t,e,r,n);if(i===null)h0(t,e,n,Fv,r),DP(t,n);else if(jV(i,t,e,r,n))n.stopPropagation();else if(DP(t,n),e&4&&-1<zV.indexOf(t)){for(;i!==null;){var a=nf(i);if(a!==null&&d4(a),a=AS(t,e,r,n),a===null&&h0(t,e,n,Fv,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else h0(t,e,n,null,r)}}var Fv=null;function AS(t,e,r,n){if(Fv=null,t=JT(n),t=Zo(t),t!==null)if(e=Il(t),e===null)t=null;else if(r=e.tag,r===13){if(t=i4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fv=t,null}function g4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IV()){case eA:return 1;case l4:return 4;case Nv:case kV:return 16;case u4:return 536870912;default:return 16}default:return 16}}var Ns=null,iA=null,Jp=null;function y4(){if(Jp)return Jp;var t,e=iA,r=e.length,n,i="value"in Ns?Ns.value:Ns.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Jp=i.slice(t,1<n?1-n:void 0)}function ev(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yf(){return!0}function NP(){return!1}function Fn(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yf:NP,this.isPropagationStopped=NP,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aA=Fn(Sc),rf=Lt({},Sc,{view:0,detail:0}),HV=Fn(rf),r0,n0,sh,eg=Lt({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sh&&(sh&&t.type==="mousemove"?(r0=t.screenX-sh.screenX,n0=t.screenY-sh.screenY):n0=r0=0,sh=t),r0)},movementY:function(t){return"movementY"in t?t.movementY:n0}}),LP=Fn(eg),VV=Lt({},eg,{dataTransfer:0}),WV=Fn(VV),qV=Lt({},rf,{relatedTarget:0}),i0=Fn(qV),XV=Lt({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),YV=Fn(XV),KV=Lt({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZV=Fn(KV),QV=Lt({},Sc,{data:0}),BP=Fn(QV),JV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tW[t])?!!e[t]:!1}function sA(){return rW}var nW=Lt({},rf,{key:function(t){if(t.key){var e=JV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ev(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sA,charCode:function(t){return t.type==="keypress"?ev(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ev(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iW=Fn(nW),aW=Lt({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FP=Fn(aW),sW=Lt({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sA}),oW=Fn(sW),lW=Lt({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),uW=Fn(lW),cW=Lt({},eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hW=Fn(cW),dW=[9,13,27,32],oA=Xa&&"CompositionEvent"in window,Xh=null;Xa&&"documentMode"in document&&(Xh=document.documentMode);var fW=Xa&&"TextEvent"in window&&!Xh,b4=Xa&&(!oA||Xh&&8<Xh&&11>=Xh),zP=" ",jP=!1;function x4(t,e){switch(t){case"keyup":return dW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gu=!1;function pW(t,e){switch(t){case"compositionend":return w4(e);case"keypress":return e.which!==32?null:(jP=!0,zP);case"textInput":return t=e.data,t===zP&&jP?null:t;default:return null}}function vW(t,e){if(gu)return t==="compositionend"||!oA&&x4(t,e)?(t=y4(),Jp=iA=Ns=null,gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b4&&e.locale!=="ko"?null:e.data;default:return null}}var mW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mW[t.type]:e==="textarea"}function _4(t,e,r,n){J5(n),e=zv(e,"onChange"),0<e.length&&(r=new aA("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yh=null,pd=null;function gW(t){D4(t,0)}function tg(t){var e=xu(t);if(W5(e))return t}function yW(t,e){if(t==="change")return e}var E4=!1;if(Xa){var a0;if(Xa){var s0="oninput"in document;if(!s0){var $P=document.createElement("div");$P.setAttribute("oninput","return;"),s0=typeof $P.oninput=="function"}a0=s0}else a0=!1;E4=a0&&(!document.documentMode||9<document.documentMode)}function GP(){Yh&&(Yh.detachEvent("onpropertychange",S4),pd=Yh=null)}function S4(t){if(t.propertyName==="value"&&tg(pd)){var e=[];_4(e,pd,t,JT(t)),n4(gW,e)}}function bW(t,e,r){t==="focusin"?(GP(),Yh=e,pd=r,Yh.attachEvent("onpropertychange",S4)):t==="focusout"&&GP()}function xW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tg(pd)}function wW(t,e){if(t==="click")return tg(e)}function _W(t,e){if(t==="input"||t==="change")return tg(e)}function EW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fi=typeof Object.is=="function"?Object.is:EW;function vd(t,e){if(Fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!uS.call(e,i)||!Fi(t[i],e[i]))return!1}return!0}function HP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VP(t,e){var r=HP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HP(r)}}function C4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T4(){for(var t=window,e=Mv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mv(t.document)}return e}function lA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SW(t){var e=T4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&C4(r.ownerDocument.documentElement,r)){if(n!==null&&lA(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=VP(r,a);var s=VP(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CW=Xa&&"documentMode"in document&&11>=document.documentMode,yu=null,RS=null,Kh=null,PS=!1;function WP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;PS||yu==null||yu!==Mv(n)||(n=yu,"selectionStart"in n&&lA(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kh&&vd(Kh,n)||(Kh=n,n=zv(RS,"onSelect"),0<n.length&&(e=new aA("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=yu)))}function Kf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var bu={animationend:Kf("Animation","AnimationEnd"),animationiteration:Kf("Animation","AnimationIteration"),animationstart:Kf("Animation","AnimationStart"),transitionend:Kf("Transition","TransitionEnd")},o0={},A4={};Xa&&(A4=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function rg(t){if(o0[t])return o0[t];if(!bu[t])return t;var e=bu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in A4)return o0[t]=e[r];return t}var R4=rg("animationend"),P4=rg("animationiteration"),I4=rg("animationstart"),k4=rg("transitionend"),M4=new Map,qP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(t,e){M4.set(t,e),Pl(e,[t])}for(var l0=0;l0<qP.length;l0++){var u0=qP[l0],TW=u0.toLowerCase(),AW=u0[0].toUpperCase()+u0.slice(1);vo(TW,"on"+AW)}vo(R4,"onAnimationEnd");vo(P4,"onAnimationIteration");vo(I4,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(k4,"onTransitionEnd");rc("onMouseEnter",["mouseout","mouseover"]);rc("onMouseLeave",["mouseout","mouseover"]);rc("onPointerEnter",["pointerout","pointerover"]);rc("onPointerLeave",["pointerout","pointerover"]);Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ih));function XP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,TV(n,e,void 0,t),t.currentTarget=null}function D4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;XP(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;XP(i,o,u),a=l}}}if(Ov)throw t=SS,Ov=!1,SS=null,t}function _t(t,e){var r=e[OS];r===void 0&&(r=e[OS]=new Set);var n=t+"__bubble";r.has(n)||(O4(e,t,2,!1),r.add(n))}function c0(t,e,r){var n=0;e&&(n|=4),O4(r,t,n,e)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[Zf]){t[Zf]=!0,U5.forEach(function(r){r!=="selectionchange"&&(RW.has(r)||c0(r,!1,t),c0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zf]||(e[Zf]=!0,c0("selectionchange",!1,e))}}function O4(t,e,r,n){switch(g4(e)){case 1:var i=$V;break;case 4:i=GV;break;default:i=nA}r=i.bind(null,e,r,t),i=void 0,!ES||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function h0(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Zo(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}n4(function(){var u=a,c=JT(r),h=[];e:{var d=M4.get(t);if(d!==void 0){var f=aA,p=t;switch(t){case"keypress":if(ev(r)===0)break e;case"keydown":case"keyup":f=iW;break;case"focusin":p="focus",f=i0;break;case"focusout":p="blur",f=i0;break;case"beforeblur":case"afterblur":f=i0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=LP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=WV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=oW;break;case R4:case P4:case I4:f=YV;break;case k4:f=uW;break;case"scroll":f=HV;break;case"wheel":f=hW;break;case"copy":case"cut":case"paste":f=ZV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=FP}var g=(e&4)!==0,m=!g&&t==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var y=u,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=cd(y,v),x!=null&&g.push(gd(y,x,b)))),m)break;y=y.return}0<g.length&&(d=new f(d,p,null,r,c),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==wS&&(p=r.relatedTarget||r.fromElement)&&(Zo(p)||p[Ya]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=u,p=p?Zo(p):null,p!==null&&(m=Il(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=LP,x="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=FP,x="onPointerLeave",v="onPointerEnter",y="pointer"),m=f==null?d:xu(f),b=p==null?d:xu(p),d=new g(x,y+"leave",f,r,c),d.target=m,d.relatedTarget=b,x=null,Zo(c)===u&&(g=new g(v,y+"enter",p,r,c),g.target=b,g.relatedTarget=m,x=g),m=x,f&&p)t:{for(g=f,v=p,y=0,b=g;b;b=Hl(b))y++;for(b=0,x=v;x;x=Hl(x))b++;for(;0<y-b;)g=Hl(g),y--;for(;0<b-y;)v=Hl(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Hl(g),v=Hl(v)}g=null}else g=null;f!==null&&YP(h,d,f,g,!1),p!==null&&m!==null&&YP(h,m,p,g,!0)}}e:{if(d=u?xu(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=yW;else if(UP(d))if(E4)w=_W;else{w=xW;var E=bW}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=wW);if(w&&(w=w(t,u))){_4(h,w,r,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&mS(d,"number",d.value)}switch(E=u?xu(u):window,t){case"focusin":(UP(E)||E.contentEditable==="true")&&(yu=E,RS=u,Kh=null);break;case"focusout":Kh=RS=yu=null;break;case"mousedown":PS=!0;break;case"contextmenu":case"mouseup":case"dragend":PS=!1,WP(h,r,c);break;case"selectionchange":if(CW)break;case"keydown":case"keyup":WP(h,r,c)}var _;if(oA)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else gu?x4(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(b4&&r.locale!=="ko"&&(gu||T!=="onCompositionStart"?T==="onCompositionEnd"&&gu&&(_=y4()):(Ns=c,iA="value"in Ns?Ns.value:Ns.textContent,gu=!0)),E=zv(u,T),0<E.length&&(T=new BP(T,t,null,r,c),h.push({event:T,listeners:E}),_?T.data=_:(_=w4(r),_!==null&&(T.data=_)))),(_=fW?pW(t,r):vW(t,r))&&(u=zv(u,"onBeforeInput"),0<u.length&&(c=new BP("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=_))}D4(h,e)})}function gd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cd(t,r),a!=null&&n.unshift(gd(t,a,i)),a=cd(t,e),a!=null&&n.push(gd(t,a,i))),t=t.return}return n}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YP(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=cd(r,a),l!=null&&s.unshift(gd(r,l,o))):i||(l=cd(r,a),l!=null&&s.push(gd(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var PW=/\r\n?/g,IW=/\u0000|\uFFFD/g;function KP(t){return(typeof t=="string"?t:""+t).replace(PW,`
`).replace(IW,"")}function Qf(t,e,r){if(e=KP(e),KP(t)!==e&&r)throw Error(we(425))}function jv(){}var IS=null,kS=null;function MS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var DS=typeof setTimeout=="function"?setTimeout:void 0,kW=typeof clearTimeout=="function"?clearTimeout:void 0,ZP=typeof Promise=="function"?Promise:void 0,MW=typeof queueMicrotask=="function"?queueMicrotask:typeof ZP<"u"?function(t){return ZP.resolve(null).then(t).catch(DW)}:DS;function DW(t){setTimeout(function(){throw t})}function d0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),fd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fd(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function QP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),ua="__reactFiber$"+Cc,yd="__reactProps$"+Cc,Ya="__reactContainer$"+Cc,OS="__reactEvents$"+Cc,OW="__reactListeners$"+Cc,NW="__reactHandles$"+Cc;function Zo(t){var e=t[ua];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ya]||r[ua]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=QP(t);t!==null;){if(r=t[ua])return r;t=QP(t)}return e}t=r,r=t.parentNode}return null}function nf(t){return t=t[ua]||t[Ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function ng(t){return t[yd]||null}var NS=[],wu=-1;function mo(t){return{current:t}}function Ct(t){0>wu||(t.current=NS[wu],NS[wu]=null,wu--)}function xt(t,e){wu++,NS[wu]=t.current,t.current=e}var no={},Ur=mo(no),pn=mo(!1),cl=no;function nc(t,e){var r=t.type.contextTypes;if(!r)return no;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function Uv(){Ct(pn),Ct(Ur)}function JP(t,e,r){if(Ur.current!==no)throw Error(we(168));xt(Ur,e),xt(pn,r)}function N4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,bV(t)||"Unknown",i));return Lt({},r,n)}function $v(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,cl=Ur.current,xt(Ur,t),xt(pn,pn.current),!0}function eI(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=N4(t,e,cl),n.__reactInternalMemoizedMergedChildContext=t,Ct(pn),Ct(Ur),xt(Ur,t)):Ct(pn),xt(pn,r)}var Ba=null,ig=!1,f0=!1;function L4(t){Ba===null?Ba=[t]:Ba.push(t)}function LW(t){ig=!0,L4(t)}function go(){if(!f0&&Ba!==null){f0=!0;var t=0,e=ct;try{var r=Ba;for(ct=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ba=null,ig=!1}catch(i){throw Ba!==null&&(Ba=Ba.slice(t+1)),o4(eA,go),i}finally{ct=e,f0=!1}}return null}var _u=[],Eu=0,Gv=null,Hv=0,Vn=[],Wn=0,hl=null,Fa=1,za="";function Io(t,e){_u[Eu++]=Hv,_u[Eu++]=Gv,Gv=t,Hv=e}function B4(t,e,r){Vn[Wn++]=Fa,Vn[Wn++]=za,Vn[Wn++]=hl,hl=t;var n=Fa;t=za;var i=32-Di(n)-1;n&=~(1<<i),r+=1;var a=32-Di(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Fa=1<<32-Di(e)+i|r<<i|n,za=a+t}else Fa=1<<a|r<<i|n,za=t}function uA(t){t.return!==null&&(Io(t,1),B4(t,1,0))}function cA(t){for(;t===Gv;)Gv=_u[--Eu],_u[Eu]=null,Hv=_u[--Eu],_u[Eu]=null;for(;t===hl;)hl=Vn[--Wn],Vn[Wn]=null,za=Vn[--Wn],Vn[Wn]=null,Fa=Vn[--Wn],Vn[Wn]=null}var kn=null,In=null,Rt=!1,Si=null;function F4(t,e){var r=Yn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function tI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,In=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hl!==null?{id:Fa,overflow:za}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Yn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kn=t,In=null,!0):!1;default:return!1}}function LS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BS(t){if(Rt){var e=In;if(e){var r=e;if(!tI(t,e)){if(LS(t))throw Error(we(418));e=Ws(r.nextSibling);var n=kn;e&&tI(t,e)?F4(n,r):(t.flags=t.flags&-4097|2,Rt=!1,kn=t)}}else{if(LS(t))throw Error(we(418));t.flags=t.flags&-4097|2,Rt=!1,kn=t}}}function rI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Jf(t){if(t!==kn)return!1;if(!Rt)return rI(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!MS(t.type,t.memoizedProps)),e&&(e=In)){if(LS(t))throw z4(),Error(we(418));for(;e;)F4(t,e),e=Ws(e.nextSibling)}if(rI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){In=Ws(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}In=null}}else In=kn?Ws(t.stateNode.nextSibling):null;return!0}function z4(){for(var t=In;t;)t=Ws(t.nextSibling)}function ic(){In=kn=null,Rt=!1}function hA(t){Si===null?Si=[t]:Si.push(t)}var BW=os.ReactCurrentBatchConfig;function oh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function ep(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nI(t){var e=t._init;return e(t._payload)}function j4(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ks(v,y),v.index=0,v.sibling=null,v}function a(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,x){return y===null||y.tag!==6?(y=x0(b,v.mode,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,x){var w=b.type;return w===mu?c(v,y,b.props.children,x,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ss&&nI(w)===y.type)?(x=i(y,b.props),x.ref=oh(v,y,b),x.return=v,x):(x=ov(b.type,b.key,b.props,null,v.mode,x),x.ref=oh(v,y,b),x.return=v,x)}function u(v,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=w0(b,v.mode,x),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function c(v,y,b,x,w){return y===null||y.tag!==7?(y=il(b,v.mode,x,w),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=x0(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gf:return b=ov(y.type,y.key,y.props,null,v.mode,b),b.ref=oh(v,null,y),b.return=v,b;case vu:return y=w0(y,v.mode,b),y.return=v,y;case Ss:var x=y._init;return h(v,x(y._payload),b)}if(Rh(y)||rh(y))return y=il(y,v.mode,b,null),y.return=v,y;ep(v,y)}return null}function d(v,y,b,x){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gf:return b.key===w?l(v,y,b,x):null;case vu:return b.key===w?u(v,y,b,x):null;case Ss:return w=b._init,d(v,y,w(b._payload),x)}if(Rh(b)||rh(b))return w!==null?null:c(v,y,b,x,null);ep(v,b)}return null}function f(v,y,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,o(y,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gf:return v=v.get(x.key===null?b:x.key)||null,l(y,v,x,w);case vu:return v=v.get(x.key===null?b:x.key)||null,u(y,v,x,w);case Ss:var E=x._init;return f(v,y,b,E(x._payload),w)}if(Rh(x)||rh(x))return v=v.get(b)||null,c(y,v,x,w,null);ep(y,x)}return null}function p(v,y,b,x){for(var w=null,E=null,_=y,T=y=0,C=null;_!==null&&T<b.length;T++){_.index>T?(C=_,_=null):C=_.sibling;var P=d(v,_,b[T],x);if(P===null){_===null&&(_=C);break}t&&_&&P.alternate===null&&e(v,_),y=a(P,y,T),E===null?w=P:E.sibling=P,E=P,_=C}if(T===b.length)return r(v,_),Rt&&Io(v,T),w;if(_===null){for(;T<b.length;T++)_=h(v,b[T],x),_!==null&&(y=a(_,y,T),E===null?w=_:E.sibling=_,E=_);return Rt&&Io(v,T),w}for(_=n(v,_);T<b.length;T++)C=f(_,v,T,b[T],x),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?T:C.key),y=a(C,y,T),E===null?w=C:E.sibling=C,E=C);return t&&_.forEach(function(M){return e(v,M)}),Rt&&Io(v,T),w}function g(v,y,b,x){var w=rh(b);if(typeof w!="function")throw Error(we(150));if(b=w.call(b),b==null)throw Error(we(151));for(var E=w=null,_=y,T=y=0,C=null,P=b.next();_!==null&&!P.done;T++,P=b.next()){_.index>T?(C=_,_=null):C=_.sibling;var M=d(v,_,P.value,x);if(M===null){_===null&&(_=C);break}t&&_&&M.alternate===null&&e(v,_),y=a(M,y,T),E===null?w=M:E.sibling=M,E=M,_=C}if(P.done)return r(v,_),Rt&&Io(v,T),w;if(_===null){for(;!P.done;T++,P=b.next())P=h(v,P.value,x),P!==null&&(y=a(P,y,T),E===null?w=P:E.sibling=P,E=P);return Rt&&Io(v,T),w}for(_=n(v,_);!P.done;T++,P=b.next())P=f(_,v,T,P.value,x),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?T:P.key),y=a(P,y,T),E===null?w=P:E.sibling=P,E=P);return t&&_.forEach(function(R){return e(v,R)}),Rt&&Io(v,T),w}function m(v,y,b,x){if(typeof b=="object"&&b!==null&&b.type===mu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gf:e:{for(var w=b.key,E=y;E!==null;){if(E.key===w){if(w=b.type,w===mu){if(E.tag===7){r(v,E.sibling),y=i(E,b.props.children),y.return=v,v=y;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ss&&nI(w)===E.type){r(v,E.sibling),y=i(E,b.props),y.ref=oh(v,E,b),y.return=v,v=y;break e}r(v,E);break}else e(v,E);E=E.sibling}b.type===mu?(y=il(b.props.children,v.mode,x,b.key),y.return=v,v=y):(x=ov(b.type,b.key,b.props,null,v.mode,x),x.ref=oh(v,y,b),x.return=v,v=x)}return s(v);case vu:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else e(v,y);y=y.sibling}y=w0(b,v.mode,x),y.return=v,v=y}return s(v);case Ss:return E=b._init,m(v,y,E(b._payload),x)}if(Rh(b))return p(v,y,b,x);if(rh(b))return g(v,y,b,x);ep(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=i(y,b),y.return=v,v=y):(r(v,y),y=x0(b,v.mode,x),y.return=v,v=y),s(v)):r(v,y)}return m}var ac=j4(!0),U4=j4(!1),Vv=mo(null),Wv=null,Su=null,dA=null;function fA(){dA=Su=Wv=null}function pA(t){var e=Vv.current;Ct(Vv),t._currentValue=e}function FS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bu(t,e){Wv=t,dA=Su=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function ti(t){var e=t._currentValue;if(dA!==t)if(t={context:t,memoizedValue:e,next:null},Su===null){if(Wv===null)throw Error(we(308));Su=t,Wv.dependencies={lanes:0,firstContext:t}}else Su=Su.next=t;return e}var Qo=null;function vA(t){Qo===null?Qo=[t]:Qo.push(t)}function $4(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,vA(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ka(t,n)}function Ka(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Cs=!1;function mA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ha(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ka(t,r)}return i=n.interleaved,i===null?(e.next=e,vA(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ka(t,r)}function tv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tA(t,r)}}function iI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qv(t,e,r,n){var i=t.updateQueue;Cs=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane,f=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,g=o;switch(d=e,f=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Lt({},h,d);break e;case 2:Cs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);fl|=s,t.lanes=s,t.memoizedState=h}}function aI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var af={},ga=mo(af),bd=mo(af),xd=mo(af);function Jo(t){if(t===af)throw Error(we(174));return t}function gA(t,e){switch(xt(xd,e),xt(bd,t),xt(ga,af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yS(e,t)}Ct(ga),xt(ga,e)}function sc(){Ct(ga),Ct(bd),Ct(xd)}function H4(t){Jo(xd.current);var e=Jo(ga.current),r=yS(e,t.type);e!==r&&(xt(bd,t),xt(ga,r))}function yA(t){bd.current===t&&(Ct(ga),Ct(bd))}var kt=mo(0);function Xv(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p0=[];function bA(){for(var t=0;t<p0.length;t++)p0[t]._workInProgressVersionPrimary=null;p0.length=0}var rv=os.ReactCurrentDispatcher,v0=os.ReactCurrentBatchConfig,dl=0,Ot=null,rr=null,mr=null,Yv=!1,Zh=!1,wd=0,FW=0;function Nr(){throw Error(we(321))}function xA(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Fi(t[r],e[r]))return!1;return!0}function wA(t,e,r,n,i,a){if(dl=a,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rv.current=t===null||t.memoizedState===null?$W:GW,t=r(n,i),Zh){a=0;do{if(Zh=!1,wd=0,25<=a)throw Error(we(301));a+=1,mr=rr=null,e.updateQueue=null,rv.current=HW,t=r(n,i)}while(Zh)}if(rv.current=Kv,e=rr!==null&&rr.next!==null,dl=0,mr=rr=Ot=null,Yv=!1,e)throw Error(we(300));return t}function _A(){var t=wd!==0;return wd=0,t}function ia(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Ot.memoizedState=mr=t:mr=mr.next=t,mr}function ri(){if(rr===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=rr.next;var e=mr===null?Ot.memoizedState:mr.next;if(e!==null)mr=e,rr=t;else{if(t===null)throw Error(we(310));rr=t,t={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},mr===null?Ot.memoizedState=mr=t:mr=mr.next=t}return mr}function _d(t,e){return typeof e=="function"?e(t):e}function m0(t){var e=ri(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=rr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((dl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=n):l=l.next=h,Ot.lanes|=c,fl|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Fi(n,e.memoizedState)||(hn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Ot.lanes|=a,fl|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function g0(t){var e=ri(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Fi(a,e.memoizedState)||(hn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function V4(){}function W4(t,e){var r=Ot,n=ri(),i=e(),a=!Fi(n.memoizedState,i);if(a&&(n.memoizedState=i,hn=!0),n=n.queue,EA(Y4.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||mr!==null&&mr.memoizedState.tag&1){if(r.flags|=2048,Ed(9,X4.bind(null,r,n,i,e),void 0,null),xr===null)throw Error(we(349));dl&30||q4(r,e,i)}return i}function q4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function X4(t,e,r,n){e.value=r,e.getSnapshot=n,K4(e)&&Z4(t)}function Y4(t,e,r){return r(function(){K4(e)&&Z4(t)})}function K4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Fi(t,r)}catch{return!0}}function Z4(t){var e=Ka(t,1);e!==null&&Oi(e,t,1,-1)}function sI(t){var e=ia();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:t},e.queue=t,t=t.dispatch=UW.bind(null,Ot,t),[e.memoizedState,t]}function Ed(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Q4(){return ri().memoizedState}function nv(t,e,r,n){var i=ia();Ot.flags|=t,i.memoizedState=Ed(1|e,r,void 0,n===void 0?null:n)}function ag(t,e,r,n){var i=ri();n=n===void 0?null:n;var a=void 0;if(rr!==null){var s=rr.memoizedState;if(a=s.destroy,n!==null&&xA(n,s.deps)){i.memoizedState=Ed(e,r,a,n);return}}Ot.flags|=t,i.memoizedState=Ed(1|e,r,a,n)}function oI(t,e){return nv(8390656,8,t,e)}function EA(t,e){return ag(2048,8,t,e)}function J4(t,e){return ag(4,2,t,e)}function ez(t,e){return ag(4,4,t,e)}function tz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rz(t,e,r){return r=r!=null?r.concat([t]):null,ag(4,4,tz.bind(null,e,t),r)}function SA(){}function nz(t,e){var r=ri();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xA(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function iz(t,e){var r=ri();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xA(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function az(t,e,r){return dl&21?(Fi(r,e)||(r=c4(),Ot.lanes|=r,fl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=r)}function zW(t,e){var r=ct;ct=r!==0&&4>r?r:4,t(!0);var n=v0.transition;v0.transition={};try{t(!1),e()}finally{ct=r,v0.transition=n}}function sz(){return ri().memoizedState}function jW(t,e,r){var n=Ys(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oz(t))lz(e,r);else if(r=$4(t,e,r,n),r!==null){var i=rn();Oi(r,t,n,i),uz(r,e,n)}}function UW(t,e,r){var n=Ys(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oz(t))lz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Fi(o,s)){var l=e.interleaved;l===null?(i.next=i,vA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=$4(t,e,i,n),r!==null&&(i=rn(),Oi(r,t,n,i),uz(r,e,n))}}function oz(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function lz(t,e){Zh=Yv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function uz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tA(t,r)}}var Kv={readContext:ti,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},$W={readContext:ti,useCallback:function(t,e){return ia().memoizedState=[t,e===void 0?null:e],t},useContext:ti,useEffect:oI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,nv(4194308,4,tz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return nv(4194308,4,t,e)},useInsertionEffect:function(t,e){return nv(4,2,t,e)},useMemo:function(t,e){var r=ia();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ia();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=jW.bind(null,Ot,t),[n.memoizedState,t]},useRef:function(t){var e=ia();return t={current:t},e.memoizedState=t},useState:sI,useDebugValue:SA,useDeferredValue:function(t){return ia().memoizedState=t},useTransition:function(){var t=sI(!1),e=t[0];return t=zW.bind(null,t[1]),ia().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ot,i=ia();if(Rt){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),xr===null)throw Error(we(349));dl&30||q4(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,oI(Y4.bind(null,n,a,t),[t]),n.flags|=2048,Ed(9,X4.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ia(),e=xr.identifierPrefix;if(Rt){var r=za,n=Fa;r=(n&~(1<<32-Di(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FW++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GW={readContext:ti,useCallback:nz,useContext:ti,useEffect:EA,useImperativeHandle:rz,useInsertionEffect:J4,useLayoutEffect:ez,useMemo:iz,useReducer:m0,useRef:Q4,useState:function(){return m0(_d)},useDebugValue:SA,useDeferredValue:function(t){var e=ri();return az(e,rr.memoizedState,t)},useTransition:function(){var t=m0(_d)[0],e=ri().memoizedState;return[t,e]},useMutableSource:V4,useSyncExternalStore:W4,useId:sz,unstable_isNewReconciler:!1},HW={readContext:ti,useCallback:nz,useContext:ti,useEffect:EA,useImperativeHandle:rz,useInsertionEffect:J4,useLayoutEffect:ez,useMemo:iz,useReducer:g0,useRef:Q4,useState:function(){return g0(_d)},useDebugValue:SA,useDeferredValue:function(t){var e=ri();return rr===null?e.memoizedState=t:az(e,rr.memoizedState,t)},useTransition:function(){var t=g0(_d)[0],e=ri().memoizedState;return[t,e]},useMutableSource:V4,useSyncExternalStore:W4,useId:sz,unstable_isNewReconciler:!1};function xi(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function zS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var sg={isMounted:function(t){return(t=t._reactInternals)?Il(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=rn(),i=Ys(t),a=Ha(n,i);a.payload=e,r!=null&&(a.callback=r),e=qs(t,a,i),e!==null&&(Oi(e,t,i,n),tv(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=rn(),i=Ys(t),a=Ha(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=qs(t,a,i),e!==null&&(Oi(e,t,i,n),tv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=rn(),n=Ys(t),i=Ha(r,n);i.tag=2,e!=null&&(i.callback=e),e=qs(t,i,n),e!==null&&(Oi(e,t,n,r),tv(e,t,n))}};function lI(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!vd(r,n)||!vd(i,a):!0}function cz(t,e,r){var n=!1,i=no,a=e.contextType;return typeof a=="object"&&a!==null?a=ti(a):(i=vn(e)?cl:Ur.current,n=e.contextTypes,a=(n=n!=null)?nc(t,i):no),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function uI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&sg.enqueueReplaceState(e,e.state,null)}function jS(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},mA(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ti(a):(a=vn(e)?cl:Ur.current,i.context=nc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(zS(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sg.enqueueReplaceState(i,i.state,null),qv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oc(t,e){try{var r="",n=e;do r+=yV(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function y0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function US(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var VW=typeof WeakMap=="function"?WeakMap:Map;function hz(t,e,r){r=Ha(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Qv||(Qv=!0,ZS=n),US(t,e)},r}function dz(t,e,r){r=Ha(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){US(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){US(t,e),typeof n!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function cI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new VW;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=a7.bind(null,t,e,r),e.then(t,t))}function hI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ha(-1,1),e.tag=2,qs(r,e,1))),r.lanes|=1),t)}var WW=os.ReactCurrentOwner,hn=!1;function Jr(t,e,r,n){e.child=t===null?U4(e,null,r,n):ac(e,t.child,r,n)}function fI(t,e,r,n,i){r=r.render;var a=e.ref;return Bu(e,i),n=wA(t,e,r,n,a,i),r=_A(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(Rt&&r&&uA(e),e.flags|=1,Jr(t,e,n,i),e.child)}function pI(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!MA(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,fz(t,e,a,n,i)):(t=ov(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:vd,r(s,n)&&t.ref===e.ref)return Za(t,e,i)}return e.flags|=1,t=Ks(a,n),t.ref=e.ref,t.return=e,e.child=t}function fz(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(vd(a,n)&&t.ref===e.ref)if(hn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Za(t,e,i)}return $S(t,e,r,n,i)}function pz(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Tu,An),An|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Tu,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,xt(Tu,An),An|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,xt(Tu,An),An|=n;return Jr(t,e,i,r),e.child}function vz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $S(t,e,r,n,i){var a=vn(r)?cl:Ur.current;return a=nc(e,a),Bu(e,i),r=wA(t,e,r,n,a,i),n=_A(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Za(t,e,i)):(Rt&&n&&uA(e),e.flags|=1,Jr(t,e,r,i),e.child)}function vI(t,e,r,n,i){if(vn(r)){var a=!0;$v(e)}else a=!1;if(Bu(e,i),e.stateNode===null)iv(t,e),cz(e,r,n),jS(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ti(u):(u=vn(r)?cl:Ur.current,u=nc(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&uI(e,s,n,u),Cs=!1;var d=e.memoizedState;s.state=d,qv(e,n,s,i),l=e.memoizedState,o!==n||d!==l||pn.current||Cs?(typeof c=="function"&&(zS(e,r,c,n),l=e.memoizedState),(o=Cs||lI(e,r,o,n,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,G4(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:xi(e.type,o),s.props=u,h=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ti(l):(l=vn(r)?cl:Ur.current,l=nc(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||d!==l)&&uI(e,s,n,l),Cs=!1,d=e.memoizedState,s.state=d,qv(e,n,s,i);var p=e.memoizedState;o!==h||d!==p||pn.current||Cs?(typeof f=="function"&&(zS(e,r,f,n),p=e.memoizedState),(u=Cs||lI(e,r,u,n,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return GS(t,e,r,n,a,i)}function GS(t,e,r,n,i,a){vz(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&eI(e,r,!1),Za(t,e,a);n=e.stateNode,WW.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=ac(e,t.child,null,a),e.child=ac(e,null,o,a)):Jr(t,e,o,a),e.memoizedState=n.state,i&&eI(e,r,!0),e.child}function mz(t){var e=t.stateNode;e.pendingContext?JP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JP(t,e.context,!1),gA(t,e.containerInfo)}function mI(t,e,r,n,i){return ic(),hA(i),e.flags|=256,Jr(t,e,r,n),e.child}var HS={dehydrated:null,treeContext:null,retryLane:0};function VS(t){return{baseLanes:t,cachePool:null,transitions:null}}function gz(t,e,r){var n=e.pendingProps,i=kt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(kt,i&1),t===null)return BS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ug(s,n,0,null),t=il(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=VS(r),e.memoizedState=HS,t):CA(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qW(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ks(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ks(o,a):(a=il(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?VS(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=HS,n}return a=t.child,t=a.sibling,n=Ks(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function CA(t,e){return e=ug({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tp(t,e,r,n){return n!==null&&hA(n),ac(e,t.child,null,r),t=CA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qW(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=y0(Error(we(422))),tp(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=ug({mode:"visible",children:n.children},i,0,null),a=il(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ac(e,t.child,null,s),e.child.memoizedState=VS(s),e.memoizedState=HS,a);if(!(e.mode&1))return tp(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(we(419)),n=y0(a,n,void 0),tp(t,e,s,n)}if(o=(s&t.childLanes)!==0,hn||o){if(n=xr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ka(t,i),Oi(n,t,i,-1))}return kA(),n=y0(Error(we(421))),tp(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s7.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,In=Ws(i.nextSibling),kn=e,Rt=!0,Si=null,t!==null&&(Vn[Wn++]=Fa,Vn[Wn++]=za,Vn[Wn++]=hl,Fa=t.id,za=t.overflow,hl=e),e=CA(e,n.children),e.flags|=4096,e)}function gI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),FS(t.return,e,r)}function b0(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function yz(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Jr(t,e,n.children,r),n=kt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gI(t,r,e);else if(t.tag===19)gI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(kt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Xv(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),b0(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xv(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}b0(e,!0,r,null,a);break;case"together":b0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Za(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=Ks(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ks(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function XW(t,e,r){switch(e.tag){case 3:mz(e),ic();break;case 5:H4(e);break;case 1:vn(e.type)&&$v(e);break;case 4:gA(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;xt(Vv,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(kt,kt.current&1),e.flags|=128,null):r&e.child.childLanes?gz(t,e,r):(xt(kt,kt.current&1),t=Za(t,e,r),t!==null?t.sibling:null);xt(kt,kt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return yz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(kt,kt.current),n)break;return null;case 22:case 23:return e.lanes=0,pz(t,e,r)}return Za(t,e,r)}var bz,WS,xz,wz;bz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};WS=function(){};xz=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Jo(ga.current);var a=null;switch(r){case"input":i=pS(t,i),n=pS(t,n),a=[];break;case"select":i=Lt({},i,{value:void 0}),n=Lt({},n,{value:void 0}),a=[];break;case"textarea":i=gS(t,i),n=gS(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jv)}bS(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ld.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ld.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_t("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};wz=function(t,e,r,n){r!==n&&(e.flags|=4)};function lh(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function YW(t,e,r){var n=e.pendingProps;switch(cA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return vn(e.type)&&Uv(),Lr(e),null;case 3:return n=e.stateNode,sc(),Ct(pn),Ct(Ur),bA(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Jf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Si!==null&&(eC(Si),Si=null))),WS(t,e),Lr(e),null;case 5:yA(e);var i=Jo(xd.current);if(r=e.type,t!==null&&e.stateNode!=null)xz(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return Lr(e),null}if(t=Jo(ga.current),Jf(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ua]=e,n[yd]=a,t=(e.mode&1)!==0,r){case"dialog":_t("cancel",n),_t("close",n);break;case"iframe":case"object":case"embed":_t("load",n);break;case"video":case"audio":for(i=0;i<Ih.length;i++)_t(Ih[i],n);break;case"source":_t("error",n);break;case"img":case"image":case"link":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"input":TP(n,a),_t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},_t("invalid",n);break;case"textarea":RP(n,a),_t("invalid",n)}bS(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Qf(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Qf(n.textContent,o,t),i=["children",""+o]):ld.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&_t("scroll",n)}switch(r){case"input":Hf(n),AP(n,a,!0);break;case"textarea":Hf(n),PP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jv)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ua]=e,t[yd]=n,bz(t,e,!1,!1),e.stateNode=t;e:{switch(s=xS(r,n),r){case"dialog":_t("cancel",t),_t("close",t),i=n;break;case"iframe":case"object":case"embed":_t("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ih.length;i++)_t(Ih[i],t);i=n;break;case"source":_t("error",t),i=n;break;case"img":case"image":case"link":_t("error",t),_t("load",t),i=n;break;case"details":_t("toggle",t),i=n;break;case"input":TP(t,n),i=pS(t,n),_t("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Lt({},n,{value:void 0}),_t("invalid",t);break;case"textarea":RP(t,n),i=gS(t,n),_t("invalid",t);break;default:i=n}bS(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Q5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K5(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ud(t,l):typeof l=="number"&&ud(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ld.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_t("scroll",t):l!=null&&YT(t,a,l,s))}switch(r){case"input":Hf(t),AP(t,n,!1);break;case"textarea":Hf(t),PP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ro(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Du(t,!!n.multiple,a,!1):n.defaultValue!=null&&Du(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)wz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=Jo(xd.current),Jo(ga.current),Jf(e)){if(n=e.stateNode,r=e.memoizedProps,n[ua]=e,(a=n.nodeValue!==r)&&(t=kn,t!==null))switch(t.tag){case 3:Qf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qf(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ua]=e,e.stateNode=n}return Lr(e),null;case 13:if(Ct(kt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&In!==null&&e.mode&1&&!(e.flags&128))z4(),ic(),e.flags|=98560,a=!1;else if(a=Jf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[ua]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),a=!1}else Si!==null&&(eC(Si),Si=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?ar===0&&(ar=3):kA())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return sc(),WS(t,e),t===null&&md(e.stateNode.containerInfo),Lr(e),null;case 10:return pA(e.type._context),Lr(e),null;case 17:return vn(e.type)&&Uv(),Lr(e),null;case 19:if(Ct(kt),a=e.memoizedState,a===null)return Lr(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)lh(a,!1);else{if(ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xv(t),s!==null){for(e.flags|=128,lh(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(kt,kt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Vt()>lc&&(e.flags|=128,n=!0,lh(a,!1),e.lanes=4194304)}else{if(!n)if(t=Xv(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),lh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Rt)return Lr(e),null}else 2*Vt()-a.renderingStartTime>lc&&r!==1073741824&&(e.flags|=128,n=!0,lh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Vt(),e.sibling=null,r=kt.current,xt(kt,n?r&1|2:r&1),e):(Lr(e),null);case 22:case 23:return IA(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?An&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function KW(t,e){switch(cA(e),e.tag){case 1:return vn(e.type)&&Uv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sc(),Ct(pn),Ct(Ur),bA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yA(e),null;case 13:if(Ct(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(kt),null;case 4:return sc(),null;case 10:return pA(e.type._context),null;case 22:case 23:return IA(),null;case 24:return null;default:return null}}var rp=!1,Br=!1,ZW=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Cu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jt(t,e,n)}else r.current=null}function qS(t,e,r){try{r()}catch(n){jt(t,e,n)}}var yI=!1;function QW(t,e){if(IS=Bv,t=T4(),lA(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(o=s+i),h!==a||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++u===i&&(o=s),d===a&&++c===n&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kS={focusedElem:t,selectionRange:r},Bv=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:xi(e.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(x){jt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return p=yI,yI=!1,p}function Qh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qS(e,r,a)}i=i.next}while(i!==n)}}function og(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function XS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _z(t){var e=t.alternate;e!==null&&(t.alternate=null,_z(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ua],delete e[yd],delete e[OS],delete e[OW],delete e[NW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ez(t){return t.tag===5||t.tag===3||t.tag===4}function bI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ez(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function YS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jv));else if(n!==4&&(t=t.child,t!==null))for(YS(t,e,r),t=t.sibling;t!==null;)YS(t,e,r),t=t.sibling}function KS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(KS(t,e,r),t=t.sibling;t!==null;)KS(t,e,r),t=t.sibling}var Sr=null,_i=!1;function gs(t,e,r){for(r=r.child;r!==null;)Sz(t,e,r),r=r.sibling}function Sz(t,e,r){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(Jm,r)}catch{}switch(r.tag){case 5:Br||Cu(r,e);case 6:var n=Sr,i=_i;Sr=null,gs(t,e,r),Sr=n,_i=i,Sr!==null&&(_i?(t=Sr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Sr.removeChild(r.stateNode));break;case 18:Sr!==null&&(_i?(t=Sr,r=r.stateNode,t.nodeType===8?d0(t.parentNode,r):t.nodeType===1&&d0(t,r),fd(t)):d0(Sr,r.stateNode));break;case 4:n=Sr,i=_i,Sr=r.stateNode.containerInfo,_i=!0,gs(t,e,r),Sr=n,_i=i;break;case 0:case 11:case 14:case 15:if(!Br&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qS(r,e,s),i=i.next}while(i!==n)}gs(t,e,r);break;case 1:if(!Br&&(Cu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){jt(r,e,o)}gs(t,e,r);break;case 21:gs(t,e,r);break;case 22:r.mode&1?(Br=(n=Br)||r.memoizedState!==null,gs(t,e,r),Br=n):gs(t,e,r);break;default:gs(t,e,r)}}function xI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ZW),e.forEach(function(n){var i=o7.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Sr=o.stateNode,_i=!1;break e;case 3:Sr=o.stateNode.containerInfo,_i=!0;break e;case 4:Sr=o.stateNode.containerInfo,_i=!0;break e}o=o.return}if(Sr===null)throw Error(we(160));Sz(a,s,i),Sr=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cz(e,t),e=e.sibling}function Cz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pi(e,t),Yi(t),n&4){try{Qh(3,t,t.return),og(3,t)}catch(g){jt(t,t.return,g)}try{Qh(5,t,t.return)}catch(g){jt(t,t.return,g)}}break;case 1:pi(e,t),Yi(t),n&512&&r!==null&&Cu(r,r.return);break;case 5:if(pi(e,t),Yi(t),n&512&&r!==null&&Cu(r,r.return),t.flags&32){var i=t.stateNode;try{ud(i,"")}catch(g){jt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&q5(i,a),xS(o,s);var u=xS(o,a);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?Q5(i,h):c==="dangerouslySetInnerHTML"?K5(i,h):c==="children"?ud(i,h):YT(i,c,h,u)}switch(o){case"input":vS(i,a);break;case"textarea":X5(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Du(i,!!a.multiple,f,!1):d!==!!a.multiple&&(a.defaultValue!=null?Du(i,!!a.multiple,a.defaultValue,!0):Du(i,!!a.multiple,a.multiple?[]:"",!1))}i[yd]=a}catch(g){jt(t,t.return,g)}}break;case 6:if(pi(e,t),Yi(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){jt(t,t.return,g)}}break;case 3:if(pi(e,t),Yi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fd(e.containerInfo)}catch(g){jt(t,t.return,g)}break;case 4:pi(e,t),Yi(t);break;case 13:pi(e,t),Yi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(RA=Vt())),n&4&&xI(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Br=(u=Br)||c,pi(e,t),Br=u):pi(e,t),Yi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ie=t,c=t.child;c!==null;){for(h=Ie=c;Ie!==null;){switch(d=Ie,f=d.child,d.tag){case 0:case 11:case 14:case 15:Qh(4,d,d.return);break;case 1:Cu(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){jt(n,r,g)}}break;case 5:Cu(d,d.return);break;case 22:if(d.memoizedState!==null){_I(h);continue}}f!==null?(f.return=d,Ie=f):_I(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Z5("display",s))}catch(g){jt(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pi(e,t),Yi(t),n&4&&xI(t);break;case 21:break;default:pi(e,t),Yi(t)}}function Yi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ez(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ud(i,""),n.flags&=-33);var a=bI(t);KS(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=bI(t);YS(t,o,s);break;default:throw Error(we(161))}}catch(l){jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JW(t,e,r){Ie=t,Tz(t)}function Tz(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var i=Ie,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||rp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Br;o=rp;var u=Br;if(rp=s,(Br=l)&&!u)for(Ie=i;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?EI(i):l!==null?(l.return=s,Ie=l):EI(i);for(;a!==null;)Ie=a,Tz(a),a=a.sibling;Ie=i,rp=o,Br=u}wI(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ie=a):wI(t)}}function wI(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||og(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Br)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:xi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&aI(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}aI(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&fd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Br||e.flags&512&&XS(e)}catch(d){jt(e,e.return,d)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function _I(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function EI(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{og(4,e)}catch(l){jt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){jt(e,i,l)}}var a=e.return;try{XS(e)}catch(l){jt(e,a,l)}break;case 5:var s=e.return;try{XS(e)}catch(l){jt(e,s,l)}}}catch(l){jt(e,e.return,l)}if(e===t){Ie=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ie=o;break}Ie=e.return}}var e7=Math.ceil,Zv=os.ReactCurrentDispatcher,TA=os.ReactCurrentOwner,Jn=os.ReactCurrentBatchConfig,et=0,xr=null,Xt=null,Ar=0,An=0,Tu=mo(0),ar=0,Sd=null,fl=0,lg=0,AA=0,Jh=null,ln=null,RA=0,lc=1/0,La=null,Qv=!1,ZS=null,Xs=null,np=!1,Ls=null,Jv=0,ed=0,QS=null,av=-1,sv=0;function rn(){return et&6?Vt():av!==-1?av:av=Vt()}function Ys(t){return t.mode&1?et&2&&Ar!==0?Ar&-Ar:BW.transition!==null?(sv===0&&(sv=c4()),sv):(t=ct,t!==0||(t=window.event,t=t===void 0?16:g4(t.type)),t):1}function Oi(t,e,r,n){if(50<ed)throw ed=0,QS=null,Error(we(185));tf(t,r,n),(!(et&2)||t!==xr)&&(t===xr&&(!(et&2)&&(lg|=r),ar===4&&Is(t,Ar)),mn(t,n),r===1&&et===0&&!(e.mode&1)&&(lc=Vt()+500,ig&&go()))}function mn(t,e){var r=t.callbackNode;BV(t,e);var n=Lv(t,t===xr?Ar:0);if(n===0)r!==null&&MP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&MP(r),e===1)t.tag===0?LW(SI.bind(null,t)):L4(SI.bind(null,t)),MW(function(){!(et&6)&&go()}),r=null;else{switch(h4(n)){case 1:r=eA;break;case 4:r=l4;break;case 16:r=Nv;break;case 536870912:r=u4;break;default:r=Nv}r=Oz(r,Az.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Az(t,e){if(av=-1,sv=0,et&6)throw Error(we(327));var r=t.callbackNode;if(Fu()&&t.callbackNode!==r)return null;var n=Lv(t,t===xr?Ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=em(t,n);else{e=n;var i=et;et|=2;var a=Pz();(xr!==t||Ar!==e)&&(La=null,lc=Vt()+500,nl(t,e));do try{n7();break}catch(o){Rz(t,o)}while(!0);fA(),Zv.current=a,et=i,Xt!==null?e=0:(xr=null,Ar=0,e=ar)}if(e!==0){if(e===2&&(i=CS(t),i!==0&&(n=i,e=JS(t,i))),e===1)throw r=Sd,nl(t,0),Is(t,n),mn(t,Vt()),r;if(e===6)Is(t,n);else{if(i=t.current.alternate,!(n&30)&&!t7(i)&&(e=em(t,n),e===2&&(a=CS(t),a!==0&&(n=a,e=JS(t,a))),e===1))throw r=Sd,nl(t,0),Is(t,n),mn(t,Vt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:ko(t,ln,La);break;case 3:if(Is(t,n),(n&130023424)===n&&(e=RA+500-Vt(),10<e)){if(Lv(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=DS(ko.bind(null,t,ln,La),e);break}ko(t,ln,La);break;case 4:if(Is(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Di(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*e7(n/1960))-n,10<n){t.timeoutHandle=DS(ko.bind(null,t,ln,La),n);break}ko(t,ln,La);break;case 5:ko(t,ln,La);break;default:throw Error(we(329))}}}return mn(t,Vt()),t.callbackNode===r?Az.bind(null,t):null}function JS(t,e){var r=Jh;return t.current.memoizedState.isDehydrated&&(nl(t,e).flags|=256),t=em(t,e),t!==2&&(e=ln,ln=r,e!==null&&eC(e)),t}function eC(t){ln===null?ln=t:ln.push.apply(ln,t)}function t7(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Fi(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~AA,e&=~lg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Di(e),n=1<<r;t[r]=-1,e&=~n}}function SI(t){if(et&6)throw Error(we(327));Fu();var e=Lv(t,0);if(!(e&1))return mn(t,Vt()),null;var r=em(t,e);if(t.tag!==0&&r===2){var n=CS(t);n!==0&&(e=n,r=JS(t,n))}if(r===1)throw r=Sd,nl(t,0),Is(t,e),mn(t,Vt()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,ln,La),mn(t,Vt()),null}function PA(t,e){var r=et;et|=1;try{return t(e)}finally{et=r,et===0&&(lc=Vt()+500,ig&&go())}}function pl(t){Ls!==null&&Ls.tag===0&&!(et&6)&&Fu();var e=et;et|=1;var r=Jn.transition,n=ct;try{if(Jn.transition=null,ct=1,t)return t()}finally{ct=n,Jn.transition=r,et=e,!(et&6)&&go()}}function IA(){An=Tu.current,Ct(Tu)}function nl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,kW(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(cA(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uv();break;case 3:sc(),Ct(pn),Ct(Ur),bA();break;case 5:yA(n);break;case 4:sc();break;case 13:Ct(kt);break;case 19:Ct(kt);break;case 10:pA(n.type._context);break;case 22:case 23:IA()}r=r.return}if(xr=t,Xt=t=Ks(t.current,null),Ar=An=e,ar=0,Sd=null,AA=lg=fl=0,ln=Jh=null,Qo!==null){for(e=0;e<Qo.length;e++)if(r=Qo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Qo=null}return t}function Rz(t,e){do{var r=Xt;try{if(fA(),rv.current=Kv,Yv){for(var n=Ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yv=!1}if(dl=0,mr=rr=Ot=null,Zh=!1,wd=0,TA.current=null,r===null||r.return===null){ar=1,Sd=e,Xt=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Ar,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=hI(s);if(f!==null){f.flags&=-257,dI(f,s,o,a,e),f.mode&1&&cI(a,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){cI(a,u,e),kA();break e}l=Error(we(426))}}else if(Rt&&o.mode&1){var m=hI(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),dI(m,s,o,a,e),hA(oc(l,o));break e}}a=l=oc(l,o),ar!==4&&(ar=2),Jh===null?Jh=[a]:Jh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=hz(a,l,e);iI(a,v);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xs===null||!Xs.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var x=dz(a,o,e);iI(a,x);break e}}a=a.return}while(a!==null)}kz(r)}catch(w){e=w,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function Pz(){var t=Zv.current;return Zv.current=Kv,t===null?Kv:t}function kA(){(ar===0||ar===3||ar===2)&&(ar=4),xr===null||!(fl&268435455)&&!(lg&268435455)||Is(xr,Ar)}function em(t,e){var r=et;et|=2;var n=Pz();(xr!==t||Ar!==e)&&(La=null,nl(t,e));do try{r7();break}catch(i){Rz(t,i)}while(!0);if(fA(),et=r,Zv.current=n,Xt!==null)throw Error(we(261));return xr=null,Ar=0,ar}function r7(){for(;Xt!==null;)Iz(Xt)}function n7(){for(;Xt!==null&&!RV();)Iz(Xt)}function Iz(t){var e=Dz(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?kz(t):Xt=e,TA.current=null}function kz(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=KW(r,e),r!==null){r.flags&=32767,Xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ar=6,Xt=null;return}}else if(r=YW(r,e,An),r!==null){Xt=r;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);ar===0&&(ar=5)}function ko(t,e,r){var n=ct,i=Jn.transition;try{Jn.transition=null,ct=1,i7(t,e,r,n)}finally{Jn.transition=i,ct=n}return null}function i7(t,e,r,n){do Fu();while(Ls!==null);if(et&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(FV(t,a),t===xr&&(Xt=xr=null,Ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||np||(np=!0,Oz(Nv,function(){return Fu(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Jn.transition,Jn.transition=null;var s=ct;ct=1;var o=et;et|=4,TA.current=null,QW(t,r),Cz(r,t),SW(kS),Bv=!!IS,kS=IS=null,t.current=r,JW(r),PV(),et=o,ct=s,Jn.transition=a}else t.current=r;if(np&&(np=!1,Ls=t,Jv=i),a=t.pendingLanes,a===0&&(Xs=null),MV(r.stateNode),mn(t,Vt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Qv)throw Qv=!1,t=ZS,ZS=null,t;return Jv&1&&t.tag!==0&&Fu(),a=t.pendingLanes,a&1?t===QS?ed++:(ed=0,QS=t):ed=0,go(),null}function Fu(){if(Ls!==null){var t=h4(Jv),e=Jn.transition,r=ct;try{if(Jn.transition=null,ct=16>t?16:t,Ls===null)var n=!1;else{if(t=Ls,Ls=null,Jv=0,et&6)throw Error(we(331));var i=et;for(et|=4,Ie=t.current;Ie!==null;){var a=Ie,s=a.child;if(Ie.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ie=u;Ie!==null;){var c=Ie;switch(c.tag){case 0:case 11:case 15:Qh(8,c,a)}var h=c.child;if(h!==null)h.return=c,Ie=h;else for(;Ie!==null;){c=Ie;var d=c.sibling,f=c.return;if(_z(c),c===u){Ie=null;break}if(d!==null){d.return=f,Ie=d;break}Ie=f}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Ie=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ie=s;else e:for(;Ie!==null;){if(a=Ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ie=v;break e}Ie=a.return}}var y=t.current;for(Ie=y;Ie!==null;){s=Ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ie=b;else e:for(s=y;Ie!==null;){if(o=Ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:og(9,o)}}catch(w){jt(o,o.return,w)}if(o===s){Ie=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Ie=x;break e}Ie=o.return}}if(et=i,go(),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(Jm,t)}catch{}n=!0}return n}finally{ct=r,Jn.transition=e}}return!1}function CI(t,e,r){e=oc(r,e),e=hz(t,e,1),t=qs(t,e,1),e=rn(),t!==null&&(tf(t,1,e),mn(t,e))}function jt(t,e,r){if(t.tag===3)CI(t,t,r);else for(;e!==null;){if(e.tag===3){CI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xs===null||!Xs.has(n))){t=oc(r,t),t=dz(e,t,1),e=qs(e,t,1),t=rn(),e!==null&&(tf(e,1,t),mn(e,t));break}}e=e.return}}function a7(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&r,xr===t&&(Ar&r)===r&&(ar===4||ar===3&&(Ar&130023424)===Ar&&500>Vt()-RA?nl(t,0):AA|=r),mn(t,e)}function Mz(t,e){e===0&&(t.mode&1?(e=qf,qf<<=1,!(qf&130023424)&&(qf=4194304)):e=1);var r=rn();t=Ka(t,e),t!==null&&(tf(t,e,r),mn(t,r))}function s7(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Mz(t,r)}function o7(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),Mz(t,r)}var Dz;Dz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return hn=!1,XW(t,e,r);hn=!!(t.flags&131072)}else hn=!1,Rt&&e.flags&1048576&&B4(e,Hv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;iv(t,e),t=e.pendingProps;var i=nc(e,Ur.current);Bu(e,r),i=wA(null,e,n,t,i,r);var a=_A();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(n)?(a=!0,$v(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mA(e),i.updater=sg,e.stateNode=i,i._reactInternals=e,jS(e,n,t,r),e=GS(null,e,n,!0,a,r)):(e.tag=0,Rt&&a&&uA(e),Jr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(iv(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=u7(n),t=xi(n,t),i){case 0:e=$S(null,e,n,t,r);break e;case 1:e=vI(null,e,n,t,r);break e;case 11:e=fI(null,e,n,t,r);break e;case 14:e=pI(null,e,n,xi(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),$S(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),vI(t,e,n,i,r);case 3:e:{if(mz(e),t===null)throw Error(we(387));n=e.pendingProps,a=e.memoizedState,i=a.element,G4(t,e),qv(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=oc(Error(we(423)),e),e=mI(t,e,n,r,i);break e}else if(n!==i){i=oc(Error(we(424)),e),e=mI(t,e,n,r,i);break e}else for(In=Ws(e.stateNode.containerInfo.firstChild),kn=e,Rt=!0,Si=null,r=U4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ic(),n===i){e=Za(t,e,r);break e}Jr(t,e,n,r)}e=e.child}return e;case 5:return H4(e),t===null&&BS(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,MS(n,i)?s=null:a!==null&&MS(n,a)&&(e.flags|=32),vz(t,e),Jr(t,e,s,r),e.child;case 6:return t===null&&BS(e),null;case 13:return gz(t,e,r);case 4:return gA(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ac(e,null,n,r):Jr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),fI(t,e,n,i,r);case 7:return Jr(t,e,e.pendingProps,r),e.child;case 8:return Jr(t,e,e.pendingProps.children,r),e.child;case 12:return Jr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,xt(Vv,n._currentValue),n._currentValue=s,a!==null)if(Fi(a.value,s)){if(a.children===i.children&&!pn.current){e=Za(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ha(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),FS(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(we(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),FS(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Jr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Bu(e,r),i=ti(i),n=n(i),e.flags|=1,Jr(t,e,n,r),e.child;case 14:return n=e.type,i=xi(n,e.pendingProps),i=xi(n.type,i),pI(t,e,n,i,r);case 15:return fz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xi(n,i),iv(t,e),e.tag=1,vn(n)?(t=!0,$v(e)):t=!1,Bu(e,r),cz(e,n,i),jS(e,n,i,r),GS(null,e,n,!0,t,r);case 19:return yz(t,e,r);case 22:return pz(t,e,r)}throw Error(we(156,e.tag))};function Oz(t,e){return o4(t,e)}function l7(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,r,n){return new l7(t,e,r,n)}function MA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u7(t){if(typeof t=="function")return MA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ZT)return 11;if(t===QT)return 14}return 2}function Ks(t,e){var r=t.alternate;return r===null?(r=Yn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ov(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")MA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case mu:return il(r.children,i,a,e);case KT:s=8,i|=8;break;case cS:return t=Yn(12,r,e,i|2),t.elementType=cS,t.lanes=a,t;case hS:return t=Yn(13,r,e,i),t.elementType=hS,t.lanes=a,t;case dS:return t=Yn(19,r,e,i),t.elementType=dS,t.lanes=a,t;case H5:return ug(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $5:s=10;break e;case G5:s=9;break e;case ZT:s=11;break e;case QT:s=14;break e;case Ss:s=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Yn(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function il(t,e,r,n){return t=Yn(7,t,n,e),t.lanes=r,t}function ug(t,e,r,n){return t=Yn(22,t,n,e),t.elementType=H5,t.lanes=r,t.stateNode={isHidden:!1},t}function x0(t,e,r){return t=Yn(6,t,null,e),t.lanes=r,t}function w0(t,e,r){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c7(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t0(0),this.expirationTimes=t0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DA(t,e,r,n,i,a,s,o,l){return t=new c7(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Yn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mA(a),t}function h7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Nz(t){if(!t)return no;t=t._reactInternals;e:{if(Il(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(vn(r))return N4(t,r,e)}return e}function Lz(t,e,r,n,i,a,s,o,l){return t=DA(r,n,!0,t,i,a,s,o,l),t.context=Nz(null),r=t.current,n=rn(),i=Ys(r),a=Ha(n,i),a.callback=e??null,qs(r,a,i),t.current.lanes=i,tf(t,i,n),mn(t,n),t}function cg(t,e,r,n){var i=e.current,a=rn(),s=Ys(i);return r=Nz(r),e.context===null?e.context=r:e.pendingContext=r,e=Ha(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qs(i,e,s),t!==null&&(Oi(t,i,s,a),tv(t,i,s)),s}function tm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function OA(t,e){TI(t,e),(t=t.alternate)&&TI(t,e)}function d7(){return null}var Bz=typeof reportError=="function"?reportError:function(t){console.error(t)};function NA(t){this._internalRoot=t}hg.prototype.render=NA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));cg(t,e,null,null)};hg.prototype.unmount=NA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){cg(null,t,null,null)}),e[Ya]=null}};function hg(t){this._internalRoot=t}hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=p4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ps.length&&e!==0&&e<Ps[r].priority;r++);Ps.splice(r,0,t),r===0&&m4(t)}};function LA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AI(){}function f7(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=tm(s);a.call(u)}}var s=Lz(e,n,t,0,null,!1,!1,"",AI);return t._reactRootContainer=s,t[Ya]=s.current,md(t.nodeType===8?t.parentNode:t),pl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=tm(l);o.call(u)}}var l=DA(t,0,!1,null,null,!1,!1,"",AI);return t._reactRootContainer=l,t[Ya]=l.current,md(t.nodeType===8?t.parentNode:t),pl(function(){cg(e,l,r,n)}),l}function fg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=tm(s);o.call(l)}}cg(e,s,t,i)}else s=f7(r,e,t,i,n);return tm(s)}d4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ph(e.pendingLanes);r!==0&&(tA(e,r|1),mn(e,Vt()),!(et&6)&&(lc=Vt()+500,go()))}break;case 13:pl(function(){var n=Ka(t,1);if(n!==null){var i=rn();Oi(n,t,1,i)}}),OA(t,1)}};rA=function(t){if(t.tag===13){var e=Ka(t,134217728);if(e!==null){var r=rn();Oi(e,t,134217728,r)}OA(t,134217728)}};f4=function(t){if(t.tag===13){var e=Ys(t),r=Ka(t,e);if(r!==null){var n=rn();Oi(r,t,e,n)}OA(t,e)}};p4=function(){return ct};v4=function(t,e){var r=ct;try{return ct=t,e()}finally{ct=r}};_S=function(t,e,r){switch(e){case"input":if(vS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ng(n);if(!i)throw Error(we(90));W5(n),vS(n,i)}}}break;case"textarea":X5(t,r);break;case"select":e=r.value,e!=null&&Du(t,!!r.multiple,e,!1)}};t4=PA;r4=pl;var p7={usingClientEntryPoint:!1,Events:[nf,xu,ng,J5,e4,PA]},uh={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v7={bundleType:uh.bundleType,version:uh.version,rendererPackageName:uh.rendererPackageName,rendererConfig:uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a4(t),t===null?null:t.stateNode},findFiberByHostInstance:uh.findFiberByHostInstance||d7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{Jm=ip.inject(v7),ma=ip}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p7;Bn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LA(e))throw Error(we(200));return h7(t,e,null,r)};Bn.createRoot=function(t,e){if(!LA(t))throw Error(we(299));var r=!1,n="",i=Bz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=DA(t,1,!1,null,null,r,!1,n,i),t[Ya]=e.current,md(t.nodeType===8?t.parentNode:t),new NA(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=a4(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return pl(t)};Bn.hydrate=function(t,e,r){if(!dg(e))throw Error(we(200));return fg(null,t,e,!0,r)};Bn.hydrateRoot=function(t,e,r){if(!LA(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Bz;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Lz(e,null,t,1,r??null,i,!1,a,s),t[Ya]=e.current,md(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new hg(e)};Bn.render=function(t,e,r){if(!dg(e))throw Error(we(200));return fg(null,t,e,!1,r)};Bn.unmountComponentAtNode=function(t){if(!dg(t))throw Error(we(40));return t._reactRootContainer?(pl(function(){fg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ya]=null})}),!0):!1};Bn.unstable_batchedUpdates=PA;Bn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!dg(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return fg(t,e,r,!1,n)};Bn.version="18.3.1-next-f1338f8080-20240426";function Fz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fz)}catch(t){console.error(t)}}Fz(),F5.exports=Bn;var sf=F5.exports;const m7=Rl(sf);var zz,RI=sf;zz=RI.createRoot,RI.hydrateRoot;var ca=function(){return ca=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ca.apply(this,arguments)};function jz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function g7(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var lv="right-scroll-bar-position",uv="width-before-scroll-bar",y7="with-scroll-bars-hidden",b7="--removed-body-scroll-bar-size";function _0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function x7(t,e){var r=D.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var w7=typeof window<"u"?D.useLayoutEffect:D.useEffect,PI=new WeakMap;function _7(t,e){var r=x7(null,function(n){return t.forEach(function(i){return _0(i,n)})});return w7(function(){var n=PI.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||_0(o,null)}),a.forEach(function(o){i.has(o)||_0(o,s)})}PI.set(r,t)},[t]),r}function E7(t){return t}function S7(t,e){e===void 0&&(e=E7);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var c=s;s=[],c.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),r}}}};return i}function C7(t){t===void 0&&(t={});var e=S7(null);return e.options=ca({async:!0,ssr:!1},t),e}var Uz=function(t){var e=t.sideCar,r=jz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,ca({},r))};Uz.isSideCarExport=!0;function T7(t,e){return t.useMedium(e),Uz}var $z=C7(),E0=function(){},pg=D.forwardRef(function(t,e){var r=D.useRef(null),n=D.useState({onScrollCapture:E0,onWheelCapture:E0,onTouchMoveCapture:E0}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,h=t.shards,d=t.sideCar,f=t.noIsolation,p=t.inert,g=t.allowPinchZoom,m=t.as,v=m===void 0?"div":m,y=t.gapMode,b=jz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=d,w=_7([r,e]),E=ca(ca({},b),i);return D.createElement(D.Fragment,null,c&&D.createElement(x,{sideCar:$z,removeScrollBar:u,shards:h,noIsolation:f,inert:p,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:y}),s?D.cloneElement(D.Children.only(o),ca(ca({},E),{ref:w})):D.createElement(v,ca({},E,{className:l,ref:w}),o))});pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pg.classNames={fullWidth:uv,zeroRight:lv};var A7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A7();return e&&t.setAttribute("nonce",e),t}function P7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function I7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var k7=function(){var t=0,e=null;return{add:function(r){t==0&&(e=R7())&&(P7(e,r),I7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M7=function(){var t=k7();return function(e,r){D.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Gz=function(){var t=M7(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},D7={left:0,top:0,right:0,gap:0},S0=function(t){return parseInt(t||"",10)||0},O7=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[S0(r),S0(n),S0(i)]},N7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return D7;var e=O7(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},L7=Gz(),zu="data-scroll-locked",B7=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(y7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(zu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(uv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(lv," .").concat(lv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uv," .").concat(uv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zu,`] {
    `).concat(b7,": ").concat(o,`px;
  }
`)},II=function(){var t=parseInt(document.body.getAttribute(zu)||"0",10);return isFinite(t)?t:0},F7=function(){D.useEffect(function(){return document.body.setAttribute(zu,(II()+1).toString()),function(){var t=II()-1;t<=0?document.body.removeAttribute(zu):document.body.setAttribute(zu,t.toString())}},[])},z7=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;F7();var a=D.useMemo(function(){return N7(i)},[i]);return D.createElement(L7,{styles:B7(a,!e,i,r?"":"!important")})},tC=!1;if(typeof window<"u")try{var ap=Object.defineProperty({},"passive",{get:function(){return tC=!0,!0}});window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{tC=!1}var Vl=tC?{passive:!1}:!1,j7=function(t){return t.tagName==="TEXTAREA"},Hz=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!j7(t)&&r[e]==="visible")},U7=function(t){return Hz(t,"overflowY")},$7=function(t){return Hz(t,"overflowX")},kI=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Vz(t,n);if(i){var a=Wz(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},G7=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},H7=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Vz=function(t,e){return t==="v"?U7(e):$7(e)},Wz=function(t,e){return t==="v"?G7(e):H7(e)},V7=function(t,e){return t==="h"&&e==="rtl"?-1:1},W7=function(t,e,r,n,i){var a=V7(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,l=e.contains(o),u=!1,c=s>0,h=0,d=0;do{var f=Wz(t,o),p=f[0],g=f[1],m=f[2],v=g-m-a*p;(p||v)&&Vz(t,o)&&(h+=v,d+=p),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(c&&(Math.abs(h)<1||!i)||!c&&(Math.abs(d)<1||!i))&&(u=!0),u},sp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MI=function(t){return[t.deltaX,t.deltaY]},DI=function(t){return t&&"current"in t?t.current:t},q7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Y7=0,Wl=[];function K7(t){var e=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(Y7++)[0],a=D.useState(Gz)[0],s=D.useRef(t);D.useEffect(function(){s.current=t},[t]),D.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=g7([t.lockRef.current],(t.shards||[]).map(DI),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=D.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=sp(g),y=r.current,b="deltaX"in g?g.deltaX:y[0]-v[0],x="deltaY"in g?g.deltaY:y[1]-v[1],w,E=g.target,_=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in g&&_==="h"&&E.type==="range")return!1;var T=kI(_,E);if(!T)return!0;if(T?w=_:(w=_==="v"?"h":"v",T=kI(_,E)),!T)return!1;if(!n.current&&"changedTouches"in g&&(b||x)&&(n.current=w),!w)return!0;var C=n.current||w;return W7(C,m,g,C==="h"?b:x,!0)},[]),l=D.useCallback(function(g){var m=g;if(!(!Wl.length||Wl[Wl.length-1]!==a)){var v="deltaY"in m?MI(m):sp(m),y=e.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&q7(w.delta,v)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(DI).filter(Boolean).filter(function(w){return w.contains(m.target)}),x=b.length>0?o(m,b[0]):!s.current.noIsolation;x&&m.cancelable&&m.preventDefault()}}},[]),u=D.useCallback(function(g,m,v,y){var b={name:g,delta:m,target:v,should:y,shadowParent:Z7(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(x){return x!==b})},1)},[]),c=D.useCallback(function(g){r.current=sp(g),n.current=void 0},[]),h=D.useCallback(function(g){u(g.type,MI(g),g.target,o(g,t.lockRef.current))},[]),d=D.useCallback(function(g){u(g.type,sp(g),g.target,o(g,t.lockRef.current))},[]);D.useEffect(function(){return Wl.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Vl),document.addEventListener("touchmove",l,Vl),document.addEventListener("touchstart",c,Vl),function(){Wl=Wl.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Vl),document.removeEventListener("touchmove",l,Vl),document.removeEventListener("touchstart",c,Vl)}},[]);var f=t.removeScrollBar,p=t.inert;return D.createElement(D.Fragment,null,p?D.createElement(a,{styles:X7(i)}):null,f?D.createElement(z7,{gapMode:t.gapMode}):null)}function Z7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Q7=T7($z,K7);var vg=D.forwardRef(function(t,e){return D.createElement(pg,ca({},t,{ref:e,sideCar:Q7}))});vg.classNames=pg.classNames;function gt(t){return Object.keys(t)}function C0(t){return t&&typeof t=="object"&&!Array.isArray(t)}function BA(t,e){const r={...t},n=e;return C0(t)&&C0(e)&&Object.keys(e).forEach(i=>{C0(n[i])&&i in t?r[i]=BA(r[i],n[i]):r[i]=n[i]}),r}function J7(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function eq(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function Cd(t){const e=eq(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function T0(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function qz(t,{shouldScale:e=!1}={}){function r(n){if(n===0||n==="0")return`0${t}`;if(typeof n=="number"){const i=`${n/16}${t}`;return e?T0(i):i}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(t))return e?T0(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${t}`;return e?T0(a):a}}return n}return r}const me=qz("rem",{shouldScale:!0}),rm=qz("em");function kl(t){return Object.keys(t).reduce((e,r)=>(t[r]!==void 0&&(e[r]=t[r]),e),{})}function Xz(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(n=>e.test(n))}return!1}function ls(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==D.Fragment:!1}function Sn(t){const e=D.createContext(null);return[({children:i,value:a})=>A.jsx(e.Provider,{value:a,children:i}),()=>{const i=D.useContext(e);if(i===null)throw new Error(t);return i}]}function FA(t=null){const e=D.createContext(t);return[({children:i,value:a})=>A.jsx(e.Provider,{value:a,children:i}),()=>D.useContext(e)]}function OI(t,e){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(e);return`${t}-${r}`}}function rC(t,e){let r=t;for(;(r=r.parentElement)&&!r.matches(e););return r}function tq(t,e,r){for(let n=t-1;n>=0;n-=1)if(!e[n].disabled)return n;if(r){for(let n=e.length-1;n>-1;n-=1)if(!e[n].disabled)return n}return t}function rq(t,e,r){for(let n=t+1;n<e.length;n+=1)if(!e[n].disabled)return n;if(r){for(let n=0;n<e.length;n+=1)if(!e[n].disabled)return n}return t}function nq(t,e,r){return rC(t,r)===rC(e,r)}function iq({parentSelector:t,siblingSelector:e,onKeyDown:r,loop:n=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:s}){return o=>{var p;r==null||r(o);const l=Array.from(((p=rC(o.currentTarget,t))==null?void 0:p.querySelectorAll(e))||[]).filter(g=>nq(o.currentTarget,g,t)),u=l.findIndex(g=>o.currentTarget===g),c=rq(u,l,n),h=tq(u,l,n),d=a==="rtl"?h:c,f=a==="rtl"?c:h;switch(o.key){case"ArrowRight":{s==="horizontal"&&(o.stopPropagation(),o.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowLeft":{s==="horizontal"&&(o.stopPropagation(),o.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowUp":{s==="vertical"&&(o.stopPropagation(),o.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowDown":{s==="vertical"&&(o.stopPropagation(),o.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{o.stopPropagation(),o.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{o.stopPropagation(),o.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}const aq={app:100,modal:200,popover:300,overlay:400,max:9999};function zn(t){return aq[t]}const sq=()=>{};function oq(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||sq:r=>{var n;r.key==="Escape"&&(t(r),(n=e.onTrigger)==null||n.call(e))}}function vt(t,e="size",r=!0){if(t!==void 0)return Xz(t)?r?me(t):t:`var(--${e}-${t})`}function br(t){return vt(t,"mantine-spacing")}function lr(t){return t===void 0?"var(--mantine-radius-default)":vt(t,"mantine-radius")}function gn(t){return vt(t,"mantine-font-size")}function Yz(t){return vt(t,"mantine-line-height",!1)}function zA(t){if(t)return vt(t,"mantine-shadow",!1)}function nm(t,e){return r=>{t==null||t(r),e==null||e(r)}}function jA(t,e){return t in e?Cd(e[t]):Cd(t)}function Td(t,e){const r=t.map(n=>({value:n,px:jA(n,e)}));return r.sort((n,i)=>n.px-i.px),r}function ki(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function ha(t,e,r){return e===void 0&&r===void 0?t:e!==void 0&&r===void 0?Math.max(t,e):Math.min(e===void 0&&r!==void 0?t:Math.max(t,e),r)}function td(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function NI(t){return typeof t!="string"?"":t.charAt(0).toUpperCase()+t.slice(1)}function Ho(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function mg(t,e){const r=Ho(t),n=D.useRef(0);return D.useEffect(()=>()=>window.clearTimeout(n.current),[]),D.useCallback((...i)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...i),e)},[r,e])}const LI=["mousedown","touchstart"];function lq(t,e,r){const n=D.useRef();return D.useEffect(()=>{const i=a=>{const{target:s}=a??{};if(Array.isArray(r)){const o=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";r.every(u=>!!u&&!a.composedPath().includes(u))&&!o&&t()}else n.current&&!n.current.contains(s)&&t()};return(e||LI).forEach(a=>document.addEventListener(a,i)),()=>{(e||LI).forEach(a=>document.removeEventListener(a,i))}},[n,t,r]),n}function uq(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function cq(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function hq(t,e,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=D.useState(r?e:cq(t)),a=D.useRef();return D.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(t),i(a.current.matches),uq(a.current,s=>i(s.matches))},[t]),n}const Ml=typeof document<"u"?D.useLayoutEffect:D.useEffect;function io(t,e){const r=D.useRef(!1);D.useEffect(()=>()=>{r.current=!1},[]),D.useEffect(()=>{if(r.current)return t();r.current=!0},e)}function Kz({opened:t,shouldReturnFocus:e=!0}){const r=D.useRef(),n=()=>{var i;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((i=r.current)==null||i.focus({preventScroll:!0}))};return io(()=>{let i=-1;const a=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),t?r.current=document.activeElement:e&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[t,e]),n}function dq(t,e="body > :not(script)"){const r=td(),n=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;const a=i.getAttribute("aria-hidden"),s=i.getAttribute("data-hidden"),o=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",r),a===null||a==="false"?i.setAttribute("aria-hidden","true"):!s&&!o&&i.setAttribute("data-hidden",a),{node:i,ariaHidden:s||null}});return()=>{n.forEach(i=>{!i||r!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const fq=/input|select|textarea|button|object/,Zz="a, input, select, textarea, button, object, [tabindex]";function pq(t){return t.style.display==="none"}function vq(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let r=t;for(;r&&!(r===document.body||r.nodeType===11);){if(pq(r))return!1;r=r.parentNode}return!0}function Qz(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function nC(t){const e=t.nodeName.toLowerCase(),r=!Number.isNaN(Qz(t));return(fq.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||r)&&vq(t)}function Jz(t){const e=Qz(t);return(Number.isNaN(e)||e>=0)&&nC(t)}function mq(t){return Array.from(t.querySelectorAll(Zz)).filter(Jz)}function gq(t,e){const r=mq(t);if(!r.length){e.preventDefault();return}const n=r[e.shiftKey?0:r.length-1],i=t.getRootNode();let a=n===i.activeElement||t===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(a=r.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(n)),!a)return;e.preventDefault();const l=r[e.shiftKey?r.length-1:0];l&&l.focus()}function yq(t=!0){const e=D.useRef(),r=D.useRef(null),n=a=>{let s=a.querySelector("[data-autofocus]");if(!s){const o=Array.from(a.querySelectorAll(Zz));s=o.find(Jz)||o.find(nC)||null,!s&&nC(a)&&(s=a)}s&&s.focus({preventScroll:!0})},i=D.useCallback(a=>{if(t){if(a===null){r.current&&(r.current(),r.current=null);return}r.current=dq(a),e.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&n(a)}),e.current=a):e.current=null)}},[t]);return D.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const a=s=>{s.key==="Tab"&&e.current&&gq(e.current,s)};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a),r.current&&r.current()}},[t]),i}const bq=Ri.useId||(()=>{});function xq(){const t=bq();return t?`mantine-${t.replace(/:/g,"")}`:""}function us(t){const e=xq(),[r,n]=D.useState(e);return Ml(()=>{n(td())},[]),typeof t=="string"?t:typeof window>"u"?e:r}function e6(t,e,r){D.useEffect(()=>(window.addEventListener(t,e,r),()=>window.removeEventListener(t,e,r)),[t,e])}function of(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function t6(...t){return e=>{t.forEach(r=>of(r,e))}}function _r(...t){return D.useCallback(t6(...t),t)}function wq(t,e,r="ltr"){const n=D.useRef(null),i=D.useRef(!1),a=D.useRef(!1),s=D.useRef(0),[o,l]=D.useState(!1);return D.useEffect(()=>{i.current=!0},[]),D.useEffect(()=>{var y,b;const u=({x,y:w})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&n.current){n.current.style.userSelect="none";const E=n.current.getBoundingClientRect();if(E.width&&E.height){const _=ha((x-E.left)/E.width,0,1);t({x:r==="ltr"?_:1-_,y:ha((w-E.top)/E.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",f),document.addEventListener("touchmove",v),document.addEventListener("touchend",f)},h=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",f)},d=()=>{!a.current&&i.current&&(a.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),l(!0),c())},f=()=>{a.current&&i.current&&(a.current=!1,l(!1),h(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},p=x=>{d(),x.preventDefault(),g(x)},g=x=>u({x:x.clientX,y:x.clientY}),m=x=>{x.cancelable&&x.preventDefault(),d(),v(x)},v=x=>{x.cancelable&&x.preventDefault(),u({x:x.changedTouches[0].clientX,y:x.changedTouches[0].clientY})};return(y=n.current)==null||y.addEventListener("mousedown",p),(b=n.current)==null||b.addEventListener("touchstart",m,{passive:!1}),()=>{n.current&&(n.current.removeEventListener("mousedown",p),n.current.removeEventListener("touchstart",m))}},[r,t]),{ref:n,active:o}}function ni({value:t,defaultValue:e,finalValue:r,onChange:n=()=>{}}){const[i,a]=D.useState(e!==void 0?e:r),s=(o,...l)=>{a(o),n==null||n(o,...l)};return t!==void 0?[t,n,!0]:[i,s,!1]}function UA(t,e){return hq("(prefers-reduced-motion: reduce)",t,e)}function Zs(t=!1,e){const{onOpen:r,onClose:n}=e||{},[i,a]=D.useState(t),s=D.useCallback(()=>{a(u=>u||(r==null||r(),!0))},[r]),o=D.useCallback(()=>{a(u=>u&&(n==null||n(),!1))},[n]),l=D.useCallback(()=>{i?o():s()},[o,s,i]);return[i,{open:s,close:o,toggle:l}]}function _q(t){const e=D.useRef();return D.useEffect(()=>{e.current=t},[t]),e.current}function Eq(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))}function Sq(t){function e(n){const i=Object.keys(n).reduce((a,s)=>(a[`${t}:${s}`]=o=>n[s](o.detail),a),{});Ml(()=>(Object.keys(i).forEach(a=>{window.removeEventListener(a,i[a]),window.addEventListener(a,i[a])}),()=>Object.keys(i).forEach(a=>{window.removeEventListener(a,i[a])})),[i])}function r(n){return(...i)=>Eq(`${t}:${String(n)}`,i[0])}return[e,r]}var Cq={};function Tq(){return typeof process<"u"&&Cq?"production":"development"}function BI(t,e){return e.length===0?t:e.reduce((r,n)=>Math.abs(n-t)<Math.abs(r-t)?n:r)}function gg(t){var r;const e=Ri.version;return typeof Ri.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(r=t==null?void 0:t.props)==null?void 0:r.ref}function r6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=r6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Wt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=r6(t))&&(n&&(n+=" "),n+=e);return n}const Aq={};function Rq(t){const e={};return t.forEach(r=>{Object.entries(r).forEach(([n,i])=>{e[n]?e[n]=Wt(e[n],i):e[n]=i})}),e}function yg({theme:t,classNames:e,props:r,stylesCtx:n}){const a=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,r,n):s||Aq);return Rq(a)}function im({theme:t,styles:e,props:r,stylesCtx:n}){return(Array.isArray(e)?e:[e]).reduce((a,s)=>typeof s=="function"?{...a,...s(t,r,n)}:{...a,...s},{})}const n6=D.createContext(null);function yo(){const t=D.useContext(n6);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function Pq(){return yo().cssVariablesResolver}function Iq(){return yo().classNamesPrefix}function $A(){return yo().getStyleNonce}function kq(){return yo().withStaticClasses}function Mq(){return yo().headless}function Dq(){var t;return(t=yo().stylesTransform)==null?void 0:t.sx}function Oq(){var t;return(t=yo().stylesTransform)==null?void 0:t.styles}function Nq(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function Lq(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const r=parseInt(e,16),n=r>>16&255,i=r>>8&255,a=r&255;return{r:n,g:i,b:a,a:1}}function Bq(t){const[e,r,n,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:r,b:n,a:i||1}}function Fq(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=t.match(e);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,s=r[5]?parseFloat(r[5]):void 0,o=(1-Math.abs(2*a-1))*i,l=n/60,u=o*(1-Math.abs(l%2-1)),c=a-o/2;let h,d,f;return l>=0&&l<1?(h=o,d=u,f=0):l>=1&&l<2?(h=u,d=o,f=0):l>=2&&l<3?(h=0,d=o,f=u):l>=3&&l<4?(h=0,d=u,f=o):l>=4&&l<5?(h=u,d=0,f=o):(h=o,d=0,f=u),{r:Math.round((h+c)*255),g:Math.round((d+c)*255),b:Math.round((f+c)*255),a:s||1}}function GA(t){return Nq(t)?Lq(t):t.startsWith("rgb")?Bq(t):t.startsWith("hsl")?Fq(t):{r:0,g:0,b:0,a:1}}function op(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r,g:n,b:i,a}=GA(t),s=1-e,o=l=>Math.round(l*s);return`rgba(${o(r)}, ${o(n)}, ${o(i)}, ${a})`}function Ad(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function A0(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function zq(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function jq(t){if(t.startsWith("oklch("))return(zq(t)||0)/100;const{r:e,g:r,b:n}=GA(t),i=e/255,a=r/255,s=n/255,o=A0(i),l=A0(a),u=A0(s);return .2126*o+.7152*l+.0722*u}function ch(t,e=.179){return t.startsWith("var(")?!1:jq(t)>e}function Dl({color:t,theme:e,colorScheme:r}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:r==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:ch(r==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:r==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:ch(r==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:ch(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[n,i]=t.split("."),a=i?Number(i):void 0,s=n in e.colors;if(s){const o=a!==void 0?e.colors[n][a]:e.colors[n][Ad(e,r||"light")];return{color:n,value:o,shade:a,isThemeColor:s,isLight:ch(o,e.luminanceThreshold),variable:i?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:ch(t,e.luminanceThreshold),shade:a,variable:void 0}}function kr(t,e){const r=Dl({color:t||e.primaryColor,theme:e});return r.variable?`var(${r.variable})`:t}function iC(t,e){const r={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},n=kr(r.from,e),i=kr(r.to,e);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function aa(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const a=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${a}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r,g:n,b:i}=GA(t);return`rgba(${r}, ${n}, ${i}, ${e})`}const ql=aa,Uq=({color:t,theme:e,variant:r,gradient:n,autoContrast:i})=>{const a=Dl({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(r==="filled"){const o=s&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:o,border:`${me(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:o,border:`${me(1)} solid transparent`}:{background:t,hover:op(t,.1),color:o,border:`${me(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${me(1)} solid transparent`};const o=e.colors[a.color][a.shade];return{background:aa(o,.1),hover:aa(o,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:aa(t,.1),hover:aa(t,.12),color:t,border:`${me(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${me(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:aa(e.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${me(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:aa(t,.05),color:t,border:`${me(1)} solid ${t}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${me(1)} solid transparent`};const o=e.colors[a.color][a.shade];return{background:"transparent",hover:aa(o,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:"transparent",hover:aa(t,.12),color:t,border:`${me(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${me(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:op(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:op(e.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:op(e.white,.01),color:t,border:`${me(1)} solid transparent`}:r==="gradient"?{background:iC(n,e),hover:iC(n,e),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${me(1)} solid var(--mantine-color-default-border)`}:{}},$q={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},FI="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",HA={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:$q,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Uq,autoContrast:!1,luminanceThreshold:.3,fontFamily:FI,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:FI,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:me(34),lineHeight:"1.3"},h2:{fontSize:me(26),lineHeight:"1.35"},h3:{fontSize:me(22),lineHeight:"1.4"},h4:{fontSize:me(18),lineHeight:"1.45"},h5:{fontSize:me(16),lineHeight:"1.5"},h6:{fontSize:me(14),lineHeight:"1.5"}}},fontSizes:{xs:me(12),sm:me(14),md:me(16),lg:me(18),xl:me(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:me(2),sm:me(4),md:me(8),lg:me(16),xl:me(32)},spacing:{xs:me(10),sm:me(12),md:me(16),lg:me(20),xl:me(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), 0 ${me(1)} ${me(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(10)} ${me(15)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(7)} ${me(7)} ${me(-5)}`,md:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(20)} ${me(25)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(10)} ${me(10)} ${me(-5)}`,lg:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(28)} ${me(23)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(12)} ${me(12)} ${me(-7)}`,xl:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(36)} ${me(28)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(17)} ${me(17)} ${me(-7)}`},other:{},components:{}};function zI(t){return t==="auto"||t==="dark"||t==="light"}function Gq({key:t="mantine-color-scheme-value"}={}){let e;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(t);return zI(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(t,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{e=n=>{n.storageArea===window.localStorage&&n.key===t&&zI(n.newValue)&&r(n.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const Hq="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",jI="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function R0(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function UI(t){if(!(t.primaryColor in t.colors))throw new Error(Hq);if(typeof t.primaryShade=="object"&&(!R0(t.primaryShade.dark)||!R0(t.primaryShade.light)))throw new Error(jI);if(typeof t.primaryShade=="number"&&!R0(t.primaryShade))throw new Error(jI)}function Vq(t,e){var n;if(!e)return UI(t),t;const r=BA(t,e);return e.fontFamily&&!((n=e.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=e.fontFamily),UI(r),r}const VA=D.createContext(null),Wq=()=>D.useContext(VA)||HA;function Vr(){const t=D.useContext(VA);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function i6({theme:t,children:e,inherit:r=!0}){const n=Wq(),i=D.useMemo(()=>Vq(r?n:HA,t),[t,n,r]);return A.jsx(VA.Provider,{value:i,children:e})}i6.displayName="@mantine/core/MantineThemeProvider";function qq(){const t=Vr(),e=$A(),r=gt(t.breakpoints).reduce((n,i)=>{const a=t.breakpoints[i].includes("px"),s=Cd(t.breakpoints[i]),o=a?`${s-.1}px`:rm(s-.1),l=a?`${s}px`:rm(s);return`${n}@media (max-width: ${o}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return A.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:r}})}function P0(t){return Object.entries(t).map(([e,r])=>`${e}: ${r};`).join("")}function hh(t,e){return(Array.isArray(t)?t:[t]).reduce((n,i)=>`${i}{${n}}`,e)}function Xq(t,e){const r=P0(t.variables),n=r?hh(e,r):"",i=P0(t.dark),a=P0(t.light),s=i?hh(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",o=a?hh(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,a):"";return`${n}${s}${o}`}function lf({color:t,theme:e,autoContrast:r}){return(typeof r=="boolean"?r:e.autoContrast)&&Dl({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function $I(t,e){return lf({color:t.colors[t.primaryColor][Ad(t,e)],theme:t,autoContrast:null})}function lp({theme:t,color:e,colorScheme:r,name:n=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(r==="light"){const o=Ad(t,"light"),l={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${o})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${o===9?8:o+1})`,[`--mantine-color-${n}-light`]:ql(t.colors[e][o],.1),[`--mantine-color-${n}-light-hover`]:ql(t.colors[e][o],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${o})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${o})`,[`--mantine-color-${n}-outline-hover`]:ql(t.colors[e][o],.05)};return i?{[`--mantine-color-${n}-0`]:t.colors[e][0],[`--mantine-color-${n}-1`]:t.colors[e][1],[`--mantine-color-${n}-2`]:t.colors[e][2],[`--mantine-color-${n}-3`]:t.colors[e][3],[`--mantine-color-${n}-4`]:t.colors[e][4],[`--mantine-color-${n}-5`]:t.colors[e][5],[`--mantine-color-${n}-6`]:t.colors[e][6],[`--mantine-color-${n}-7`]:t.colors[e][7],[`--mantine-color-${n}-8`]:t.colors[e][8],[`--mantine-color-${n}-9`]:t.colors[e][9],...l}:l}const a=Ad(t,"dark"),s={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:ql(t.colors[e][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:ql(t.colors[e][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:ql(t.colors[e][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:t.colors[e][0],[`--mantine-color-${n}-1`]:t.colors[e][1],[`--mantine-color-${n}-2`]:t.colors[e][2],[`--mantine-color-${n}-3`]:t.colors[e][3],[`--mantine-color-${n}-4`]:t.colors[e][4],[`--mantine-color-${n}-5`]:t.colors[e][5],[`--mantine-color-${n}-6`]:t.colors[e][6],[`--mantine-color-${n}-7`]:t.colors[e][7],[`--mantine-color-${n}-8`]:t.colors[e][8],[`--mantine-color-${n}-9`]:t.colors[e][9],...s}:s}function Yq(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Xl(t,e,r){gt(e).forEach(n=>Object.assign(t,{[`--mantine-${r}-${n}`]:e[n]}))}const a6=t=>{const e=Ad(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:me(t.defaultRadius),n={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":$I(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":$I(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Xl(n.variables,t.breakpoints,"breakpoint"),Xl(n.variables,t.spacing,"spacing"),Xl(n.variables,t.fontSizes,"font-size"),Xl(n.variables,t.lineHeights,"line-height"),Xl(n.variables,t.shadows,"shadow"),Xl(n.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((a,s)=>{n.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),gt(t.colors).forEach(a=>{const s=t.colors[a];if(Yq(s)){Object.assign(n.light,lp({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,lp({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((o,l)=>{n.variables[`--mantine-color-${a}-${l}`]=o}),Object.assign(n.light,lp({theme:t,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,lp({theme:t,color:a,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return gt(i).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=i[a].fontSize,n.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||t.headings.fontWeight}),n};function Kq({theme:t,generator:e}){const r=a6(t),n=e==null?void 0:e(t);return n?BA(r,n):r}const I0=a6(HA);function Zq(t){const e={variables:{},light:{},dark:{}};return gt(t.variables).forEach(r=>{I0.variables[r]!==t.variables[r]&&(e.variables[r]=t.variables[r])}),gt(t.light).forEach(r=>{I0.light[r]!==t.light[r]&&(e.light[r]=t.light[r])}),gt(t.dark).forEach(r=>{I0.dark[r]!==t.dark[r]&&(e.dark[r]=t.dark[r])}),e}function Qq(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function s6({cssVariablesSelector:t,deduplicateCssVariables:e}){const r=Vr(),n=$A(),i=Pq(),a=Kq({theme:r,generator:i}),s=t===":root"&&e,o=s?Zq(a):a,l=Xq(o,t);return l?A.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${l}${s?"":Qq(t)}`}}):null}s6.displayName="@mantine/CssVariables";function Jq(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Yl(t,e){var n;const r=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=e())==null||n.setAttribute("data-mantine-color-scheme",r)}function eX({manager:t,defaultColorScheme:e,getRootElement:r,forceColorScheme:n}){const i=D.useRef(),[a,s]=D.useState(()=>t.get(e)),o=n||a,l=D.useCallback(c=>{n||(Yl(c,r),s(c),t.set(c))},[t.set,o,n]),u=D.useCallback(()=>{s(e),Yl(e,r),t.clear()},[t.clear,e]);return D.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),Ml(()=>{Yl(t.get(e),r)},[]),D.useEffect(()=>{var h;if(n)return Yl(n,r),()=>{};n===void 0&&Yl(a,r),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=d=>{a==="auto"&&Yl(d.matches?"dark":"light",r)};return(h=i.current)==null||h.addEventListener("change",c),()=>{var d;return(d=i.current)==null?void 0:d.removeEventListener("change",c)}},[a,n]),{colorScheme:o,setColorScheme:l,clearColorScheme:u}}function tX({respectReducedMotion:t,getRootElement:e}){Ml(()=>{var r;t&&((r=e())==null||r.setAttribute("data-respect-reduced-motion","true"))},[t])}Jq();function o6({theme:t,children:e,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:s=!0,cssVariablesSelector:o=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=Gq(),defaultColorScheme:c="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:f,stylesTransform:p}){const{colorScheme:g,setColorScheme:m,clearColorScheme:v}=eX({defaultColorScheme:c,forceColorScheme:f,manager:u,getRootElement:h});return tX({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:h}),A.jsx(n6.Provider,{value:{colorScheme:g,setColorScheme:m,clearColorScheme:v,getRootElement:h,classNamesPrefix:l,getStyleNonce:r,cssVariablesResolver:d,cssVariablesSelector:o,withStaticClasses:n,stylesTransform:p},children:A.jsxs(i6,{theme:t,children:[s&&A.jsx(s6,{cssVariablesSelector:o,deduplicateCssVariables:a}),i&&A.jsx(qq,{}),e]})})}o6.displayName="@mantine/core/MantineProvider";function WA({classNames:t,styles:e,props:r,stylesCtx:n}){const i=Vr();return{resolvedClassNames:yg({theme:i,classNames:t,props:r,stylesCtx:n||void 0}),resolvedStyles:im({theme:i,styles:e,props:r,stylesCtx:n||void 0})}}const rX={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function nX({theme:t,options:e,unstyled:r}){return Wt((e==null?void 0:e.focusable)&&!r&&(t.focusClassName||rX[t.focusRing]),(e==null?void 0:e.active)&&!r&&t.activeClassName)}function iX({selector:t,stylesCtx:e,options:r,props:n,theme:i}){return yg({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:e})[t]}function GI({selector:t,stylesCtx:e,theme:r,classNames:n,props:i}){return yg({theme:r,classNames:n,props:i,stylesCtx:e})[t]}function aX({rootSelector:t,selector:e,className:r}){return t===e?r:void 0}function sX({selector:t,classes:e,unstyled:r}){return r?void 0:e[t]}function oX({themeName:t,classNamesPrefix:e,selector:r,withStaticClass:n}){return n===!1?[]:t.map(i=>`${e}-${i}-${r}`)}function lX({themeName:t,theme:e,selector:r,props:n,stylesCtx:i}){return t.map(a=>{var s,o;return(o=yg({theme:e,classNames:(s=e.components[a])==null?void 0:s.classNames,props:n,stylesCtx:i}))==null?void 0:o[r]})}function uX({options:t,classes:e,selector:r,unstyled:n}){return t!=null&&t.variant&&!n?e[`${r}--${t.variant}`]:void 0}function cX({theme:t,options:e,themeName:r,selector:n,classNamesPrefix:i,classNames:a,classes:s,unstyled:o,className:l,rootSelector:u,props:c,stylesCtx:h,withStaticClasses:d,headless:f,transformedStyles:p}){return Wt(nX({theme:t,options:e,unstyled:o||f}),lX({theme:t,themeName:r,selector:n,props:c,stylesCtx:h}),uX({options:e,classes:s,selector:n,unstyled:o}),GI({selector:n,stylesCtx:h,theme:t,classNames:a,props:c}),GI({selector:n,stylesCtx:h,theme:t,classNames:p,props:c}),iX({selector:n,stylesCtx:h,options:e,props:c,theme:t}),aX({rootSelector:u,selector:n,className:l}),sX({selector:n,classes:s,unstyled:o||f}),d&&!f&&oX({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function hX({theme:t,themeName:e,props:r,stylesCtx:n,selector:i}){return e.map(a=>{var s;return im({theme:t,styles:(s=t.components[a])==null?void 0:s.styles,props:r,stylesCtx:n})[i]}).reduce((a,s)=>({...a,...s}),{})}function aC({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...aC({style:n,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function dX(t){return t.reduce((e,r)=>(r&&Object.keys(r).forEach(n=>{e[n]={...e[n],...kl(r[n])}}),e),{})}function fX({vars:t,varsResolver:e,theme:r,props:n,stylesCtx:i,selector:a,themeName:s,headless:o}){var l;return(l=dX([o?{}:e==null?void 0:e(r,n,i),...s.map(u=>{var c,h,d;return(d=(h=(c=r.components)==null?void 0:c[u])==null?void 0:h.vars)==null?void 0:d.call(h,r,n,i)}),t==null?void 0:t(r,n,i)]))==null?void 0:l[a]}function pX({theme:t,themeName:e,selector:r,options:n,props:i,stylesCtx:a,rootSelector:s,styles:o,style:l,vars:u,varsResolver:c,headless:h,withStylesTransform:d}){return{...!d&&hX({theme:t,themeName:e,props:i,stylesCtx:a,selector:r}),...!d&&im({theme:t,styles:o,props:i,stylesCtx:a})[r],...!d&&im({theme:t,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:a})[r],...fX({theme:t,props:i,stylesCtx:a,vars:u,varsResolver:c,selector:r,themeName:e,headless:h}),...s===r?aC({style:l,theme:t}):null,...aC({style:n==null?void 0:n.style,theme:t})}}function vX({props:t,stylesCtx:e,themeName:r}){var s;const n=Vr(),i=(s=Oq())==null?void 0:s();return{getTransformedStyles:o=>i?[...o.map(u=>i(u,{props:t,theme:n,ctx:e})),...r.map(u=>{var c;return i((c=n.components[u])==null?void 0:c.styles,{props:t,theme:n,ctx:e})})].filter(Boolean):[],withStylesTransform:!!i}}function Xe({name:t,classes:e,props:r,stylesCtx:n,className:i,style:a,rootSelector:s="root",unstyled:o,classNames:l,styles:u,vars:c,varsResolver:h}){const d=Vr(),f=Iq(),p=kq(),g=Mq(),m=(Array.isArray(t)?t:[t]).filter(b=>b),{withStylesTransform:v,getTransformedStyles:y}=vX({props:r,stylesCtx:n,themeName:m});return(b,x)=>({className:cX({theme:d,options:x,themeName:m,selector:b,classNamesPrefix:f,classNames:l,classes:e,unstyled:o,className:i,rootSelector:s,props:r,stylesCtx:n,withStaticClasses:p,headless:g,transformedStyles:y([x==null?void 0:x.styles,u])}),style:pX({theme:d,themeName:m,selector:b,options:x,props:r,stylesCtx:n,rootSelector:s,styles:u,style:a,vars:c,varsResolver:h,headless:g,withStylesTransform:v})})}function bg(t,e){return typeof t=="boolean"?t:e.autoContrast}function be(t,e,r){var s;const n=Vr(),i=(s=n.components[t])==null?void 0:s.defaultProps,a=typeof i=="function"?i(n):i;return{...e,...a,...kl(r)}}function k0(t){return gt(t).reduce((e,r)=>t[r]!==void 0?`${e}${J7(r)}:${t[r]};`:e,"").trim()}function mX({selector:t,styles:e,media:r,container:n}){const i=e?k0(e):"",a=Array.isArray(r)?r.map(o=>`@media${o.query}{${t}{${k0(o.styles)}}}`):[],s=Array.isArray(n)?n.map(o=>`@container ${o.query}{${t}{${k0(o.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${a.join("")}${s.join("")}`.trim()}function Tc(t){const e=$A();return A.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:mX(t)}})}function uf(t){const{m:e,mx:r,my:n,mt:i,mb:a,ml:s,mr:o,me:l,ms:u,p:c,px:h,py:d,pt:f,pb:p,pl:g,pr:m,pe:v,ps:y,bd:b,bg:x,c:w,opacity:E,ff:_,fz:T,fw:C,lts:P,ta:M,lh:R,fs:I,tt:S,td:B,w:L,miw:N,maw:F,h:z,mih:$,mah:O,bgsz:j,bgp:J,bgr:H,bga:V,pos:X,top:te,left:Q,bottom:Y,right:ae,inset:se,display:ve,flex:ge,hiddenFrom:k,visibleFrom:K,lightHidden:ne,darkHidden:U,sx:G,...q}=t;return{styleProps:kl({m:e,mx:r,my:n,mt:i,mb:a,ml:s,mr:o,me:l,ms:u,p:c,px:h,py:d,pt:f,pb:p,pl:g,pr:m,pe:v,ps:y,bd:b,bg:x,c:w,opacity:E,ff:_,fz:T,fw:C,lts:P,ta:M,lh:R,fs:I,tt:S,td:B,w:L,miw:N,maw:F,h:z,mih:$,mah:O,bgsz:j,bgp:J,bgr:H,bga:V,pos:X,top:te,left:Q,bottom:Y,right:ae,inset:se,display:ve,flex:ge,hiddenFrom:k,visibleFrom:K,lightHidden:ne,darkHidden:U,sx:G}),rest:q}}const gX={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function qA(t,e){const r=Dl({color:t,theme:e});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function yX(t,e){const r=Dl({color:t,theme:e});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:qA(t,e)}function bX(t,e){if(typeof t=="number")return me(t);if(typeof t=="string"){const[r,n,...i]=t.split(" ").filter(s=>s.trim()!=="");let a=`${me(r)}`;return n&&(a+=` ${n}`),i.length>0&&(a+=` ${qA(i.join(" "),e)}`),a.trim()}return t}const HI={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function xX(t){return typeof t=="string"&&t in HI?HI[t]:t}const wX=["h1","h2","h3","h4","h5","h6"];function _X(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&wX.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?me(t):t}function EX(t){return t}const SX=["h1","h2","h3","h4","h5","h6"];function CX(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&SX.includes(t)?`var(--mantine-${t}-line-height)`:t}function TX(t){return typeof t=="number"?me(t):t}function AX(t,e){if(typeof t=="number")return me(t);if(typeof t=="string"){const r=t.replace("-","");if(!(r in e.spacing))return me(t);const n=`--mantine-spacing-${r}`;return t.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return t}const M0={color:qA,textColor:yX,fontSize:_X,spacing:AX,identity:EX,size:TX,lineHeight:CX,fontFamily:xX,border:bX};function VI(t){return t.replace("(min-width: ","").replace("em)","")}function RX({media:t,...e}){const n=Object.keys(t).sort((i,a)=>Number(VI(i))-Number(VI(a))).map(i=>({query:i,styles:t[i]}));return{...e,media:n}}function PX(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function IX(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function kX(t){return typeof t=="object"&&t!==null?gt(t).filter(e=>e!=="base"):[]}function MX(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function DX({styleProps:t,data:e,theme:r}){return RX(gt(t).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return n;const a=e[i],s=Array.isArray(a.property)?a.property:[a.property],o=IX(t[i]);if(!PX(t[i]))return s.forEach(u=>{n.inlineStyles[u]=M0[a.type](o,r)}),n;n.hasResponsiveStyles=!0;const l=kX(t[i]);return s.forEach(u=>{o&&(n.styles[u]=M0[a.type](o,r)),l.forEach(c=>{const h=`(min-width: ${r.breakpoints[c]})`;n.media[h]={...n.media[h],[u]:M0[a.type](MX(t[i],c),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function xg(){return`__m__-${D.useId().replace(/:/g,"")}`}function XA(t,e){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...XA(n,e)}),{}):typeof t=="function"?t(e):t??{}}function l6(t){return t.startsWith("data-")?t:`data-${t}`}function OX(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return n===void 0||n===""||n===!1||n===null||(e[l6(r)]=t[r]),e},{})}function u6(t){return t?typeof t=="string"?{[l6(t)]:!0}:Array.isArray(t)?[...t].reduce((e,r)=>({...e,...u6(r)}),{}):OX(t):null}function sC(t,e){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...sC(n,e)}),{}):typeof t=="function"?t(e):t??{}}function NX({theme:t,style:e,vars:r,styleProps:n}){const i=sC(e,t),a=sC(r,t);return{...i,...a,...n}}const c6=D.forwardRef(({component:t,style:e,__vars:r,className:n,variant:i,mod:a,size:s,hiddenFrom:o,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:h,__size:d,...f},p)=>{var T;const g=Vr(),m=t||"div",{styleProps:v,rest:y}=uf(f),b=Dq(),x=(T=b==null?void 0:b())==null?void 0:T(v.sx),w=xg(),E=DX({styleProps:v,theme:g,data:gX}),_={ref:p,style:NX({theme:g,style:e,vars:r,styleProps:E.inlineStyles}),className:Wt(n,x,{[w]:E.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${o}`]:o,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Xz(s)?void 0:s||void 0,size:d,...u6(a),...y};return A.jsxs(A.Fragment,{children:[E.hasResponsiveStyles&&A.jsx(Tc,{selector:`.${w}`,styles:E.styles,media:E.media}),typeof h=="function"?h(_):A.jsx(m,{..._})]})});c6.displayName="@mantine/core/Box";const xe=c6;function h6(t){return t}function Re(t){const e=D.forwardRef(t);return e.extend=h6,e.withProps=r=>{const n=D.forwardRef((i,a)=>A.jsx(e,{...r,...i,ref:a}));return n.extend=e.extend,n.displayName=`WithProps(${e.displayName})`,n},e}function sn(t){const e=D.forwardRef(t);return e.withProps=r=>{const n=D.forwardRef((i,a)=>A.jsx(e,{...r,...i,ref:a}));return n.extend=e.extend,n.displayName=`WithProps(${e.displayName})`,n},e.extend=h6,e}const LX=D.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ac(){return D.useContext(LX)}function BX(t){if(!t||typeof t=="string")return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function D0(t){return t!=null&&t.current?t.current.scrollHeight:"auto"}const dh=typeof window<"u"&&window.requestAnimationFrame;function FX({transitionDuration:t,transitionTimingFunction:e="ease",onTransitionEnd:r=()=>{},opened:n}){const i=D.useRef(null),a=0,s={display:"none",height:0,overflow:"hidden"},[o,l]=D.useState(n?{}:s),u=p=>{sf.flushSync(()=>l(p))},c=p=>{u(g=>({...g,...p}))};function h(p){const g=t||BX(p);return{transition:`height ${g}ms ${e}, opacity ${g}ms ${e}`}}io(()=>{typeof dh=="function"&&dh(n?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),dh(()=>{const p=D0(i);c({...h(p),height:p})})}:()=>{const p=D0(i);c({...h(p),willChange:"height",height:p}),dh(()=>c({height:a,overflow:"hidden"}))})},[n]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(n){const g=D0(i);g===o.height?u({}):c({height:g}),r()}else o.height===a&&(u(s),r())};function f({style:p={},refKey:g="ref",...m}={}){const v=m[g];return{"aria-hidden":!n,...m,[g]:t6(i,v),onTransitionEnd:d,style:{boxSizing:"border-box",...p,...o}}}return f}const zX={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},d6=Re((t,e)=>{const{children:r,in:n,transitionDuration:i,transitionTimingFunction:a,style:s,onTransitionEnd:o,animateOpacity:l,...u}=be("Collapse",zX,t),c=Vr(),h=UA(),f=(c.respectReducedMotion?h:!1)?0:i,p=FX({opened:n,transitionDuration:f,transitionTimingFunction:a,onTransitionEnd:o});return f===0?n?A.jsx(xe,{...u,children:r}):null:A.jsx(xe,{...p({style:{opacity:n||!l?1:0,transition:l?`opacity ${f}ms ${a}`:"none",...XA(s,c)},ref:e,...u}),children:r})});d6.displayName="@mantine/core/Collapse";const[jX,ai]=Sn("ScrollArea.Root component was not found in tree");function uc(t,e){const r=Ho(e);Ml(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}const UX=D.forwardRef((t,e)=>{const{style:r,...n}=t,i=ai(),[a,s]=D.useState(0),[o,l]=D.useState(0),u=!!(a&&o);return uc(i.scrollbarX,()=>{var h;const c=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),uc(i.scrollbarY,()=>{var h;const c=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),u?A.jsx("div",{...n,ref:e,style:{...r,width:a,height:o}}):null}),$X=D.forwardRef((t,e)=>{const r=ai(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?A.jsx(UX,{...t,ref:e}):null}),GX={scrollHideDelay:1e3,type:"hover"},f6=D.forwardRef((t,e)=>{const r=be("ScrollAreaRoot",GX,t),{type:n,scrollHideDelay:i,scrollbars:a,...s}=r,[o,l]=D.useState(null),[u,c]=D.useState(null),[h,d]=D.useState(null),[f,p]=D.useState(null),[g,m]=D.useState(null),[v,y]=D.useState(0),[b,x]=D.useState(0),[w,E]=D.useState(!1),[_,T]=D.useState(!1),C=_r(e,P=>l(P));return A.jsx(jX,{value:{type:n,scrollHideDelay:i,scrollArea:o,viewport:u,onViewportChange:c,content:h,onContentChange:d,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:w,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:x},children:A.jsx(xe,{...s,ref:C,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${v}px`,"--sa-corner-height":a!=="xy"?"0px":`${b}px`}})})});f6.displayName="@mantine/core/ScrollAreaRoot";function p6(t,e){const r=t/e;return Number.isNaN(r)?0:r}function wg(t){const e=p6(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function v6(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function HX(t,[e,r]){return Math.min(r,Math.max(e,t))}function WI(t,e,r="ltr"){const n=wg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-n,l=r==="ltr"?[0,s]:[s*-1,0],u=HX(t,l);return v6([0,s],[0,o])(u)}function VX(t,e,r,n="ltr"){const i=wg(r),a=i/2,s=e||a,o=i-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,c=r.content-r.viewport,h=n==="ltr"?[0,c]:[c*-1,0];return v6([l,u],h)(t)}function m6(t,e){return t>0&&t<e}function am(t){return t?parseInt(t,10):0}function al(t,e,{checkForDefaultPrevented:r=!0}={}){return n=>{t==null||t(n),(r===!1||!n.defaultPrevented)&&(e==null||e(n))}}const[WX,g6]=Sn("ScrollAreaScrollbar was not found in tree"),y6=D.forwardRef((t,e)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:o,onDragScroll:l,onWheelScroll:u,onResize:c,...h}=t,d=ai(),[f,p]=D.useState(null),g=_r(e,T=>p(T)),m=D.useRef(null),v=D.useRef(""),{viewport:y}=d,b=r.content-r.viewport,x=Ho(u),w=Ho(o),E=mg(c,10),_=T=>{if(m.current){const C=T.clientX-m.current.left,P=T.clientY-m.current.top;l({x:C,y:P})}};return D.useEffect(()=>{const T=C=>{const P=C.target;(f==null?void 0:f.contains(P))&&x(C,b)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,f,b,x]),D.useEffect(w,[r,w]),uc(f,E),uc(d.content,E),A.jsx(WX,{value:{scrollbar:f,hasThumb:n,onThumbChange:Ho(i),onThumbPointerUp:Ho(a),onThumbPositionChange:w,onThumbPointerDown:Ho(s)},children:A.jsx("div",{...h,ref:g,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:al(t.onPointerDown,T=>{T.preventDefault(),T.button===0&&(T.target.setPointerCapture(T.pointerId),m.current=f.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_(T))}),onPointerMove:al(t.onPointerMove,_),onPointerUp:al(t.onPointerUp,T=>{T.preventDefault();const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,m.current=null})})})}),b6=D.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,style:i,...a}=t,s=ai(),[o,l]=D.useState(),u=D.useRef(null),c=_r(e,u,s.onScrollbarXChange);return D.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),A.jsx(y6,{"data-orientation":"horizontal",...a,ref:c,sizes:r,style:{...i,"--sa-thumb-width":`${wg(r)}px`},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(s.viewport){const f=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),m6(f,d)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:am(o.paddingLeft),paddingEnd:am(o.paddingRight)}})}})});b6.displayName="@mantine/core/ScrollAreaScrollbarX";const x6=D.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,style:i,...a}=t,s=ai(),[o,l]=D.useState(),u=D.useRef(null),c=_r(e,u,s.onScrollbarYChange);return D.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),A.jsx(y6,{...a,"data-orientation":"vertical",ref:c,sizes:r,style:{"--sa-thumb-height":`${wg(r)}px`,...i},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(s.viewport){const f=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),m6(f,d)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:am(o.paddingTop),paddingEnd:am(o.paddingBottom)}})}})});x6.displayName="@mantine/core/ScrollAreaScrollbarY";const _g=D.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,{dir:i}=Ac(),a=ai(),s=D.useRef(null),o=D.useRef(0),[l,u]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=p6(l.viewport,l.content),h={...n,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:f=>{s.current=f},onThumbPointerUp:()=>{o.current=0},onThumbPointerDown:f=>{o.current=f}},d=(f,p)=>VX(f,o.current,l,p);return r==="horizontal"?A.jsx(b6,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=a.viewport.scrollLeft,p=WI(f,l,i);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=d(f,i))}}):r==="vertical"?A.jsx(x6,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=a.viewport.scrollTop,p=WI(f,l);l.scrollbar.size===0?s.current.style.opacity="0":s.current.style.opacity="1",s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=d(f))}}):null});_g.displayName="@mantine/core/ScrollAreaScrollbarVisible";const YA=D.forwardRef((t,e)=>{const r=ai(),{forceMount:n,...i}=t,[a,s]=D.useState(!1),o=t.orientation==="horizontal",l=mg(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,c=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?u:c)}},10);return uc(r.viewport,l),uc(r.content,l),n||a?A.jsx(_g,{"data-state":a?"visible":"hidden",...i,ref:e}):null});YA.displayName="@mantine/core/ScrollAreaScrollbarAuto";const w6=D.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ai(),[a,s]=D.useState(!1);return D.useEffect(()=>{const{scrollArea:o}=i;let l=0;if(o){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),r||a?A.jsx(YA,{"data-state":a?"visible":"hidden",...n,ref:e}):null});w6.displayName="@mantine/core/ScrollAreaScrollbarHover";const qX=D.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ai(),a=t.orientation==="horizontal",[s,o]=D.useState("hidden"),l=mg(()=>o("idle"),100);return D.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>o("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),D.useEffect(()=>{const{viewport:u}=i,c=a?"scrollLeft":"scrollTop";if(u){let h=u[c];const d=()=>{const f=u[c];h!==f&&(o("scrolling"),l()),h=f};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,a,l]),r||s!=="hidden"?A.jsx(_g,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:al(t.onPointerEnter,()=>o("interacting")),onPointerLeave:al(t.onPointerLeave,()=>o("idle"))}):null}),oC=D.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ai(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return D.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?A.jsx(w6,{...n,ref:e,forceMount:r}):i.type==="scroll"?A.jsx(qX,{...n,ref:e,forceMount:r}):i.type==="auto"?A.jsx(YA,{...n,ref:e,forceMount:r}):i.type==="always"?A.jsx(_g,{...n,ref:e}):null});oC.displayName="@mantine/core/ScrollAreaScrollbar";function XX(t,e=()=>{}){let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=r.left!==a.left,o=r.top!==a.top;(s||o)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const _6=D.forwardRef((t,e)=>{const{style:r,...n}=t,i=ai(),a=g6(),{onThumbPositionChange:s}=a,o=_r(e,c=>a.onThumbChange(c)),l=D.useRef(),u=mg(()=>{l.current&&(l.current(),l.current=void 0)},100);return D.useEffect(()=>{const{viewport:c}=i;if(c){const h=()=>{if(u(),!l.current){const d=XX(c,s);l.current=d,s()}};return s(),c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,u,s]),A.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:o,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:al(t.onPointerDownCapture,c=>{const d=c.target.getBoundingClientRect(),f=c.clientX-d.left,p=c.clientY-d.top;a.onThumbPointerDown({x:f,y:p})}),onPointerUp:al(t.onPointerUp,a.onThumbPointerUp)})});_6.displayName="@mantine/core/ScrollAreaThumb";const lC=D.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=g6();return r||i.hasThumb?A.jsx(_6,{ref:e,...n}):null});lC.displayName="@mantine/core/ScrollAreaThumb";const E6=D.forwardRef(({children:t,style:e,...r},n)=>{const i=ai(),a=_r(n,i.onViewportChange);return A.jsx(xe,{...r,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e},children:A.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:t})})});E6.displayName="@mantine/core/ScrollAreaViewport";var KA={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const S6={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},YX=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":me(e)}}),Rc=Re((t,e)=>{const r=be("ScrollArea",S6,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,scrollbarSize:l,vars:u,type:c,scrollHideDelay:h,viewportProps:d,viewportRef:f,onScrollPositionChange:p,children:g,offsetScrollbars:m,scrollbars:v,onBottomReached:y,onTopReached:b,...x}=r,[w,E]=D.useState(!1),_=Xe({name:"ScrollArea",props:r,classes:KA,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:u,varsResolver:YX});return A.jsxs(f6,{type:c==="never"?"always":c,scrollHideDelay:h,ref:e,scrollbars:v,..._("root"),...x,children:[A.jsx(E6,{...d,..._("viewport",{style:d==null?void 0:d.style}),ref:f,"data-offset-scrollbars":m===!0?"xy":m||void 0,"data-scrollbars":v||void 0,onScroll:T=>{var R;(R=d==null?void 0:d.onScroll)==null||R.call(d,T),p==null||p({x:T.currentTarget.scrollLeft,y:T.currentTarget.scrollTop});const{scrollTop:C,scrollHeight:P,clientHeight:M}=T.currentTarget;C-(P-M)>=0&&(y==null||y()),C===0&&(b==null||b())},children:g}),(v==="xy"||v==="x")&&A.jsx(oC,{..._("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:A.jsx(lC,{..._("thumb")})}),(v==="xy"||v==="y")&&A.jsx(oC,{..._("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:A.jsx(lC,{..._("thumb")})}),A.jsx($X,{..._("corner"),"data-hovered":w||void 0,"data-hidden":c==="never"||void 0})]})});Rc.displayName="@mantine/core/ScrollArea";const ZA=Re((t,e)=>{const{children:r,classNames:n,styles:i,scrollbarSize:a,scrollHideDelay:s,type:o,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:h,unstyled:d,variant:f,viewportProps:p,scrollbars:g,style:m,vars:v,onBottomReached:y,onTopReached:b,...x}=be("ScrollAreaAutosize",S6,t);return A.jsx(xe,{...x,ref:e,style:[{display:"flex",overflow:"auto"},m],children:A.jsx(xe,{style:{display:"flex",flexDirection:"column",flex:1},children:A.jsx(Rc,{classNames:n,styles:i,scrollHideDelay:s,scrollbarSize:a,type:o,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:h,unstyled:d,variant:f,viewportProps:p,vars:v,scrollbars:g,onBottomReached:y,onTopReached:b,children:r})})})});Rc.classes=KA;ZA.displayName="@mantine/core/ScrollAreaAutosize";ZA.classes=KA;Rc.Autosize=ZA;var C6={root:"m_87cf2631"};const KX={__staticSelector:"UnstyledButton"},zi=sn((t,e)=>{const r=be("UnstyledButton",KX,t),{className:n,component:i="button",__staticSelector:a,unstyled:s,classNames:o,styles:l,style:u,...c}=r,h=Xe({name:a,props:r,classes:C6,className:n,style:u,classNames:o,styles:l,unstyled:s});return A.jsx(xe,{...h("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...c})});zi.classes=C6;zi.displayName="@mantine/core/UnstyledButton";var T6={root:"m_515a97f8"};const ZX={},QA=Re((t,e)=>{const r=be("VisuallyHidden",ZX,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,...u}=r,c=Xe({name:"VisuallyHidden",classes:T6,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o});return A.jsx(xe,{component:"span",ref:e,...c("root"),...u})});QA.classes=T6;QA.displayName="@mantine/core/VisuallyHidden";var A6={root:"m_1b7284a3"};const QX={},JX=(t,{radius:e,shadow:r})=>({root:{"--paper-radius":e===void 0?void 0:lr(e),"--paper-shadow":zA(r)}}),Eg=sn((t,e)=>{const r=be("Paper",QX,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,withBorder:l,vars:u,radius:c,shadow:h,variant:d,mod:f,...p}=r,g=Xe({name:"Paper",props:r,classes:A6,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:u,varsResolver:JX});return A.jsx(xe,{ref:e,mod:[{"data-with-border":l},f],...g("root"),variant:d,...p})});Eg.classes=A6;Eg.displayName="@mantine/core/Paper";function Sg(){return typeof window<"u"}function Pc(t){return R6(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sa(t){var e;return(e=(R6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function R6(t){return Sg()?t instanceof Node||t instanceof yn(t).Node:!1}function Et(t){return Sg()?t instanceof Element||t instanceof yn(t).Element:!1}function On(t){return Sg()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function uC(t){return!Sg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}function cf(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ii(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function eY(t){return["table","td","th"].includes(Pc(t))}function Cg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function JA(t){const e=Tg(),r=Et(t)?ii(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function tY(t){let e=Qa(t);for(;On(e)&&!ao(e);){if(JA(e))return e;if(Cg(e))return null;e=Qa(e)}return null}function Tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ao(t){return["html","body","#document"].includes(Pc(t))}function ii(t){return yn(t).getComputedStyle(t)}function Ag(t){return Et(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qa(t){if(Pc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uC(t)&&t.host||Sa(t);return uC(e)?e.host:e}function P6(t){const e=Qa(t);return ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:On(e)&&cf(e)?e:P6(e)}function Va(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=P6(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=yn(i);if(a){const o=cC(s);return e.concat(s,s.visualViewport||[],cf(i)?i:[],o&&r?Va(o):[])}return e.concat(i,Va(i,[],r))}function cC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qI(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Rd(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&uC(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function I6(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function k6(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function rY(t){return aY()?!1:!XI()&&t.width===0&&t.height===0||XI()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function nY(){return/apple/i.test(navigator.vendor)}function XI(){const t=/android/i;return t.test(I6())||t.test(k6())}function iY(){return I6().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function aY(){return k6().includes("jsdom/")}function hC(t,e){const r=["mouse","pen"];return r.push("",void 0),r.includes(t)}function sY(t){return"nativeEvent"in t}function oY(t){return t.matches("html,body")}function el(t){return(t==null?void 0:t.ownerDocument)||document}function O0(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function ou(t){return"composedPath"in t?t.composedPath()[0]:t.target}const lY="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function uY(t){return On(t)&&t.matches(lY)}const ji=Math.min,Fr=Math.max,sm=Math.round,up=Math.floor,ya=t=>({x:t,y:t}),cY={left:"right",right:"left",bottom:"top",top:"bottom"},hY={start:"end",end:"start"};function dC(t,e,r){return Fr(t,ji(e,r))}function Ja(t,e){return typeof t=="function"?t(e):t}function Ui(t){return t.split("-")[0]}function Ic(t){return t.split("-")[1]}function e2(t){return t==="x"?"y":"x"}function t2(t){return t==="y"?"height":"width"}function es(t){return["top","bottom"].includes(Ui(t))?"y":"x"}function r2(t){return e2(es(t))}function dY(t,e,r){r===void 0&&(r=!1);const n=Ic(t),i=r2(t),a=t2(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=om(s)),[s,om(s)]}function fY(t){const e=om(t);return[fC(t),e,fC(e)]}function fC(t){return t.replace(/start|end/g,e=>hY[e])}function pY(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function vY(t,e,r,n){const i=Ic(t);let a=pY(Ui(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(fC)))),a}function om(t){return t.replace(/left|right|bottom|top/g,e=>cY[e])}function mY(t){return{top:0,right:0,bottom:0,left:0,...t}}function n2(t){return typeof t!="number"?mY(t):{top:t,right:t,bottom:t,left:t}}function cc(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function YI(t,e,r){let{reference:n,floating:i}=t;const a=es(e),s=r2(e),o=t2(s),l=Ui(e),u=a==="y",c=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,d=n[o]/2-i[o]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Ic(e)){case"start":f[s]-=d*(r&&u?-1:1);break;case"end":f[s]+=d*(r&&u?-1:1);break}return f}const gY=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=YI(u,n,l),d=n,f={},p=0;for(let g=0;g<o.length;g++){const{name:m,fn:v}=o[g],{x:y,y:b,data:x,reset:w}=await v({x:c,y:h,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:t,floating:e}});c=y??c,h=b??h,f={...f,[m]:{...f[m],...x}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:c,y:h}=YI(u,d,l)),g=-1)}return{x:c,y:h,placement:d,strategy:i,middlewareData:f}};async function i2(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Ja(e,t),p=n2(f),m=o[d?h==="floating"?"reference":"floating":h],v=cc(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(m)))==null||r?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),y=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),x=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},w=cc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-w.top+p.top)/x.y,bottom:(w.bottom-v.bottom+p.bottom)/x.y,left:(v.left-w.left+p.left)/x.x,right:(w.right-v.right+p.right)/x.x}}const yY=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:c=0}=Ja(t,e)||{};if(u==null)return{};const h=n2(c),d={x:r,y:n},f=r2(i),p=t2(f),g=await s.getDimensions(u),m=f==="y",v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",x=a.reference[p]+a.reference[f]-d[f]-a.floating[p],w=d[f]-a.reference[f],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let _=E?E[b]:0;(!_||!await(s.isElement==null?void 0:s.isElement(E)))&&(_=o.floating[b]||a.floating[p]);const T=x/2-w/2,C=_/2-g[p]/2-1,P=ji(h[v],C),M=ji(h[y],C),R=P,I=_-g[p]-M,S=_/2-g[p]/2+T,B=dC(R,S,I),L=!l.arrow&&Ic(i)!=null&&S!==B&&a.reference[p]/2-(S<R?P:M)-g[p]/2<0,N=L?S<R?S-R:S-I:0;return{[f]:d[f]+N,data:{[f]:B,centerOffset:S-B-N,...L&&{alignmentOffset:N}},reset:L}}}),bY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Ja(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Ui(i),y=es(o),b=Ui(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=d||(b||!g?[om(o)]:fY(o)),E=p!=="none";!d&&E&&w.push(...vY(o,g,p,x));const _=[o,...w],T=await i2(e,m),C=[];let P=((n=a.flip)==null?void 0:n.overflows)||[];if(c&&C.push(T[v]),h){const S=dY(i,s,x);C.push(T[S[0]],T[S[1]])}if(P=[...P,{placement:i,overflows:C}],!C.every(S=>S<=0)){var M,R;const S=(((M=a.flip)==null?void 0:M.index)||0)+1,B=_[S];if(B)return{data:{index:S,overflows:P},reset:{placement:B}};let L=(R=P.filter(N=>N.overflows[0]<=0).sort((N,F)=>N.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(f){case"bestFit":{var I;const N=(I=P.filter(F=>{if(E){const z=es(F.placement);return z===y||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,$)=>z+$,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:I[0];N&&(L=N);break}case"initialPlacement":L=o;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function M6(t){const e=ji(...t.map(a=>a.left)),r=ji(...t.map(a=>a.top)),n=Fr(...t.map(a=>a.right)),i=Fr(...t.map(a=>a.bottom));return{x:e,y:r,width:n-e,height:i-r}}function xY(t){const e=t.slice().sort((i,a)=>i.y-a.y),r=[];let n=null;for(let i=0;i<e.length;i++){const a=e[i];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(i=>cc(M6(i)))}const wY=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:r,elements:n,rects:i,platform:a,strategy:s}=e,{padding:o=2,x:l,y:u}=Ja(t,e),c=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),h=xY(c),d=cc(M6(c)),f=n2(o);function p(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&u!=null)return h.find(m=>l>m.left-f.left&&l<m.right+f.right&&u>m.top-f.top&&u<m.bottom+f.bottom)||d;if(h.length>=2){if(es(r)==="y"){const P=h[0],M=h[h.length-1],R=Ui(r)==="top",I=P.top,S=M.bottom,B=R?P.left:M.left,L=R?P.right:M.right,N=L-B,F=S-I;return{top:I,bottom:S,left:B,right:L,width:N,height:F,x:B,y:I}}const m=Ui(r)==="left",v=Fr(...h.map(P=>P.right)),y=ji(...h.map(P=>P.left)),b=h.filter(P=>m?P.left===y:P.right===v),x=b[0].top,w=b[b.length-1].bottom,E=y,_=v,T=_-E,C=w-x;return{top:x,bottom:w,left:E,right:_,width:T,height:C,x:E,y:x}}return d}const g=await a.getElementRects({reference:{getBoundingClientRect:p},floating:n.floating,strategy:s});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function _Y(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Ui(r),o=Ic(r),l=es(r)==="y",u=["left","top"].includes(s)?-1:1,c=a&&l?-1:1,h=Ja(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof p=="number"&&(f=o==="end"?p*-1:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}const EY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await _Y(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},SY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:m=>{let{x:v,y}=m;return{x:v,y}}},...l}=Ja(t,e),u={x:r,y:n},c=await i2(e,l),h=es(Ui(i)),d=e2(h);let f=u[d],p=u[h];if(a){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=f+c[m],b=f-c[v];f=dC(y,f,b)}if(s){const m=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+c[m],b=p-c[v];p=dC(y,p,b)}const g=o.fn({...e,[d]:f,[h]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:a,[h]:s}}}}}},CY=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Ja(t,e),c={x:r,y:n},h=es(i),d=e2(h);let f=c[d],p=c[h];const g=Ja(o,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",x=a.reference[d]-a.floating[b]+m.mainAxis,w=a.reference[d]+a.reference[b]-m.mainAxis;f<x?f=x:f>w&&(f=w)}if(u){var v,y;const b=d==="y"?"width":"height",x=["top","left"].includes(Ui(i)),w=a.reference[h]-a.floating[b]+(x&&((v=s.offset)==null?void 0:v[h])||0)+(x?0:m.crossAxis),E=a.reference[h]+a.reference[b]+(x?0:((y=s.offset)==null?void 0:y[h])||0)-(x?m.crossAxis:0);p<w?p=w:p>E&&(p=E)}return{[d]:f,[h]:p}}}},TY=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=Ja(t,e),c=await i2(e,u),h=Ui(i),d=Ic(i),f=es(i)==="y",{width:p,height:g}=a.floating;let m,v;h==="top"||h==="bottom"?(m=h,v=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,m=d==="end"?"top":"bottom");const y=g-c.top-c.bottom,b=p-c.left-c.right,x=ji(g-c[m],y),w=ji(p-c[v],b),E=!e.middlewareData.shift;let _=x,T=w;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(_=y),E&&!d){const P=Fr(c.left,0),M=Fr(c.right,0),R=Fr(c.top,0),I=Fr(c.bottom,0);f?T=p-2*(P!==0||M!==0?P+M:Fr(c.left,c.right)):_=g-2*(R!==0||I!==0?R+I:Fr(c.top,c.bottom))}await l({...e,availableWidth:T,availableHeight:_});const C=await s.getDimensions(o.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function D6(t){const e=ii(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=On(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=sm(r)!==a||sm(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function a2(t){return Et(t)?t:t.contextElement}function ju(t){const e=a2(t);if(!On(e))return ya(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=D6(e);let s=(a?sm(r.width):r.width)/n,o=(a?sm(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const AY=ya(0);function O6(t){const e=yn(t);return!Tg()||!e.visualViewport?AY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RY(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==yn(t)?!1:e}function vl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=a2(t);let s=ya(1);e&&(n?Et(n)&&(s=ju(n)):s=ju(t));const o=RY(a,r,n)?O6(a):ya(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,c=i.width/s.x,h=i.height/s.y;if(a){const d=yn(a),f=n&&Et(n)?yn(n):n;let p=d,g=cC(p);for(;g&&n&&f!==p;){const m=ju(g),v=g.getBoundingClientRect(),y=ii(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,x=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,h*=m.y,l+=b,u+=x,p=yn(g),g=cC(p)}}return cc({width:c,height:h,x:l,y:u})}function s2(t,e){const r=Ag(t).scrollLeft;return e?e.left+r:vl(Sa(t)).left+r}function N6(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:s2(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function PY(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Sa(n),o=e?Cg(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=ya(1);const c=ya(0),h=On(n);if((h||!h&&!a)&&((Pc(n)!=="body"||cf(s))&&(l=Ag(n)),On(n))){const f=vl(n);u=ju(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}const d=s&&!h&&!a?N6(s,l,!0):ya(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}}function IY(t){return Array.from(t.getClientRects())}function kY(t){const e=Sa(t),r=Ag(t),n=t.ownerDocument.body,i=Fr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Fr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+s2(t);const o=-r.scrollTop;return ii(n).direction==="rtl"&&(s+=Fr(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function MY(t,e){const r=yn(t),n=Sa(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=Tg();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function DY(t,e){const r=vl(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=On(t)?ju(t):ya(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function KI(t,e,r){let n;if(e==="viewport")n=MY(t,r);else if(e==="document")n=kY(Sa(t));else if(Et(e))n=DY(e,r);else{const i=O6(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cc(n)}function L6(t,e){const r=Qa(t);return r===e||!Et(r)||ao(r)?!1:ii(r).position==="fixed"||L6(r,e)}function OY(t,e){const r=e.get(t);if(r)return r;let n=Va(t,[],!1).filter(o=>Et(o)&&Pc(o)!=="body"),i=null;const a=ii(t).position==="fixed";let s=a?Qa(t):t;for(;Et(s)&&!ao(s);){const o=ii(s),l=JA(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cf(s)&&!l&&L6(t,s))?n=n.filter(c=>c!==s):i=o,s=Qa(s)}return e.set(t,n),n}function NY(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Cg(e)?[]:OY(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,c)=>{const h=KI(e,c,i);return u.top=Fr(h.top,u.top),u.right=ji(h.right,u.right),u.bottom=ji(h.bottom,u.bottom),u.left=Fr(h.left,u.left),u},KI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LY(t){const{width:e,height:r}=D6(t);return{width:e,height:r}}function BY(t,e,r){const n=On(e),i=Sa(e),a=r==="fixed",s=vl(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=ya(0);if(n||!n&&!a)if((Pc(e)!=="body"||cf(i))&&(o=Ag(e)),n){const d=vl(e,!0,a,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=s2(i));const u=i&&!n&&!a?N6(i,o):ya(0),c=s.left+o.scrollLeft-l.x-u.x,h=s.top+o.scrollTop-l.y-u.y;return{x:c,y:h,width:s.width,height:s.height}}function N0(t){return ii(t).position==="static"}function ZI(t,e){if(!On(t)||ii(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Sa(t)===r&&(r=r.ownerDocument.body),r}function B6(t,e){const r=yn(t);if(Cg(t))return r;if(!On(t)){let i=Qa(t);for(;i&&!ao(i);){if(Et(i)&&!N0(i))return i;i=Qa(i)}return r}let n=ZI(t,e);for(;n&&eY(n)&&N0(n);)n=ZI(n,e);return n&&ao(n)&&N0(n)&&!JA(n)?r:n||tY(t)||r}const FY=async function(t){const e=this.getOffsetParent||B6,r=this.getDimensions,n=await r(t.floating);return{reference:BY(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zY(t){return ii(t).direction==="rtl"}const jY={convertOffsetParentRelativeRectToViewportRelativeRect:PY,getDocumentElement:Sa,getClippingRect:NY,getOffsetParent:B6,getElementRects:FY,getClientRects:IY,getDimensions:LY,getScale:ju,isElement:Et,isRTL:zY};function UY(t,e){let r=null,n;const i=Sa(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:u,top:c,width:h,height:d}=t.getBoundingClientRect();if(o||e(),!h||!d)return;const f=up(c),p=up(i.clientWidth-(u+h)),g=up(i.clientHeight-(c+d)),m=up(u),y={rootMargin:-f+"px "+-p+"px "+-g+"px "+-m+"px",threshold:Fr(0,ji(1,l))||1};let b=!0;function x(w){const E=w[0].intersectionRatio;if(E!==l){if(!b)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(x,y)}r.observe(t)}return s(!0),a}function $Y(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=a2(t),c=i||a?[...u?Va(u):[],...Va(e)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const h=u&&o?UY(u,r):null;let d=-1,f=null;s&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),r()}),u&&!l&&f.observe(u),f.observe(e));let p,g=l?vl(t):null;l&&m();function m(){const v=vl(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&r(),g=v,p=requestAnimationFrame(m)}return r(),()=>{var v;c.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const GY=EY,HY=SY,VY=bY,WY=TY,QI=yY,qY=wY,XY=CY,YY=(t,e,r)=>{const n=new Map,i={platform:jY,...r},a={...i.platform,_c:n};return gY(t,e,{...i,platform:a})};var cv=typeof document<"u"?D.useLayoutEffect:D.useEffect;function lm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!lm(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!lm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function F6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JI(t,e){const r=F6(t);return Math.round(e*r)/r}function L0(t){const e=D.useRef(t);return cv(()=>{e.current=t}),e}function KY(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[c,h]=D.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=D.useState(n);lm(d,n)||f(n);const[p,g]=D.useState(null),[m,v]=D.useState(null),y=D.useCallback(F=>{F!==E.current&&(E.current=F,g(F))},[]),b=D.useCallback(F=>{F!==_.current&&(_.current=F,v(F))},[]),x=a||p,w=s||m,E=D.useRef(null),_=D.useRef(null),T=D.useRef(c),C=l!=null,P=L0(l),M=L0(i),R=L0(u),I=D.useCallback(()=>{if(!E.current||!_.current)return;const F={placement:e,strategy:r,middleware:d};M.current&&(F.platform=M.current),YY(E.current,_.current,F).then(z=>{const $={...z,isPositioned:R.current!==!1};S.current&&!lm(T.current,$)&&(T.current=$,sf.flushSync(()=>{h($)}))})},[d,e,r,M,R]);cv(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const S=D.useRef(!1);cv(()=>(S.current=!0,()=>{S.current=!1}),[]),cv(()=>{if(x&&(E.current=x),w&&(_.current=w),x&&w){if(P.current)return P.current(x,w,I);I()}},[x,w,I,P,C]);const B=D.useMemo(()=>({reference:E,floating:_,setReference:y,setFloating:b}),[y,b]),L=D.useMemo(()=>({reference:x,floating:w}),[x,w]),N=D.useMemo(()=>{const F={position:r,left:0,top:0};if(!L.floating)return F;const z=JI(L.floating,c.x),$=JI(L.floating,c.y);return o?{...F,transform:"translate("+z+"px, "+$+"px)",...F6(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:$}},[r,o,L.floating,c.x,c.y]);return D.useMemo(()=>({...c,update:I,refs:B,elements:L,floatingStyles:N}),[c,I,B,L,N])}const ZY=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?QI({element:n.current,padding:i}).fn(r):{}:n?QI({element:n,padding:i}).fn(r):{}}}},z6=(t,e)=>({...GY(t),options:[t,e]}),o2=(t,e)=>({...HY(t),options:[t,e]}),ek=(t,e)=>({...XY(t),options:[t,e]}),pC=(t,e)=>({...VY(t),options:[t,e]}),QY=(t,e)=>({...WY(t),options:[t,e]}),vC=(t,e)=>({...qY(t),options:[t,e]}),j6=(t,e)=>({...ZY(t),options:[t,e]}),U6={...L5},JY=U6.useInsertionEffect,eK=JY||(t=>t());function ks(t){const e=D.useRef(()=>{});return eK(()=>{e.current=t}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var ba=typeof document<"u"?D.useLayoutEffect:D.useEffect;let tk=!1,tK=0;const rk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tK++;function rK(){const[t,e]=D.useState(()=>tk?rk():void 0);return ba(()=>{t==null&&e(rk())},[]),D.useEffect(()=>{tk=!0},[]),t}const nK=U6.useId,$6=nK||rK;function iK(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const aK=D.createContext(null),sK=D.createContext(null),l2=()=>{var t;return((t=D.useContext(aK))==null?void 0:t.id)||null},u2=()=>D.useContext(sK);function c2(t){return"data-floating-ui-"+t}function B0(t){const e=D.useRef(t);return ba(()=>{e.current=t}),e}const nk=c2("safe-polygon");function hv(t,e,r){return r&&!hC(r)?0:typeof t=="number"?t:t==null?void 0:t[e]}function oK(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:i,events:a,elements:s}=t,{enabled:o=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:h=0,move:d=!0}=e,f=u2(),p=l2(),g=B0(u),m=B0(l),v=B0(r),y=D.useRef(),b=D.useRef(-1),x=D.useRef(),w=D.useRef(-1),E=D.useRef(!0),_=D.useRef(!1),T=D.useRef(()=>{}),C=D.useRef(!1),P=D.useCallback(()=>{var L;const N=(L=i.current.openEvent)==null?void 0:L.type;return(N==null?void 0:N.includes("mouse"))&&N!=="mousedown"},[i]);D.useEffect(()=>{if(!o)return;function L(N){let{open:F}=N;F||(clearTimeout(b.current),clearTimeout(w.current),E.current=!0,C.current=!1)}return a.on("openchange",L),()=>{a.off("openchange",L)}},[o,a]),D.useEffect(()=>{if(!o||!g.current||!r)return;function L(F){P()&&n(!1,F,"hover")}const N=el(s.floating).documentElement;return N.addEventListener("mouseleave",L),()=>{N.removeEventListener("mouseleave",L)}},[s.floating,r,n,o,g,P]);const M=D.useCallback(function(L,N,F){N===void 0&&(N=!0),F===void 0&&(F="hover");const z=hv(m.current,"close",y.current);z&&!x.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>n(!1,L,F),z)):N&&(clearTimeout(b.current),n(!1,L,F))},[m,n]),R=ks(()=>{T.current(),x.current=void 0}),I=ks(()=>{if(_.current){const L=el(s.floating).body;L.style.pointerEvents="",L.removeAttribute(nk),_.current=!1}});D.useEffect(()=>{if(!o)return;function L(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function N(O){if(clearTimeout(b.current),E.current=!1,c&&!hC(y.current)||h>0&&!hv(m.current,"open"))return;const j=hv(m.current,"open",y.current);j?b.current=window.setTimeout(()=>{v.current||n(!0,O,"hover")},j):n(!0,O,"hover")}function F(O){if(L())return;T.current();const j=el(s.floating);if(clearTimeout(w.current),C.current=!1,g.current&&i.current.floatingContext){r||clearTimeout(b.current),x.current=g.current({...i.current.floatingContext,tree:f,x:O.clientX,y:O.clientY,onClose(){I(),R(),M(O,!0,"safe-polygon")}});const H=x.current;j.addEventListener("mousemove",H),T.current=()=>{j.removeEventListener("mousemove",H)};return}(y.current==="touch"?!Rd(s.floating,O.relatedTarget):!0)&&M(O)}function z(O){L()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:f,x:O.clientX,y:O.clientY,onClose(){I(),R(),M(O)}})(O))}if(Et(s.domReference)){var $;const O=s.domReference;return r&&O.addEventListener("mouseleave",z),($=s.floating)==null||$.addEventListener("mouseleave",z),d&&O.addEventListener("mousemove",N,{once:!0}),O.addEventListener("mouseenter",N),O.addEventListener("mouseleave",F),()=>{var j;r&&O.removeEventListener("mouseleave",z),(j=s.floating)==null||j.removeEventListener("mouseleave",z),d&&O.removeEventListener("mousemove",N),O.removeEventListener("mouseenter",N),O.removeEventListener("mouseleave",F)}}},[s,o,t,c,h,d,M,R,I,n,r,v,f,m,g,i]),ba(()=>{var L;if(o&&r&&(L=g.current)!=null&&L.__options.blockPointerEvents&&P()){_.current=!0;const F=s.floating;if(Et(s.domReference)&&F){var N;const z=el(s.floating).body;z.setAttribute(nk,"");const $=s.domReference,O=f==null||(N=f.nodesRef.current.find(j=>j.id===p))==null||(N=N.context)==null?void 0:N.elements.floating;return O&&(O.style.pointerEvents=""),z.style.pointerEvents="none",$.style.pointerEvents="auto",F.style.pointerEvents="auto",()=>{z.style.pointerEvents="",$.style.pointerEvents="",F.style.pointerEvents=""}}}},[o,r,p,s,f,g,P]),ba(()=>{r||(y.current=void 0,C.current=!1,R(),I())},[r,R,I]),D.useEffect(()=>()=>{R(),clearTimeout(b.current),clearTimeout(w.current),I()},[o,s.domReference,R,I]);const S=D.useMemo(()=>{function L(N){y.current=N.pointerType}return{onPointerDown:L,onPointerEnter:L,onMouseMove(N){const{nativeEvent:F}=N;function z(){!E.current&&!v.current&&n(!0,F,"hover")}c&&!hC(y.current)||r||h===0||C.current&&N.movementX**2+N.movementY**2<2||(clearTimeout(w.current),y.current==="touch"?z():(C.current=!0,w.current=window.setTimeout(z,h)))}}},[c,n,r,v,h]),B=D.useMemo(()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(L){M(L.nativeEvent,!1)}}),[M]);return D.useMemo(()=>o?{reference:S,floating:B}:{},[o,S,B])}const mC=()=>{},G6=D.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:mC,setState:mC,isInstantPhase:!1}),H6=()=>D.useContext(G6);function lK(t){const{children:e,delay:r,timeoutMs:n=0}=t,[i,a]=D.useReducer((l,u)=>({...l,...u}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),s=D.useRef(null),o=D.useCallback(l=>{a({currentId:l})},[]);return ba(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),D.createElement(G6.Provider,{value:D.useMemo(()=>({...i,setState:a,setCurrentId:o}),[i,o])},e)}function uK(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,floatingId:i}=t,{id:a,enabled:s=!0}=e,o=a??i,l=H6(),{currentId:u,setCurrentId:c,initialDelay:h,setState:d,timeoutMs:f}=l;return ba(()=>{s&&u&&(d({delay:{open:1,close:hv(h,"close")}}),u!==o&&n(!1))},[s,o,n,d,u,h]),ba(()=>{function p(){n(!1),d({delay:h,currentId:null})}if(s&&u&&!r&&u===o){if(f){const g=window.setTimeout(p,f);return()=>{clearTimeout(g)}}p()}},[s,r,d,u,o,n,h,f]),ba(()=>{s&&(c===mC||!r||c(o))},[s,r,c,o]),l}function F0(t,e){let r=t.filter(i=>{var a;return i.parentId===e&&((a=i.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(i=>{var a;return(a=n)==null?void 0:a.some(s=>{var o;return i.parentId===s.id&&((o=i.context)==null?void 0:o.open)})}),r=r.concat(n);return r}const cK="data-floating-ui-focusable",hK={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},dK={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ik=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t==null?void 0:t.outsidePress)!=null?r:!0}};function fK(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:i,dataRef:a}=t,{enabled:s=!0,escapeKey:o=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:h="pointerdown",ancestorScroll:d=!1,bubbles:f,capture:p}=e,g=u2(),m=ks(typeof l=="function"?l:()=>!1),v=typeof l=="function"?m:l,y=D.useRef(!1),b=D.useRef(!1),{escapeKey:x,outsidePress:w}=ik(f),{escapeKey:E,outsidePress:_}=ik(p),T=D.useRef(!1),C=ks(B=>{var L;if(!r||!s||!o||B.key!=="Escape"||T.current)return;const N=(L=a.current.floatingContext)==null?void 0:L.nodeId,F=g?F0(g.nodesRef.current,N):[];if(!x&&(B.stopPropagation(),F.length>0)){let z=!0;if(F.forEach($=>{var O;if((O=$.context)!=null&&O.open&&!$.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}n(!1,sY(B)?B.nativeEvent:B,"escape-key")}),P=ks(B=>{var L;const N=()=>{var F;C(B),(F=ou(B))==null||F.removeEventListener("keydown",N)};(L=ou(B))==null||L.addEventListener("keydown",N)}),M=ks(B=>{var L;const N=y.current;y.current=!1;const F=b.current;if(b.current=!1,u==="click"&&F||N||typeof v=="function"&&!v(B))return;const z=ou(B),$="["+c2("inert")+"]",O=el(i.floating).querySelectorAll($);let j=Et(z)?z:null;for(;j&&!ao(j);){const X=Qa(j);if(ao(X)||!Et(X))break;j=X}if(O.length&&Et(z)&&!oY(z)&&!Rd(z,i.floating)&&Array.from(O).every(X=>!Rd(j,X)))return;if(On(z)&&S){const X=z.clientWidth>0&&z.scrollWidth>z.clientWidth,te=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let Q=te&&B.offsetX>z.clientWidth;if(te&&ii(z).direction==="rtl"&&(Q=B.offsetX<=z.offsetWidth-z.clientWidth),Q||X&&B.offsetY>z.clientHeight)return}const J=(L=a.current.floatingContext)==null?void 0:L.nodeId,H=g&&F0(g.nodesRef.current,J).some(X=>{var te;return O0(B,(te=X.context)==null?void 0:te.elements.floating)});if(O0(B,i.floating)||O0(B,i.domReference)||H)return;const V=g?F0(g.nodesRef.current,J):[];if(V.length>0){let X=!0;if(V.forEach(te=>{var Q;if((Q=te.context)!=null&&Q.open&&!te.context.dataRef.current.__outsidePressBubbles){X=!1;return}}),!X)return}n(!1,B,"outside-press")}),R=ks(B=>{var L;const N=()=>{var F;M(B),(F=ou(B))==null||F.removeEventListener(u,N)};(L=ou(B))==null||L.addEventListener(u,N)});D.useEffect(()=>{if(!r||!s)return;a.current.__escapeKeyBubbles=x,a.current.__outsidePressBubbles=w;let B=-1;function L(O){n(!1,O,"ancestor-scroll")}function N(){window.clearTimeout(B),T.current=!0}function F(){B=window.setTimeout(()=>{T.current=!1},Tg()?5:0)}const z=el(i.floating);o&&(z.addEventListener("keydown",E?P:C,E),z.addEventListener("compositionstart",N),z.addEventListener("compositionend",F)),v&&z.addEventListener(u,_?R:M,_);let $=[];return d&&(Et(i.domReference)&&($=Va(i.domReference)),Et(i.floating)&&($=$.concat(Va(i.floating))),!Et(i.reference)&&i.reference&&i.reference.contextElement&&($=$.concat(Va(i.reference.contextElement)))),$=$.filter(O=>{var j;return O!==((j=z.defaultView)==null?void 0:j.visualViewport)}),$.forEach(O=>{O.addEventListener("scroll",L,{passive:!0})}),()=>{o&&(z.removeEventListener("keydown",E?P:C,E),z.removeEventListener("compositionstart",N),z.removeEventListener("compositionend",F)),v&&z.removeEventListener(u,_?R:M,_),$.forEach(O=>{O.removeEventListener("scroll",L)}),window.clearTimeout(B)}},[a,i,o,v,u,r,n,d,s,x,w,C,E,P,M,_,R]),D.useEffect(()=>{y.current=!1},[v,u]);const I=D.useMemo(()=>({onKeyDown:C,[hK[h]]:B=>{c&&n(!1,B.nativeEvent,"reference-press")}}),[C,n,c,h]),S=D.useMemo(()=>({onKeyDown:C,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[dK[u]]:()=>{y.current=!0}}),[C,u]);return D.useMemo(()=>s?{reference:I,floating:S}:{},[s,I,S])}function pK(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=$6(),a=D.useRef({}),[s]=D.useState(()=>iK()),o=l2()!=null,[l,u]=D.useState(n.reference),c=ks((f,p,g)=>{a.current.openEvent=f?p:void 0,s.emit("openchange",{open:f,event:p,reason:g,nested:o}),r==null||r(f,p,g)}),h=D.useMemo(()=>({setPositionReference:u}),[]),d=D.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return D.useMemo(()=>({dataRef:a,open:e,onOpenChange:c,elements:d,events:s,floatingId:i,refs:h}),[e,c,d,s,i,h])}function h2(t){t===void 0&&(t={});const{nodeId:e}=t,r=pK({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[a,s]=D.useState(null),[o,l]=D.useState(null),c=(i==null?void 0:i.domReference)||a,h=D.useRef(null),d=u2();ba(()=>{c&&(h.current=c)},[c]);const f=KY({...t,elements:{...i,...o&&{reference:o}}}),p=D.useCallback(b=>{const x=Et(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(x),f.refs.setReference(x)},[f.refs]),g=D.useCallback(b=>{(Et(b)||b===null)&&(h.current=b,s(b)),(Et(f.refs.reference.current)||f.refs.reference.current===null||b!==null&&!Et(b))&&f.refs.setReference(b)},[f.refs]),m=D.useMemo(()=>({...f.refs,setReference:g,setPositionReference:p,domReference:h}),[f.refs,g,p]),v=D.useMemo(()=>({...f.elements,domReference:c}),[f.elements,c]),y=D.useMemo(()=>({...f,...n,refs:m,elements:v,nodeId:e}),[f,m,v,e,n]);return ba(()=>{n.dataRef.current.floatingContext=y;const b=d==null?void 0:d.nodesRef.current.find(x=>x.id===e);b&&(b.context=y)}),D.useMemo(()=>({...f,context:y,refs:m,elements:v}),[f,m,v,y])}function vK(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:i,dataRef:a,elements:s}=t,{enabled:o=!0,visibleOnly:l=!0}=e,u=D.useRef(!1),c=D.useRef(),h=D.useRef(!0);D.useEffect(()=>{if(!o)return;const f=yn(s.domReference);function p(){!r&&On(s.domReference)&&s.domReference===qI(el(s.domReference))&&(u.current=!0)}function g(){h.current=!0}return f.addEventListener("blur",p),f.addEventListener("keydown",g,!0),()=>{f.removeEventListener("blur",p),f.removeEventListener("keydown",g,!0)}},[s.domReference,r,o]),D.useEffect(()=>{if(!o)return;function f(p){let{reason:g}=p;(g==="reference-press"||g==="escape-key")&&(u.current=!0)}return i.on("openchange",f),()=>{i.off("openchange",f)}},[i,o]),D.useEffect(()=>()=>{clearTimeout(c.current)},[]);const d=D.useMemo(()=>({onPointerDown(f){rY(f.nativeEvent)||(h.current=!1)},onMouseLeave(){u.current=!1},onFocus(f){if(u.current)return;const p=ou(f.nativeEvent);if(l&&Et(p))try{if(nY()&&iY())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!h.current&&!uY(p))return}n(!0,f.nativeEvent,"focus")},onBlur(f){u.current=!1;const p=f.relatedTarget,g=f.nativeEvent,m=Et(p)&&p.hasAttribute(c2("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var v;const y=qI(s.domReference?s.domReference.ownerDocument:document);!p&&y===s.domReference||Rd((v=a.current.floatingContext)==null?void 0:v.refs.floating.current,y)||Rd(s.domReference,y)||m||n(!1,g,"focus")})}}),[a,s.domReference,n,l]);return D.useMemo(()=>o?{reference:d}:{},[o,d])}const ak="active",sk="selected";function z0(t,e,r){const n=new Map,i=r==="item";let a=t;if(i&&t){const{[ak]:s,[sk]:o,...l}=t;a=l}return{...r==="floating"&&{tabIndex:-1,[cK]:""},...a,...e.map(s=>{const o=s?s[r]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[u,c]=l;if(!(i&&[ak,sk].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof c=="function"){var h;(h=n.get(u))==null||h.push(c),s[u]=function(){for(var d,f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return(d=n.get(u))==null?void 0:d.map(m=>m(...p)).find(m=>m!==void 0)}}}else s[u]=c}),s),{})}}function mK(t){t===void 0&&(t=[]);const e=t.map(o=>o==null?void 0:o.reference),r=t.map(o=>o==null?void 0:o.floating),n=t.map(o=>o==null?void 0:o.item),i=D.useCallback(o=>z0(o,t,"reference"),e),a=D.useCallback(o=>z0(o,t,"floating"),r),s=D.useCallback(o=>z0(o,t,"item"),n);return D.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}const gK=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function yK(t,e){var r;e===void 0&&(e={});const{open:n,floatingId:i}=t,{enabled:a=!0,role:s="dialog"}=e,o=(r=gK.get(s))!=null?r:s,l=$6(),c=l2()!=null,h=D.useMemo(()=>o==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:n?i:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:l},...o==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[o,i,c,n,l,s]),d=D.useMemo(()=>{const p={id:i,...o&&{role:o}};return o==="tooltip"||s==="label"?p:{...p,...o==="menu"&&{"aria-labelledby":l}}},[o,i,l,s]),f=D.useCallback(p=>{let{active:g,selected:m}=p;const v={role:"option",...g&&{id:i+"-option"}};switch(s){case"select":return{...v,"aria-selected":g&&m};case"combobox":return{...v,...g&&{"aria-selected":!0}}}return{}},[i,s]);return D.useMemo(()=>a?{reference:h,floating:d,item:f}:{},[a,h,d,f])}function V6(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[r,n]=e.split("-"),i=r==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return e}function ok(t,e,r,n){return t==="center"||n==="center"?{top:e}:t==="end"?{bottom:r}:t==="start"?{top:r}:{}}function lk(t,e,r,n,i){return t==="center"||n==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:r}:t==="start"?{[i==="ltr"?"left":"right"]:r}:{}}const bK={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function xK({position:t,arrowSize:e,arrowOffset:r,arrowRadius:n,arrowPosition:i,arrowX:a,arrowY:s,dir:o}){const[l,u="center"]=t.split("-"),c={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[bK[l]]:n},h=-e/2;return l==="left"?{...c,...ok(u,s,r,i),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...c,...ok(u,s,r,i),left:h,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...c,...lk(u,a,r,i,o),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...c,...lk(u,a,r,i,o),top:h,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const d2=D.forwardRef(({position:t,arrowSize:e,arrowOffset:r,arrowRadius:n,arrowPosition:i,visible:a,arrowX:s,arrowY:o,style:l,...u},c)=>{const{dir:h}=Ac();return a?A.jsx("div",{...u,ref:c,style:{...l,...xK({position:t,arrowSize:e,arrowOffset:r,arrowRadius:n,arrowPosition:i,dir:h,arrowX:s,arrowY:o})}}):null});d2.displayName="@mantine/core/FloatingArrow";const[wK,W6]=Sn("Popover component was not found in the tree");function Rg({children:t,active:e=!0,refProp:r="ref",innerRef:n}){const i=yq(e),a=_r(i,n);return ls(t)?D.cloneElement(t,{[r]:a}):t}function q6(t){return A.jsx(QA,{tabIndex:-1,"data-autofocus":!0,...t})}Rg.displayName="@mantine/core/FocusTrap";q6.displayName="@mantine/core/FocusTrapInitialFocus";Rg.InitialFocus=q6;function _K(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const EK={},X6=D.forwardRef((t,e)=>{const{children:r,target:n,...i}=be("Portal",EK,t),[a,s]=D.useState(!1),o=D.useRef(null);return Ml(()=>(s(!0),o.current=n?typeof n=="string"?document.querySelector(n):n:_K(i),of(e,o.current),!n&&o.current&&document.body.appendChild(o.current),()=>{!n&&o.current&&document.body.removeChild(o.current)}),[n]),!a||!o.current?null:sf.createPortal(A.jsx(A.Fragment,{children:r}),o.current)});X6.displayName="@mantine/core/Portal";function kc({withinPortal:t=!0,children:e,...r}){return t?A.jsx(X6,{...r,children:e}):A.jsx(A.Fragment,{children:e})}kc.displayName="@mantine/core/OptionalPortal";const fh=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${me(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),cp={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${me(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${me(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${me(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${me(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${me(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...fh("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...fh("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...fh("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...fh("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...fh("top"),common:{transformOrigin:"top right"}}},uk={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function SK({transition:t,state:e,duration:r,timingFunction:n}){const i={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof t=="string"?t in cp?{transitionProperty:cp[t].transitionProperty,...i,...cp[t].common,...cp[t][uk[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[uk[e]]}}function CK({duration:t,exitDuration:e,timingFunction:r,mounted:n,onEnter:i,onExit:a,onEntered:s,onExited:o,enterDelay:l,exitDelay:u}){const c=Vr(),h=UA(),d=c.respectReducedMotion?h:!1,[f,p]=D.useState(d?0:t),[g,m]=D.useState(n?"entered":"exited"),v=D.useRef(-1),y=D.useRef(-1),b=D.useRef(-1),x=E=>{const _=E?i:a,T=E?s:o;window.clearTimeout(v.current);const C=d?0:E?t:e;p(C),C===0?(typeof _=="function"&&_(),typeof T=="function"&&T(),m(E?"entered":"exited")):b.current=requestAnimationFrame(()=>{m7.flushSync(()=>{m(E?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof _=="function"&&_(),m(E?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof T=="function"&&T(),m(E?"entered":"exited")},C)})})},w=E=>{if(window.clearTimeout(y.current),typeof(E?l:u)!="number"){x(E);return}y.current=window.setTimeout(()=>{x(E)},E?l:u)};return io(()=>{w(n)},[n]),D.useEffect(()=>()=>{window.clearTimeout(v.current),cancelAnimationFrame(b.current)},[]),{transitionDuration:f,transitionStatus:g,transitionTimingFunction:r||"ease"}}function cs({keepMounted:t,transition:e="fade",duration:r=250,exitDuration:n=r,mounted:i,children:a,timingFunction:s="ease",onExit:o,onEntered:l,onEnter:u,onExited:c,enterDelay:h,exitDelay:d}){const{transitionDuration:f,transitionStatus:p,transitionTimingFunction:g}=CK({mounted:i,exitDuration:n,duration:r,timingFunction:s,onExit:o,onEntered:l,onEnter:u,onExited:c,enterDelay:h,exitDelay:d});return f===0?i?A.jsx(A.Fragment,{children:a({})}):t?a({display:"none"}):null:p==="exited"?t?a({display:"none"}):null:A.jsx(A.Fragment,{children:a(SK({transition:e,duration:f,state:p,timingFunction:g}))})}cs.displayName="@mantine/core/Transition";var Y6={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const TK={},f2=Re((t,e)=>{var m,v,y,b;const r=be("PopoverDropdown",TK,t),{className:n,style:i,vars:a,children:s,onKeyDownCapture:o,variant:l,classNames:u,styles:c,...h}=r,d=W6(),f=Kz({opened:d.opened,shouldReturnFocus:d.returnFocus}),p=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=_r(e,d.floating);return d.disabled?null:A.jsx(kc,{...d.portalProps,withinPortal:d.withinPortal,children:A.jsx(cs,{mounted:d.opened,...d.transitionProps,transition:((m=d.transitionProps)==null?void 0:m.transition)||"fade",duration:((v=d.transitionProps)==null?void 0:v.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((y=d.transitionProps)==null?void 0:y.exitDuration)=="number"?d.transitionProps.exitDuration:(b=d.transitionProps)==null?void 0:b.duration,children:x=>A.jsx(Rg,{active:d.trapFocus&&d.opened,innerRef:g,children:A.jsxs(xe,{...p,...h,variant:l,onKeyDownCapture:oq(d.onClose,{active:d.closeOnEscape,onTrigger:f,onKeyDown:o}),"data-position":d.placement,"data-fixed":d.floatingStrategy==="fixed"||void 0,...d.getStyles("dropdown",{className:n,props:r,classNames:u,styles:c,style:[{...x,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:me(d.width)},i]}),children:[s,A.jsx(d2,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:r,classNames:u,styles:c})})]})})})})});f2.classes=Y6;f2.displayName="@mantine/core/PopoverDropdown";const AK={refProp:"ref",popupType:"dialog"},K6=Re((t,e)=>{const{children:r,refProp:n,popupType:i,...a}=be("PopoverTarget",AK,t);if(!ls(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=a,o=W6(),l=_r(o.reference,gg(r),e),u=o.withRoles?{"aria-haspopup":i,"aria-expanded":o.opened,"aria-controls":o.getDropdownId(),id:o.getTargetId()}:{};return D.cloneElement(r,{...s,...u,...o.targetProps,className:Wt(o.targetProps.className,s.className,r.props.className),[n]:l,...o.controlled?null:{onClick:o.onToggle}})});K6.displayName="@mantine/core/PopoverTarget";function Z6({opened:t,floating:e,position:r,positionDependencies:n}){const[i,a]=D.useState(0);D.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return $Y(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,r]),io(()=>{e.update()},n),io(()=>{a(s=>s+1)},[t])}function RK(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function PK(t,e){const r=RK(t.middlewares),n=[z6(t.offset)];return r.shift&&n.push(o2(typeof r.shift=="boolean"?{limiter:ek(),padding:5}:{limiter:ek(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?pC():pC(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?vC():vC(r.inline)),n.push(j6({element:t.arrowRef,padding:t.arrowOffset})),(r.size||t.width==="target")&&n.push(QY({...typeof r.size=="boolean"?{}:r.size,apply({rects:i,availableWidth:a,availableHeight:s,...o}){var c;const u=((c=e().refs.floating.current)==null?void 0:c.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:i,availableWidth:a,availableHeight:s,...o}):Object.assign(u,{maxWidth:`${a}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),n}function IK(t){const[e,r]=ni({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),n=()=>{e&&r(!1)},i=()=>r(!e),a=h2({strategy:t.strategy,placement:t.position,middleware:PK(t,()=>a)});return Z6({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:a}),io(()=>{var s;(s=t.onPositionChange)==null||s.call(t,a.placement)},[a.placement]),io(()=>{var s,o;e?(o=t.onOpen)==null||o.call(t):(s=t.onClose)==null||s.call(t)},[e,t.onClose,t.onOpen]),{floating:a,controlled:typeof t.opened=="boolean",opened:e,onClose:n,onToggle:i}}const kK={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:zn("popover"),__staticSelector:"Popover",width:"max-content"},MK=(t,{radius:e,shadow:r})=>({dropdown:{"--popover-radius":e===void 0?void 0:lr(e),"--popover-shadow":zA(r)}});function bn(t){var U,G,q,oe,re,Z;const e=be("Popover",kK,t),{children:r,position:n,offset:i,onPositionChange:a,positionDependencies:s,opened:o,transitionProps:l,width:u,middlewares:c,withArrow:h,arrowSize:d,arrowOffset:f,arrowRadius:p,arrowPosition:g,unstyled:m,classNames:v,styles:y,closeOnClickOutside:b,withinPortal:x,portalProps:w,closeOnEscape:E,clickOutsideEvents:_,trapFocus:T,onClose:C,onOpen:P,onChange:M,zIndex:R,radius:I,shadow:S,id:B,defaultOpened:L,__staticSelector:N,withRoles:F,disabled:z,returnFocus:$,variant:O,keepMounted:j,vars:J,floatingStrategy:H,...V}=e,X=Xe({name:N,props:e,classes:Y6,classNames:v,styles:y,unstyled:m,rootSelector:"dropdown",vars:J,varsResolver:MK}),te=D.useRef(null),[Q,Y]=D.useState(null),[ae,se]=D.useState(null),{dir:ve}=Ac(),ge=us(B),k=IK({middlewares:c,width:u,position:V6(ve,n),offset:typeof i=="number"?i+(h?d/2:0):i,arrowRef:te,arrowOffset:f,onPositionChange:a,positionDependencies:s,opened:o,defaultOpened:L,onChange:M,onOpen:P,onClose:C,strategy:H});lq(()=>b&&k.onClose(),_,[Q,ae]);const K=D.useCallback(ee=>{Y(ee),k.floating.refs.setReference(ee)},[k.floating.refs.setReference]),ne=D.useCallback(ee=>{se(ee),k.floating.refs.setFloating(ee)},[k.floating.refs.setFloating]);return A.jsx(wK,{value:{returnFocus:$,disabled:z,controlled:k.controlled,reference:K,floating:ne,x:k.floating.x,y:k.floating.y,arrowX:(q=(G=(U=k.floating)==null?void 0:U.middlewareData)==null?void 0:G.arrow)==null?void 0:q.x,arrowY:(Z=(re=(oe=k.floating)==null?void 0:oe.middlewareData)==null?void 0:re.arrow)==null?void 0:Z.y,opened:k.opened,arrowRef:te,transitionProps:l,width:u,withArrow:h,arrowSize:d,arrowOffset:f,arrowRadius:p,arrowPosition:g,placement:k.floating.placement,trapFocus:T,withinPortal:x,portalProps:w,zIndex:R,radius:I,shadow:S,closeOnEscape:E,onClose:k.onClose,onToggle:k.onToggle,getTargetId:()=>`${ge}-target`,getDropdownId:()=>`${ge}-dropdown`,withRoles:F,targetProps:V,__staticSelector:N,classNames:v,styles:y,unstyled:m,variant:O,keepMounted:j,getStyles:X,floatingStrategy:H},children:r})}bn.Target=K6;bn.Dropdown=f2;bn.displayName="@mantine/core/Popover";bn.extend=t=>t;var Mi={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Q6=D.forwardRef(({className:t,...e},r)=>A.jsxs(xe,{component:"span",className:Wt(Mi.barsLoader,t),...e,ref:r,children:[A.jsx("span",{className:Mi.bar}),A.jsx("span",{className:Mi.bar}),A.jsx("span",{className:Mi.bar})]}));Q6.displayName="@mantine/core/Bars";const J6=D.forwardRef(({className:t,...e},r)=>A.jsxs(xe,{component:"span",className:Wt(Mi.dotsLoader,t),...e,ref:r,children:[A.jsx("span",{className:Mi.dot}),A.jsx("span",{className:Mi.dot}),A.jsx("span",{className:Mi.dot})]}));J6.displayName="@mantine/core/Dots";const ej=D.forwardRef(({className:t,...e},r)=>A.jsx(xe,{component:"span",className:Wt(Mi.ovalLoader,t),...e,ref:r}));ej.displayName="@mantine/core/Oval";const tj={bars:Q6,oval:ej,dots:J6},DK={loaders:tj,type:"oval"},OK=(t,{size:e,color:r})=>({root:{"--loader-size":vt(e,"loader-size"),"--loader-color":r?kr(r,t):void 0}}),Mc=Re((t,e)=>{const r=be("Loader",DK,t),{size:n,color:i,type:a,vars:s,className:o,style:l,classNames:u,styles:c,unstyled:h,loaders:d,variant:f,children:p,...g}=r,m=Xe({name:"Loader",props:r,classes:Mi,className:o,style:l,classNames:u,styles:c,unstyled:h,vars:s,varsResolver:OK});return p?A.jsx(xe,{...m("root"),ref:e,...g,children:p}):A.jsx(xe,{...m("root"),ref:e,component:d[a],variant:f,size:n,...g})});Mc.defaultLoaders=tj;Mc.classes=Mi;Mc.displayName="@mantine/core/Loader";var Pg={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const ck={orientation:"horizontal"},NK=(t,{borderWidth:e})=>({group:{"--ai-border-width":me(e)}}),p2=Re((t,e)=>{const r=be("ActionIconGroup",ck,t),{className:n,style:i,classNames:a,styles:s,unstyled:o,orientation:l,vars:u,borderWidth:c,variant:h,mod:d,...f}=be("ActionIconGroup",ck,t),p=Xe({name:"ActionIconGroup",props:r,classes:Pg,className:n,style:i,classNames:a,styles:s,unstyled:o,vars:u,varsResolver:NK,rootSelector:"group"});return A.jsx(xe,{...p("group"),ref:e,variant:h,mod:[{"data-orientation":l},d],role:"group",...f})});p2.classes=Pg;p2.displayName="@mantine/core/ActionIconGroup";const LK={},BK=(t,{size:e,radius:r,variant:n,gradient:i,color:a,autoContrast:s})=>{const o=t.variantColorResolver({color:a||t.primaryColor,theme:t,gradient:i,variant:n||"filled",autoContrast:s});return{root:{"--ai-size":vt(e,"ai-size"),"--ai-radius":r===void 0?void 0:lr(r),"--ai-bg":a||n?o.background:void 0,"--ai-hover":a||n?o.hover:void 0,"--ai-hover-color":a||n?o.hoverColor:void 0,"--ai-color":o.color,"--ai-bd":a||n?o.border:void 0}}},pt=sn((t,e)=>{const r=be("ActionIcon",LK,t),{className:n,unstyled:i,variant:a,classNames:s,styles:o,style:l,loading:u,loaderProps:c,size:h,color:d,radius:f,__staticSelector:p,gradient:g,vars:m,children:v,disabled:y,"data-disabled":b,autoContrast:x,mod:w,...E}=r,_=Xe({name:["ActionIcon",p],props:r,className:n,style:l,classes:Pg,classNames:s,styles:o,unstyled:i,vars:m,varsResolver:BK});return A.jsxs(zi,{..._("root",{active:!y&&!u&&!b}),...E,unstyled:i,variant:a,size:h,disabled:y||u,ref:e,mod:[{loading:u,disabled:y||b},w],children:[A.jsx(cs,{mounted:!!u,transition:"slide-down",duration:150,children:T=>A.jsx(xe,{component:"span",..._("loader",{style:T}),"aria-hidden":!0,children:A.jsx(Mc,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),A.jsx(xe,{component:"span",mod:{loading:u},..._("icon"),children:v})]})});pt.classes=Pg;pt.displayName="@mantine/core/ActionIcon";pt.Group=p2;const rj=D.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...r},n)=>A.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:n,...r,children:A.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));rj.displayName="@mantine/core/CloseIcon";var nj={root:"m_86a44da5","root--subtle":"m_220c80f2"};const FK={variant:"subtle"},zK=(t,{size:e,radius:r,iconSize:n})=>({root:{"--cb-size":vt(e,"cb-size"),"--cb-radius":r===void 0?void 0:lr(r),"--cb-icon-size":me(n)}}),hf=sn((t,e)=>{const r=be("CloseButton",FK,t),{iconSize:n,children:i,vars:a,radius:s,className:o,classNames:l,style:u,styles:c,unstyled:h,"data-disabled":d,disabled:f,variant:p,icon:g,mod:m,...v}=r,y=Xe({name:"CloseButton",props:r,className:o,style:u,classes:nj,classNames:l,styles:c,unstyled:h,vars:a,varsResolver:zK});return A.jsxs(zi,{ref:e,...v,unstyled:h,variant:p,disabled:f,mod:[{disabled:f||d},m],...y("root",{variant:p,active:!f&&!d}),children:[g||A.jsx(rj,{}),i]})});hf.classes=nj;hf.displayName="@mantine/core/CloseButton";function jK(t){return D.Children.toArray(t).filter(Boolean)}var ij={root:"m_4081bf90"};const UK={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},$K=(t,{grow:e,preventGrowOverflow:r,gap:n,align:i,justify:a,wrap:s},{childWidth:o})=>({root:{"--group-child-width":e&&r?o:void 0,"--group-gap":br(n),"--group-align":i,"--group-justify":a,"--group-wrap":s}}),at=Re((t,e)=>{const r=be("Group",UK,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,children:l,gap:u,align:c,justify:h,wrap:d,grow:f,preventGrowOverflow:p,vars:g,variant:m,__size:v,mod:y,...b}=r,x=jK(l),w=x.length,E=br(u??"md"),T={childWidth:`calc(${100/w}% - (${E} - ${E} / ${w}))`},C=Xe({name:"Group",props:r,stylesCtx:T,className:i,style:a,classes:ij,classNames:n,styles:s,unstyled:o,vars:g,varsResolver:$K});return A.jsx(xe,{...C("root"),ref:e,variant:m,mod:[{grow:f},y],size:v,...b,children:x})});at.classes=ij;at.displayName="@mantine/core/Group";var aj={root:"m_9814e45f"};const GK={zIndex:zn("modal")},HK=(t,{gradient:e,color:r,backgroundOpacity:n,blur:i,radius:a,zIndex:s})=>({root:{"--overlay-bg":e||(r!==void 0||n!==void 0)&&aa(r||"#000",n??.6)||void 0,"--overlay-filter":i?`blur(${me(i)})`:void 0,"--overlay-radius":a===void 0?void 0:lr(a),"--overlay-z-index":s==null?void 0:s.toString()}}),Pd=sn((t,e)=>{const r=be("Overlay",GK,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,fixed:u,center:c,children:h,radius:d,zIndex:f,gradient:p,blur:g,color:m,backgroundOpacity:v,mod:y,...b}=r,x=Xe({name:"Overlay",props:r,classes:aj,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:HK});return A.jsx(xe,{ref:e,...x("root"),mod:[{center:c,fixed:u},y],...b,children:h})});Pd.classes=aj;Pd.displayName="@mantine/core/Overlay";const[VK,hs]=Sn("ModalBase component was not found in tree");function WK({opened:t,transitionDuration:e}){const[r,n]=D.useState(t),i=D.useRef(),s=UA()?0:e;return D.useEffect(()=>(t?(n(!0),window.clearTimeout(i.current)):s===0?n(!1):i.current=window.setTimeout(()=>n(!1),s),()=>window.clearTimeout(i.current)),[t,s]),r}function qK({id:t,transitionProps:e,opened:r,trapFocus:n,closeOnEscape:i,onClose:a,returnFocus:s}){const o=us(t),[l,u]=D.useState(!1),[c,h]=D.useState(!1),d=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,f=WK({opened:r,transitionDuration:d});return e6("keydown",p=>{var g;p.key==="Escape"&&i&&r&&((g=p.target)==null?void 0:g.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),Kz({opened:r,shouldReturnFocus:n&&s}),{_id:o,titleMounted:l,bodyMounted:c,shouldLockScroll:f,setTitleMounted:u,setBodyMounted:h}}const sj=D.forwardRef(({keepMounted:t,opened:e,onClose:r,id:n,transitionProps:i,trapFocus:a,closeOnEscape:s,returnFocus:o,closeOnClickOutside:l,withinPortal:u,portalProps:c,lockScroll:h,children:d,zIndex:f,shadow:p,padding:g,__vars:m,unstyled:v,removeScrollProps:y,...b},x)=>{const{_id:w,titleMounted:E,bodyMounted:_,shouldLockScroll:T,setTitleMounted:C,setBodyMounted:P}=qK({id:n,transitionProps:i,opened:e,trapFocus:a,closeOnEscape:s,onClose:r,returnFocus:o}),{key:M,...R}=y||{};return A.jsx(kc,{...c,withinPortal:u,children:A.jsx(VK,{value:{opened:e,onClose:r,closeOnClickOutside:l,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${w}-title`,getBodyId:()=>`${w}-body`,titleMounted:E,bodyMounted:_,setTitleMounted:C,setBodyMounted:P,trapFocus:a,closeOnEscape:s,zIndex:f,unstyled:v},children:A.jsx(vg,{enabled:T&&h,...R,children:A.jsx(xe,{ref:x,...b,__vars:{...m,"--mb-z-index":(f||zn("modal")).toString(),"--mb-shadow":zA(p),"--mb-padding":br(g)},children:d})},M)})})});sj.displayName="@mantine/core/ModalBase";function XK(){const t=hs();return D.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var hc={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const oj=D.forwardRef(({className:t,...e},r)=>{const n=XK(),i=hs();return A.jsx(xe,{ref:r,...e,id:n,className:Wt({[hc.body]:!i.unstyled},t)})});oj.displayName="@mantine/core/ModalBaseBody";const lj=D.forwardRef(({className:t,onClick:e,...r},n)=>{const i=hs();return A.jsx(hf,{ref:n,...r,onClick:a=>{i.onClose(),e==null||e(a)},className:Wt({[hc.close]:!i.unstyled},t),unstyled:i.unstyled})});lj.displayName="@mantine/core/ModalBaseCloseButton";const uj=D.forwardRef(({transitionProps:t,className:e,innerProps:r,onKeyDown:n,style:i,...a},s)=>{const o=hs();return A.jsx(cs,{mounted:o.opened,transition:"pop",...o.transitionProps,...t,children:l=>A.jsx("div",{...r,className:Wt({[hc.inner]:!o.unstyled},r.className),children:A.jsx(Rg,{active:o.opened&&o.trapFocus,innerRef:s,children:A.jsx(Eg,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":o.bodyMounted?o.getBodyId():void 0,"aria-labelledby":o.titleMounted?o.getTitleId():void 0,style:[i,l],className:Wt({[hc.content]:!o.unstyled},e),unstyled:o.unstyled,children:a.children})})})})});uj.displayName="@mantine/core/ModalBaseContent";const cj=D.forwardRef(({className:t,...e},r)=>{const n=hs();return A.jsx(xe,{component:"header",ref:r,className:Wt({[hc.header]:!n.unstyled},t),...e})});cj.displayName="@mantine/core/ModalBaseHeader";const YK={duration:200,timingFunction:"ease",transition:"fade"};function KK(t){const e=hs();return{...YK,...e.transitionProps,...t}}const hj=D.forwardRef(({onClick:t,transitionProps:e,style:r,visible:n,...i},a)=>{const s=hs(),o=KK(e);return A.jsx(cs,{mounted:n!==void 0?n:s.opened,...o,transition:"fade",children:l=>A.jsx(Pd,{ref:a,fixed:!0,style:[r,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{t==null||t(u),s.closeOnClickOutside&&s.onClose()},...i})})});hj.displayName="@mantine/core/ModalBaseOverlay";function ZK(){const t=hs();return D.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const dj=D.forwardRef(({className:t,...e},r)=>{const n=ZK(),i=hs();return A.jsx(xe,{component:"h2",ref:r,className:Wt({[hc.title]:!i.unstyled},t),...e,id:n})});dj.displayName="@mantine/core/ModalBaseTitle";function QK({children:t}){return A.jsx(A.Fragment,{children:t})}const[JK,df]=FA({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var si={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const hk={},eZ=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${gn(e)} - ${me(2)})`}}),Ig=Re((t,e)=>{const r=be("InputDescription",hk,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,size:u,__staticSelector:c,__inheritStyles:h=!0,variant:d,...f}=be("InputDescription",hk,r),p=df(),g=Xe({name:["InputWrapper",c],props:r,classes:si,className:i,style:a,classNames:n,styles:s,unstyled:o,rootSelector:"description",vars:l,varsResolver:eZ}),m=h&&(p==null?void 0:p.getStyles)||g;return A.jsx(xe,{component:"p",ref:e,variant:d,size:u,...m("description",p!=null&&p.getStyles?{className:i,style:a}:void 0),...f})});Ig.classes=si;Ig.displayName="@mantine/core/InputDescription";const tZ={},rZ=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${gn(e)} - ${me(2)})`}}),kg=Re((t,e)=>{const r=be("InputError",tZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,size:u,__staticSelector:c,__inheritStyles:h=!0,variant:d,...f}=r,p=Xe({name:["InputWrapper",c],props:r,classes:si,className:i,style:a,classNames:n,styles:s,unstyled:o,rootSelector:"error",vars:l,varsResolver:rZ}),g=df(),m=h&&(g==null?void 0:g.getStyles)||p;return A.jsx(xe,{component:"p",ref:e,variant:d,size:u,...m("error",g!=null&&g.getStyles?{className:i,style:a}:void 0),...f})});kg.classes=si;kg.displayName="@mantine/core/InputError";const dk={labelElement:"label"},nZ=(t,{size:e})=>({label:{"--input-label-size":gn(e),"--input-asterisk-color":void 0}}),Mg=Re((t,e)=>{const r=be("InputLabel",dk,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,labelElement:u,size:c,required:h,htmlFor:d,onMouseDown:f,children:p,__staticSelector:g,variant:m,mod:v,...y}=be("InputLabel",dk,r),b=Xe({name:["InputWrapper",g],props:r,classes:si,className:i,style:a,classNames:n,styles:s,unstyled:o,rootSelector:"label",vars:l,varsResolver:nZ}),x=df(),w=(x==null?void 0:x.getStyles)||b;return A.jsxs(xe,{...w("label",x!=null&&x.getStyles?{className:i,style:a}:void 0),component:u,variant:m,size:c,ref:e,htmlFor:u==="label"?d:void 0,mod:[{required:h},v],onMouseDown:E=>{f==null||f(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...y,children:[p,h&&A.jsx("span",{...w("required"),"aria-hidden":!0,children:" *"})]})});Mg.classes=si;Mg.displayName="@mantine/core/InputLabel";const fk={},v2=Re((t,e)=>{const r=be("InputPlaceholder",fk,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,__staticSelector:u,variant:c,error:h,mod:d,...f}=be("InputPlaceholder",fk,r),p=Xe({name:["InputPlaceholder",u],props:r,classes:si,className:i,style:a,classNames:n,styles:s,unstyled:o,rootSelector:"placeholder"});return A.jsx(xe,{...p("placeholder"),mod:[{error:!!h},d],component:"span",variant:c,ref:e,...f})});v2.classes=si;v2.displayName="@mantine/core/InputPlaceholder";function iZ(t,{hasDescription:e,hasError:r}){const n=t.findIndex(l=>l==="input"),i=t.slice(0,n),a=t.slice(n+1),s=e&&i.includes("description")||r&&i.includes("error");return{offsetBottom:e&&a.includes("description")||r&&a.includes("error"),offsetTop:s}}const aZ={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},sZ=(t,{size:e})=>({label:{"--input-label-size":gn(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${gn(e)} - ${me(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${gn(e)} - ${me(2)})`}}),m2=Re((t,e)=>{const r=be("InputWrapper",aZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,size:u,variant:c,__staticSelector:h,inputContainer:d,inputWrapperOrder:f,label:p,error:g,description:m,labelProps:v,descriptionProps:y,errorProps:b,labelElement:x,children:w,withAsterisk:E,id:_,required:T,__stylesApiProps:C,mod:P,...M}=r,R=Xe({name:["InputWrapper",h],props:C||r,classes:si,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:sZ}),I={size:u,variant:c,__staticSelector:h},S=us(_),B=typeof E=="boolean"?E:T,L=(b==null?void 0:b.id)||`${S}-error`,N=(y==null?void 0:y.id)||`${S}-description`,F=S,z=!!g&&typeof g!="boolean",$=!!m,O=`${z?L:""} ${$?N:""}`,j=O.trim().length>0?O.trim():void 0,J=(v==null?void 0:v.id)||`${S}-label`,H=p&&A.jsx(Mg,{labelElement:x,id:J,htmlFor:F,required:B,...I,...v,children:p},"label"),V=$&&A.jsx(Ig,{...y,...I,size:(y==null?void 0:y.size)||I.size,id:(y==null?void 0:y.id)||N,children:m},"description"),X=A.jsx(D.Fragment,{children:d(w)},"input"),te=z&&D.createElement(kg,{...b,...I,size:(b==null?void 0:b.size)||I.size,key:"error",id:(b==null?void 0:b.id)||L},g),Q=f.map(Y=>{switch(Y){case"label":return H;case"input":return X;case"description":return V;case"error":return te;default:return null}});return A.jsx(JK,{value:{getStyles:R,describedBy:j,inputId:F,labelId:J,...iZ(f,{hasDescription:$,hasError:z})},children:A.jsx(xe,{ref:e,variant:c,size:u,mod:[{error:!!g},P],...R("root"),...M,children:Q})})});m2.classes=si;m2.displayName="@mantine/core/InputWrapper";const oZ={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},lZ=(t,e,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":vt(e.size,"input-height"),"--input-fz":gn(e.size),"--input-radius":e.radius===void 0?void 0:lr(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?me(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?me(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?vt(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Dt=sn((t,e)=>{const r=be("Input",oZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,required:l,__staticSelector:u,__stylesApiProps:c,size:h,wrapperProps:d,error:f,disabled:p,leftSection:g,leftSectionProps:m,leftSectionWidth:v,rightSection:y,rightSectionProps:b,rightSectionWidth:x,rightSectionPointerEvents:w,leftSectionPointerEvents:E,variant:_,vars:T,pointer:C,multiline:P,radius:M,id:R,withAria:I,withErrorStyles:S,mod:B,inputSize:L,...N}=r,{styleProps:F,rest:z}=uf(N),$=df(),O={offsetBottom:$==null?void 0:$.offsetBottom,offsetTop:$==null?void 0:$.offsetTop},j=Xe({name:["Input",u],props:c||r,classes:si,className:i,style:a,classNames:n,styles:s,unstyled:o,stylesCtx:O,rootSelector:"wrapper",vars:T,varsResolver:lZ}),J=I?{required:l,disabled:p,"aria-invalid":!!f,"aria-describedby":$==null?void 0:$.describedBy,id:($==null?void 0:$.inputId)||R}:{};return A.jsxs(xe,{...j("wrapper"),...F,...d,mod:[{error:!!f&&S,pointer:C,disabled:p,multiline:P,"data-with-right-section":!!y,"data-with-left-section":!!g},B],variant:_,size:h,children:[g&&A.jsx("div",{...m,"data-position":"left",...j("section",{className:m==null?void 0:m.className,style:m==null?void 0:m.style}),children:g}),A.jsx(xe,{component:"input",...z,...J,ref:e,required:l,mod:{disabled:p,error:!!f&&S},variant:_,__size:L,...j("input")}),y&&A.jsx("div",{...b,"data-position":"right",...j("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:y})]})});Dt.classes=si;Dt.Wrapper=m2;Dt.Label=Mg;Dt.Error=kg;Dt.Description=Ig;Dt.Placeholder=v2;Dt.displayName="@mantine/core/Input";function uZ(t,e,r){const n=be(t,e,r),{label:i,description:a,error:s,required:o,classNames:l,styles:u,className:c,unstyled:h,__staticSelector:d,__stylesApiProps:f,errorProps:p,labelProps:g,descriptionProps:m,wrapperProps:v,id:y,size:b,style:x,inputContainer:w,inputWrapperOrder:E,withAsterisk:_,variant:T,vars:C,mod:P,...M}=n,{styleProps:R,rest:I}=uf(M),S={label:i,description:a,error:s,required:o,classNames:l,className:c,__staticSelector:d,__stylesApiProps:f||n,errorProps:p,labelProps:g,descriptionProps:m,unstyled:h,styles:u,size:b,style:x,inputContainer:w,inputWrapperOrder:E,withAsterisk:_,variant:T,id:y,mod:P,...v};return{...I,classNames:l,styles:u,unstyled:h,wrapperProps:{...S,...R},inputProps:{required:o,classNames:l,styles:u,unstyled:h,size:b,__staticSelector:d,__stylesApiProps:f||n,error:s,variant:T,id:y}}}const cZ={__staticSelector:"InputBase",withAria:!0},oi=sn((t,e)=>{const{inputProps:r,wrapperProps:n,...i}=uZ("InputBase",cZ,t);return A.jsx(Dt.Wrapper,{...n,children:A.jsx(Dt,{...r,...i,ref:e})})});oi.classes={...Dt.classes,...Dt.Wrapper.classes};oi.displayName="@mantine/core/InputBase";function fj({style:t,size:e=16,...r}){return A.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:me(e),height:me(e),display:"block"},...r,children:A.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}fj.displayName="@mantine/core/AccordionChevron";var pj={root:"m_b6d8b162"};function hZ(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const dZ={inherit:!1},fZ=(t,{variant:e,lineClamp:r,gradient:n,size:i,color:a})=>({root:{"--text-fz":gn(i),"--text-lh":Yz(i),"--text-gradient":e==="gradient"?iC(n,t):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?kr(a,t):void 0}}),bo=sn((t,e)=>{const r=be("Text",dZ,t),{lineClamp:n,truncate:i,inline:a,inherit:s,gradient:o,span:l,__staticSelector:u,vars:c,className:h,style:d,classNames:f,styles:p,unstyled:g,variant:m,mod:v,size:y,...b}=r,x=Xe({name:["Text",u],props:r,classes:pj,className:h,style:d,classNames:f,styles:p,unstyled:g,vars:c,varsResolver:fZ});return A.jsx(xe,{...x("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:m,mod:[{"data-truncate":hZ(i),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":s},v],size:y,...b})});bo.classes=pj;bo.displayName="@mantine/core/Text";var vj={root:"m_849cf0da"};const pZ={underline:"hover"},Id=sn((t,e)=>{const{underline:r,className:n,unstyled:i,mod:a,...s}=be("Anchor",pZ,t);return A.jsx(bo,{component:"a",ref:e,className:Wt({[vj.root]:!i},n),...s,mod:[{underline:r},a],__staticSelector:"Anchor",unstyled:i})});Id.classes=vj;Id.displayName="@mantine/core/Anchor";const[vZ,Dc]=Sn("AppShell was not found in tree");var xo={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const mZ={},g2=Re((t,e)=>{const r=be("AppShellAside",mZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,withBorder:u,zIndex:c,mod:h,...d}=r,f=Dc();return f.disabled?null:A.jsx(xe,{component:"aside",ref:e,mod:[{"with-border":u??f.withBorder},h],...f.getStyles("aside",{className:i,classNames:n,styles:s,style:a}),...d,__vars:{"--app-shell-aside-z-index":`calc(${c??f.zIndex} + 1)`}})});g2.classes=xo;g2.displayName="@mantine/core/AppShellAside";const gZ={},y2=Re((t,e)=>{var p;const r=be("AppShellFooter",gZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,withBorder:u,zIndex:c,mod:h,...d}=r,f=Dc();return f.disabled?null:A.jsx(xe,{component:"footer",ref:e,mod:[{"with-border":u??f.withBorder},h],...f.getStyles("footer",{className:Wt({[vg.classNames.zeroRight]:f.offsetScrollbars},i),classNames:n,styles:s,style:a}),...d,__vars:{"--app-shell-footer-z-index":(p=c??f.zIndex)==null?void 0:p.toString()}})});y2.classes=xo;y2.displayName="@mantine/core/AppShellFooter";const yZ={},b2=Re((t,e)=>{var p;const r=be("AppShellHeader",yZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,withBorder:u,zIndex:c,mod:h,...d}=r,f=Dc();return f.disabled?null:A.jsx(xe,{component:"header",ref:e,mod:[{"with-border":u??f.withBorder},h],...f.getStyles("header",{className:Wt({[vg.classNames.zeroRight]:f.offsetScrollbars},i),classNames:n,styles:s,style:a}),...d,__vars:{"--app-shell-header-z-index":(p=c??f.zIndex)==null?void 0:p.toString()}})});b2.classes=xo;b2.displayName="@mantine/core/AppShellHeader";const bZ={},x2=Re((t,e)=>{const r=be("AppShellMain",bZ,t),{classNames:n,className:i,style:a,styles:s,vars:o,...l}=r,u=Dc();return A.jsx(xe,{component:"main",ref:e,...u.getStyles("main",{className:i,style:a,classNames:n,styles:s}),...l})});x2.classes=xo;x2.displayName="@mantine/core/AppShellMain";function ff(t){return typeof t=="object"?t.base:t}function pf(t){const e=typeof t=="object"&&t!==null&&typeof t.base<"u"&&Object.keys(t).length===1;return typeof t=="number"||typeof t=="string"||e}function vf(t){return!(typeof t!="object"||t===null||Object.keys(t).length===1&&"base"in t)}function xZ({baseStyles:t,minMediaStyles:e,maxMediaStyles:r,aside:n,theme:i}){var l,u,c;const a=n==null?void 0:n.width,s="translateX(var(--app-shell-aside-width))",o="translateX(calc(var(--app-shell-aside-width) * -1))";if(n!=null&&n.breakpoint&&!((l=n==null?void 0:n.collapsed)!=null&&l.mobile)&&(r[n==null?void 0:n.breakpoint]=r[n==null?void 0:n.breakpoint]||{},r[n==null?void 0:n.breakpoint]["--app-shell-aside-width"]="100%",r[n==null?void 0:n.breakpoint]["--app-shell-aside-offset"]="0px"),pf(a)){const h=me(ff(a));t["--app-shell-aside-width"]=h,t["--app-shell-aside-offset"]=h}if(vf(a)&&(typeof a.base<"u"&&(t["--app-shell-aside-width"]=me(a.base),t["--app-shell-aside-offset"]=me(a.base)),gt(a).forEach(h=>{h!=="base"&&(e[h]=e[h]||{},e[h]["--app-shell-aside-width"]=me(a[h]),e[h]["--app-shell-aside-offset"]=me(a[h]))})),(u=n==null?void 0:n.collapsed)!=null&&u.desktop){const h=n.breakpoint;e[h]=e[h]||{},e[h]["--app-shell-aside-transform"]=s,e[h]["--app-shell-aside-transform-rtl"]=o,e[h]["--app-shell-aside-offset"]="0px !important"}if((c=n==null?void 0:n.collapsed)!=null&&c.mobile){const h=jA(n.breakpoint,i.breakpoints)-.1;r[h]=r[h]||{},r[h]["--app-shell-aside-width"]="100%",r[h]["--app-shell-aside-offset"]="0px",r[h]["--app-shell-aside-transform"]=s,r[h]["--app-shell-aside-transform-rtl"]=o}}function wZ({baseStyles:t,minMediaStyles:e,footer:r}){const n=r==null?void 0:r.height,i="translateY(var(--app-shell-footer-height))",a=(r==null?void 0:r.offset)??!0;if(pf(n)){const s=me(ff(n));t["--app-shell-footer-height"]=s,a&&(t["--app-shell-footer-offset"]=s)}vf(n)&&(typeof n.base<"u"&&(t["--app-shell-footer-height"]=me(n.base),a&&(t["--app-shell-footer-offset"]=me(n.base))),gt(n).forEach(s=>{s!=="base"&&(e[s]=e[s]||{},e[s]["--app-shell-footer-height"]=me(n[s]),a&&(e[s]["--app-shell-footer-offset"]=me(n[s])))})),r!=null&&r.collapsed&&(t["--app-shell-footer-transform"]=i,t["--app-shell-footer-offset"]="0px !important")}function _Z({baseStyles:t,minMediaStyles:e,header:r}){const n=r==null?void 0:r.height,i="translateY(calc(var(--app-shell-header-height) * -1))",a=(r==null?void 0:r.offset)??!0;if(pf(n)){const s=me(ff(n));t["--app-shell-header-height"]=s,a&&(t["--app-shell-header-offset"]=s)}vf(n)&&(typeof n.base<"u"&&(t["--app-shell-header-height"]=me(n.base),a&&(t["--app-shell-header-offset"]=me(n.base))),gt(n).forEach(s=>{s!=="base"&&(e[s]=e[s]||{},e[s]["--app-shell-header-height"]=me(n[s]),a&&(e[s]["--app-shell-header-offset"]=me(n[s])))})),r!=null&&r.collapsed&&(t["--app-shell-header-transform"]=i,t["--app-shell-header-offset"]="0px !important")}function EZ({baseStyles:t,minMediaStyles:e,maxMediaStyles:r,navbar:n,theme:i}){var l,u,c;const a=n==null?void 0:n.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",o="translateX(var(--app-shell-navbar-width))";if(n!=null&&n.breakpoint&&!((l=n==null?void 0:n.collapsed)!=null&&l.mobile)&&(r[n==null?void 0:n.breakpoint]=r[n==null?void 0:n.breakpoint]||{},r[n==null?void 0:n.breakpoint]["--app-shell-navbar-width"]="100%",r[n==null?void 0:n.breakpoint]["--app-shell-navbar-offset"]="0px"),pf(a)){const h=me(ff(a));t["--app-shell-navbar-width"]=h,t["--app-shell-navbar-offset"]=h}if(vf(a)&&(typeof a.base<"u"&&(t["--app-shell-navbar-width"]=me(a.base),t["--app-shell-navbar-offset"]=me(a.base)),gt(a).forEach(h=>{h!=="base"&&(e[h]=e[h]||{},e[h]["--app-shell-navbar-width"]=me(a[h]),e[h]["--app-shell-navbar-offset"]=me(a[h]))})),(u=n==null?void 0:n.collapsed)!=null&&u.desktop){const h=n.breakpoint;e[h]=e[h]||{},e[h]["--app-shell-navbar-transform"]=s,e[h]["--app-shell-navbar-transform-rtl"]=o,e[h]["--app-shell-navbar-offset"]="0px !important"}if((c=n==null?void 0:n.collapsed)!=null&&c.mobile){const h=jA(n.breakpoint,i.breakpoints)-.1;r[h]=r[h]||{},r[h]["--app-shell-navbar-width"]="100%",r[h]["--app-shell-navbar-offset"]="0px",r[h]["--app-shell-navbar-transform"]=s,r[h]["--app-shell-navbar-transform-rtl"]=o}}function j0(t){return Number(t)===0?"0px":br(t)}function SZ({padding:t,baseStyles:e,minMediaStyles:r}){pf(t)&&(e["--app-shell-padding"]=j0(ff(t))),vf(t)&&(t.base&&(e["--app-shell-padding"]=j0(t.base)),gt(t).forEach(n=>{n!=="base"&&(r[n]=r[n]||{},r[n]["--app-shell-padding"]=j0(t[n]))}))}function CZ({navbar:t,header:e,footer:r,aside:n,padding:i,theme:a}){const s={},o={},l={};EZ({baseStyles:l,minMediaStyles:s,maxMediaStyles:o,navbar:t,theme:a}),xZ({baseStyles:l,minMediaStyles:s,maxMediaStyles:o,aside:n,theme:a}),_Z({baseStyles:l,minMediaStyles:s,header:e}),wZ({baseStyles:l,minMediaStyles:s,footer:r}),SZ({baseStyles:l,minMediaStyles:s,padding:i});const u=Td(gt(s),a.breakpoints).map(d=>({query:`(min-width: ${rm(d.px)})`,styles:s[d.value]})),c=Td(gt(o),a.breakpoints).map(d=>({query:`(max-width: ${rm(d.px)})`,styles:o[d.value]})),h=[...u,...c];return{baseStyles:l,media:h}}function TZ({navbar:t,header:e,aside:r,footer:n,padding:i}){const a=Vr(),s=yo(),{media:o,baseStyles:l}=CZ({navbar:t,header:e,footer:n,aside:r,padding:i,theme:a});return A.jsx(Tc,{media:o,styles:l,selector:s.cssVariablesSelector})}const AZ={},w2=Re((t,e)=>{const r=be("AppShellNavbar",AZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,withBorder:u,zIndex:c,mod:h,...d}=r,f=Dc();return f.disabled?null:A.jsx(xe,{component:"nav",ref:e,mod:[{"with-border":u??f.withBorder},h],...f.getStyles("navbar",{className:i,classNames:n,styles:s,style:a}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${c??f.zIndex} + 1)`}})});w2.classes=xo;w2.displayName="@mantine/core/AppShellNavbar";const RZ={},_2=sn((t,e)=>{const r=be("AppShellSection",RZ,t),{classNames:n,className:i,style:a,styles:s,vars:o,grow:l,mod:u,...c}=r,h=Dc();return A.jsx(xe,{ref:e,mod:[{grow:l},u],...h.getStyles("section",{className:i,style:a,classNames:n,styles:s}),...c})});_2.classes=xo;_2.displayName="@mantine/core/AppShellSection";function PZ({transitionDuration:t,disabled:e}){const[r,n]=D.useState(!0),i=D.useRef(),a=D.useRef();return e6("resize",()=>{n(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>D.startTransition(()=>{n(!1)}),200)}),Ml(()=>{n(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>D.startTransition(()=>{n(!1)}),t||0)},[e,t]),r}const IZ={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:zn("app")},kZ=(t,{transitionDuration:e,transitionTimingFunction:r})=>({root:{"--app-shell-transition-duration":`${e}ms`,"--app-shell-transition-timing-function":r}}),un=Re((t,e)=>{const r=be("AppShell",IZ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,navbar:u,withBorder:c,padding:h,transitionDuration:d,transitionTimingFunction:f,header:p,zIndex:g,layout:m,disabled:v,aside:y,footer:b,offsetScrollbars:x,mod:w,...E}=r,_=Xe({name:"AppShell",classes:xo,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:kZ}),T=PZ({disabled:v,transitionDuration:d});return A.jsxs(vZ,{value:{getStyles:_,withBorder:c,zIndex:g,disabled:v,offsetScrollbars:x},children:[A.jsx(TZ,{navbar:u,header:p,aside:y,footer:b,padding:h}),A.jsx(xe,{ref:e,..._("root"),mod:[{resizing:T,layout:m,disabled:v},w],...E})]})});un.classes=xo;un.displayName="@mantine/core/AppShell";un.Navbar=w2;un.Header=b2;un.Main=x2;un.Aside=g2;un.Footer=y2;un.Section=_2;function mj(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>mj(e))}:t}function MZ(t){return t?t.map(e=>mj(e)):[]}function gj(t){return t.reduce((e,r)=>"group"in r?{...e,...gj(r.items)}:(e[r.value]=r,e),{})}var wn={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const DZ={error:null},OZ=(t,{size:e})=>({chevron:{"--combobox-chevron-size":vt(e,"combobox-chevron-size")}}),E2=Re((t,e)=>{const r=be("ComboboxChevron",DZ,t),{size:n,error:i,style:a,className:s,classNames:o,styles:l,unstyled:u,vars:c,mod:h,...d}=r,f=Xe({name:"ComboboxChevron",classes:wn,props:r,style:a,className:s,classNames:o,styles:l,unstyled:u,vars:c,varsResolver:OZ,rootSelector:"chevron"});return A.jsx(xe,{component:"svg",...d,...f("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},h],ref:e,children:A.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});E2.classes=wn;E2.displayName="@mantine/core/ComboboxChevron";const[NZ,li]=Sn("Combobox component was not found in tree"),yj=D.forwardRef(({size:t,onMouseDown:e,onClick:r,onClear:n,...i},a)=>A.jsx(hf,{ref:a,size:t||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),e==null||e(s)},onClick:s=>{n(),r==null||r(s)}}));yj.displayName="@mantine/core/ComboboxClearButton";const LZ={},S2=Re((t,e)=>{const{classNames:r,styles:n,className:i,style:a,hidden:s,...o}=be("ComboboxDropdown",LZ,t),l=li();return A.jsx(bn.Dropdown,{...o,ref:e,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:a,classNames:r,styles:n})})});S2.classes=wn;S2.displayName="@mantine/core/ComboboxDropdown";const BZ={refProp:"ref"},bj=Re((t,e)=>{const{children:r,refProp:n}=be("ComboboxDropdownTarget",BZ,t);if(li(),!ls(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return A.jsx(bn.Target,{ref:e,refProp:n,children:r})});bj.displayName="@mantine/core/ComboboxDropdownTarget";const FZ={},C2=Re((t,e)=>{const{classNames:r,className:n,style:i,styles:a,vars:s,...o}=be("ComboboxEmpty",FZ,t),l=li();return A.jsx(xe,{ref:e,...l.getStyles("empty",{className:n,classNames:r,styles:a,style:i}),...o})});C2.classes=wn;C2.displayName="@mantine/core/ComboboxEmpty";function T2({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:r,withExpandedAttribute:n,targetType:i,autoComplete:a}){const s=li(),[o,l]=D.useState(null),u=h=>{if(t==null||t(h),!s.readOnly&&e){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const d=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&d!==-1?(h.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(h.preventDefault(),s.store.openDropdown("keyboard"))}h.nativeEvent.code==="Escape"&&s.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&i==="button"&&(h.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.listId,"aria-activedescendant":s.store.dropdownOpened&&o||void 0,autoComplete:a,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const zZ={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},xj=Re((t,e)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:s,targetType:o,autoComplete:l,...u}=be("ComboboxEventsTarget",zZ,t);if(!ls(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=li(),h=T2({targetType:o,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:r.props.onKeyDown,autoComplete:l});return D.cloneElement(r,{...h,...u,[n]:_r(e,c.store.targetRef,gg(r))})});xj.displayName="@mantine/core/ComboboxEventsTarget";const jZ={},A2=Re((t,e)=>{const{classNames:r,className:n,style:i,styles:a,vars:s,...o}=be("ComboboxFooter",jZ,t),l=li();return A.jsx(xe,{ref:e,...l.getStyles("footer",{className:n,classNames:r,style:i,styles:a}),...o,onMouseDown:u=>{u.preventDefault()}})});A2.classes=wn;A2.displayName="@mantine/core/ComboboxFooter";const UZ={},R2=Re((t,e)=>{const{classNames:r,className:n,style:i,styles:a,vars:s,children:o,label:l,...u}=be("ComboboxGroup",UZ,t),c=li();return A.jsxs(xe,{ref:e,...c.getStyles("group",{className:n,classNames:r,style:i,styles:a}),...u,children:[l&&A.jsx("div",{...c.getStyles("groupLabel",{classNames:r,styles:a}),children:l}),o]})});R2.classes=wn;R2.displayName="@mantine/core/ComboboxGroup";const $Z={},P2=Re((t,e)=>{const{classNames:r,className:n,style:i,styles:a,vars:s,...o}=be("ComboboxHeader",$Z,t),l=li();return A.jsx(xe,{ref:e,...l.getStyles("header",{className:n,classNames:r,style:i,styles:a}),...o,onMouseDown:u=>{u.preventDefault()}})});P2.classes=wn;P2.displayName="@mantine/core/ComboboxHeader";function wj({value:t,valuesDivider:e=",",...r}){return A.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...r})}wj.displayName="@mantine/core/ComboboxHiddenInput";const GZ={},I2=Re((t,e)=>{const r=be("ComboboxOption",GZ,t),{classNames:n,className:i,style:a,styles:s,vars:o,onClick:l,id:u,active:c,onMouseDown:h,onMouseOver:d,disabled:f,selected:p,mod:g,...m}=r,v=li(),y=D.useId(),b=u||y;return A.jsx(xe,{...v.getStyles("option",{className:i,classNames:n,styles:s,style:a}),...m,ref:e,id:b,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":f,"combobox-selected":p},g],role:"option",onClick:x=>{var w;f?x.preventDefault():((w=v.onOptionSubmit)==null||w.call(v,r.value,r),l==null||l(x))},onMouseDown:x=>{x.preventDefault(),h==null||h(x)},onMouseOver:x=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),d==null||d(x)}})});I2.classes=wn;I2.displayName="@mantine/core/ComboboxOption";const HZ={},k2=Re((t,e)=>{const r=be("ComboboxOptions",HZ,t),{classNames:n,className:i,style:a,styles:s,id:o,onMouseDown:l,labelledBy:u,...c}=r,h=li(),d=us(o);return D.useEffect(()=>{h.store.setListId(d)},[d]),A.jsx(xe,{ref:e,...h.getStyles("options",{className:i,style:a,classNames:n,styles:s}),...c,id:d,role:"listbox","aria-labelledby":u,onMouseDown:f=>{f.preventDefault(),l==null||l(f)}})});k2.classes=wn;k2.displayName="@mantine/core/ComboboxOptions";const VZ={withAriaAttributes:!0,withKeyboardNavigation:!0},M2=Re((t,e)=>{const r=be("ComboboxSearch",VZ,t),{classNames:n,styles:i,unstyled:a,vars:s,withAriaAttributes:o,onKeyDown:l,withKeyboardNavigation:u,size:c,...h}=r,d=li(),f=d.getStyles("search"),p=T2({targetType:"input",withAriaAttributes:o,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return A.jsx(Dt,{ref:_r(e,d.store.searchRef),classNames:[{input:f.className},n],styles:[{input:f.style},i],size:c||d.size,...p,...h,__staticSelector:"Combobox"})});M2.classes=wn;M2.displayName="@mantine/core/ComboboxSearch";const WZ={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},_j=Re((t,e)=>{const{children:r,refProp:n,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:s,targetType:o,autoComplete:l,...u}=be("ComboboxTarget",WZ,t);if(!ls(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=li(),h=T2({targetType:o,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:r.props.onKeyDown,autoComplete:l}),d=D.cloneElement(r,{...h,...u});return A.jsx(bn.Target,{ref:_r(e,c.store.targetRef),children:d})});_j.displayName="@mantine/core/ComboboxTarget";function qZ(t,e,r){for(let n=t-1;n>=0;n-=1)if(!e[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=e.length-1;n>-1;n-=1)if(!e[n].hasAttribute("data-combobox-disabled"))return n}return t}function XZ(t,e,r){for(let n=t+1;n<e.length;n+=1)if(!e[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<e.length;n+=1)if(!e[n].hasAttribute("data-combobox-disabled"))return n}return t}function YZ(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function Ej({defaultOpened:t,opened:e,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:i,loop:a=!0,scrollBehavior:s="instant"}={}){const[o,l]=ni({value:e,defaultValue:t,finalValue:!1,onChange:r}),u=D.useRef(null),c=D.useRef(-1),h=D.useRef(null),d=D.useRef(null),f=D.useRef(-1),p=D.useRef(-1),g=D.useRef(-1),m=D.useCallback((L="unknown")=>{o||(l(!0),i==null||i(L))},[l,i,o]),v=D.useCallback((L="unknown")=>{o&&(l(!1),n==null||n(L))},[l,n,o]),y=D.useCallback((L="unknown")=>{o?v(L):m(L)},[v,m,o]),b=D.useCallback(()=>{const L=document.querySelector(`#${u.current} [data-combobox-selected]`);L==null||L.removeAttribute("data-combobox-selected"),L==null||L.removeAttribute("aria-selected")},[]),x=D.useCallback(L=>{const N=document.getElementById(u.current),F=N==null?void 0:N.querySelectorAll("[data-combobox-option]");if(!F)return null;const z=L>=F.length?0:L<0?F.length-1:L;return c.current=z,F!=null&&F[z]&&!F[z].hasAttribute("data-combobox-disabled")?(b(),F[z].setAttribute("data-combobox-selected","true"),F[z].setAttribute("aria-selected","true"),F[z].scrollIntoView({block:"nearest",behavior:s}),F[z].id):null},[s,b]),w=D.useCallback(()=>{const L=document.querySelector(`#${u.current} [data-combobox-active]`);if(L){const N=document.querySelectorAll(`#${u.current} [data-combobox-option]`),F=Array.from(N).findIndex(z=>z===L);return x(F)}return x(0)},[x]),E=D.useCallback(()=>x(XZ(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),a)),[x,a]),_=D.useCallback(()=>x(qZ(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),a)),[x,a]),T=D.useCallback(()=>x(YZ(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[x]),C=D.useCallback((L="selected",N)=>{g.current=window.setTimeout(()=>{var $;const F=document.querySelectorAll(`#${u.current} [data-combobox-option]`),z=Array.from(F).findIndex(O=>O.hasAttribute(`data-combobox-${L}`));c.current=z,N!=null&&N.scrollIntoView&&(($=F[z])==null||$.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),P=D.useCallback(()=>{c.current=-1,b()},[b]),M=D.useCallback(()=>{const L=document.querySelectorAll(`#${u.current} [data-combobox-option]`),N=L==null?void 0:L[c.current];N==null||N.click()},[]),R=D.useCallback(L=>{u.current=L},[]),I=D.useCallback(()=>{f.current=window.setTimeout(()=>h.current.focus(),0)},[]),S=D.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),B=D.useCallback(()=>c.current,[]);return D.useEffect(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(p.current),window.clearTimeout(g.current)},[]),{dropdownOpened:o,openDropdown:m,closeDropdown:v,toggleDropdown:y,selectedOptionIndex:c.current,getSelectedOptionIndex:B,selectOption:x,selectFirstOption:T,selectActiveOption:w,selectNextOption:E,selectPreviousOption:_,resetSelectedOption:P,updateSelectedOptionIndex:C,listId:u.current,setListId:R,clickSelectedOption:M,searchRef:h,focusSearchInput:I,targetRef:d,focusTarget:S}}const KZ={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},ZZ=(t,{size:e,dropdownPadding:r})=>({options:{"--combobox-option-fz":gn(e),"--combobox-option-padding":vt(e,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:me(r),"--combobox-option-fz":gn(e),"--combobox-option-padding":vt(e,"combobox-option-padding")}});function dt(t){const e=be("Combobox",KZ,t),{classNames:r,styles:n,unstyled:i,children:a,store:s,vars:o,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:h,resetSelectionOnOptionHover:d,__staticSelector:f,readOnly:p,...g}=e,m=Ej(),v=s||m,y=Xe({name:f||"Combobox",classes:wn,props:e,classNames:r,styles:n,unstyled:i,vars:o,varsResolver:ZZ}),b=()=>{u==null||u(),v.closeDropdown()};return A.jsx(NZ,{value:{getStyles:y,store:v,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:d,readOnly:p},children:A.jsx(bn,{opened:v.dropdownOpened,...g,onChange:x=>!x&&b(),withRoles:!1,unstyled:i,children:a})})}const QZ=t=>t;dt.extend=QZ;dt.classes=wn;dt.displayName="@mantine/core/Combobox";dt.Target=_j;dt.Dropdown=S2;dt.Options=k2;dt.Option=I2;dt.Search=M2;dt.Empty=C2;dt.Chevron=E2;dt.Footer=A2;dt.Header=P2;dt.EventsTarget=xj;dt.DropdownTarget=bj;dt.Group=R2;dt.ClearButton=yj;dt.HiddenInput=wj;var Sj={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const Cj=Sj,D2=D.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:r,classNames:n,styles:i,unstyled:a,children:s,label:o,description:l,id:u,disabled:c,error:h,size:d,labelPosition:f="left",bodyElement:p="div",labelElement:g="label",variant:m,style:v,vars:y,mod:b,...x},w)=>{const E=Xe({name:t,props:e,className:r,style:v,classes:Sj,classNames:n,styles:i,unstyled:a});return A.jsx(xe,{...E("root"),ref:w,__vars:{"--label-fz":gn(d),"--label-lh":vt(d,"label-lh")},mod:[{"label-position":f},b],variant:m,size:d,...x,children:A.jsxs(xe,{component:p,htmlFor:p==="label"?u:void 0,...E("body"),children:[s,A.jsxs("div",{...E("labelWrapper"),"data-disabled":c||void 0,children:[o&&A.jsx(xe,{component:g,htmlFor:g==="label"?u:void 0,...E("label"),"data-disabled":c||void 0,children:o}),l&&A.jsx(Dt.Description,{size:d,__inheritStyles:!1,...E("description"),children:l}),h&&typeof h!="boolean"&&A.jsx(Dt.Error,{size:d,__inheritStyles:!1,...E("error"),children:h})]})]})})});D2.displayName="@mantine/core/InlineInput";const Tj=D.createContext(null),JZ=Tj.Provider,Aj=()=>D.useContext(Tj),[eQ,tQ]=FA();var Rj={card:"m_26775b0a"};const rQ={withBorder:!0},nQ=(t,{radius:e})=>({card:{"--card-radius":lr(e)}}),O2=Re((t,e)=>{const r=be("CheckboxCard",rQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,checked:u,mod:c,withBorder:h,value:d,onClick:f,...p}=r,g=Xe({name:"CheckboxCard",classes:Rj,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:nQ,rootSelector:"card"}),m=Aj(),v=typeof u=="boolean"?u:(m==null?void 0:m.value.includes(d||""))||!1;return A.jsx(eQ,{value:{checked:v},children:A.jsx(zi,{ref:e,mod:[{"with-border":h,checked:v},c],...g("card"),...p,role:"checkbox","aria-checked":v,onClick:y=>{f==null||f(y),m==null||m.onChange(d||"")}})})});O2.displayName="@mantine/core/CheckboxCard";O2.classes=Rj;function Pj({children:t,role:e}){const r=df();return r?A.jsx("div",{role:e,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:t}):A.jsx(A.Fragment,{children:t})}const iQ={},N2=Re((t,e)=>{const{value:r,defaultValue:n,onChange:i,size:a,wrapperProps:s,children:o,readOnly:l,...u}=be("CheckboxGroup",iQ,t),[c,h]=ni({value:r,defaultValue:n,finalValue:[],onChange:i}),d=f=>{const p=typeof f=="string"?f:f.currentTarget.value;!l&&h(c.includes(p)?c.filter(g=>g!==p):[...c,p])};return A.jsx(JZ,{value:{value:c,onChange:d,size:a},children:A.jsx(Dt.Wrapper,{size:a,ref:e,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:A.jsx(Pj,{role:"group",children:o})})})});N2.classes=Dt.Wrapper.classes;N2.displayName="@mantine/core/CheckboxGroup";function Ij({size:t,style:e,...r}){const n=t!==void 0?{width:me(t),height:me(t),...e}:e;return A.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:A.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function kj({indeterminate:t,...e}){return t?A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e,children:A.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):A.jsx(Ij,{...e})}var Mj={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const aQ={icon:kj},sQ=(t,{radius:e,color:r,size:n,iconColor:i,variant:a,autoContrast:s})=>{const o=Dl({color:r||t.primaryColor,theme:t}),l=o.isThemeColor&&o.shade===void 0?`var(--mantine-color-${o.color}-outline)`:o.color;return{indicator:{"--checkbox-size":vt(n,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:lr(e),"--checkbox-color":a==="outline"?l:kr(r,t),"--checkbox-icon-color":i?kr(i,t):bg(s,t)?lf({color:r,theme:t,autoContrast:s}):void 0}}},L2=Re((t,e)=>{const r=be("CheckboxIndicator",aQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,icon:u,indeterminate:c,radius:h,color:d,iconColor:f,autoContrast:p,checked:g,mod:m,variant:v,disabled:y,...b}=r,x=u,w=Xe({name:"CheckboxIndicator",classes:Mj,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:sQ,rootSelector:"indicator"}),E=tQ(),_=typeof g=="boolean"||typeof c=="boolean"?g||c:(E==null?void 0:E.checked)||!1;return A.jsx(xe,{ref:e,...w("indicator",{variant:v}),variant:v,mod:[{checked:_,disabled:y},m],...b,children:A.jsx(x,{indeterminate:c,...w("icon")})})});L2.displayName="@mantine/core/CheckboxIndicator";L2.classes=Mj;var Dj={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const oQ={labelPosition:"right",icon:kj},lQ=(t,{radius:e,color:r,size:n,iconColor:i,variant:a,autoContrast:s})=>{const o=Dl({color:r||t.primaryColor,theme:t}),l=o.isThemeColor&&o.shade===void 0?`var(--mantine-color-${o.color}-outline)`:o.color;return{root:{"--checkbox-size":vt(n,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:lr(e),"--checkbox-color":a==="outline"?l:kr(r,t),"--checkbox-icon-color":i?kr(i,t):bg(s,t)?lf({color:r,theme:t,autoContrast:s}):void 0}}},ja=Re((t,e)=>{const r=be("Checkbox",oQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,color:u,label:c,id:h,size:d,radius:f,wrapperProps:p,checked:g,labelPosition:m,description:v,error:y,disabled:b,variant:x,indeterminate:w,icon:E,rootRef:_,iconColor:T,onChange:C,autoContrast:P,mod:M,...R}=r,I=Aj(),S=d||(I==null?void 0:I.size),B=E,L=Xe({name:"Checkbox",props:r,classes:Dj,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:lQ}),{styleProps:N,rest:F}=uf(R),z=us(h),$=I?{checked:I.value.includes(F.value),onChange:O=>{I.onChange(O),C==null||C(O)}}:{};return A.jsx(D2,{...L("root"),__staticSelector:"Checkbox",__stylesApiProps:r,id:z,size:S,labelPosition:m,label:c,description:v,error:y,disabled:b,classNames:n,styles:s,unstyled:o,"data-checked":$.checked||g||void 0,variant:x,ref:_,mod:M,...N,...p,children:A.jsxs(xe,{...L("inner"),mod:{"data-label-position":m},children:[A.jsx(xe,{component:"input",id:z,ref:e,checked:g,disabled:b,mod:{error:!!y,indeterminate:w},...L("input",{focusable:!0,variant:x}),onChange:C,...F,...$,type:"checkbox"}),A.jsx(B,{indeterminate:w,...L("icon")})]})})});ja.classes={...Dj,...Cj};ja.displayName="@mantine/core/Checkbox";ja.Group=N2;ja.Indicator=L2;ja.Card=O2;function kd(t){return"group"in t}function Oj({options:t,search:e,limit:r}){const n=e.trim().toLowerCase(),i=[];for(let a=0;a<t.length;a+=1){const s=t[a];if(i.length===r)return i;kd(s)&&i.push({group:s.group,items:Oj({options:s.items,search:e,limit:r-i.length})}),kd(s)||s.label.toLowerCase().includes(n)&&i.push(s)}return i}function uQ(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function Nj(t,e=new Set){if(Array.isArray(t))for(const r of t)if(kd(r))Nj(r.items,e);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(e.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);e.add(r.value)}}function cQ(t,e){return Array.isArray(t)?t.includes(e):t===e}function Lj({data:t,withCheckIcon:e,value:r,checkIconPosition:n,unstyled:i,renderOption:a}){if(!kd(t)){const o=cQ(r,t.value),l=e&&o&&A.jsx(Ij,{className:wn.optionsDropdownCheckIcon}),u=A.jsxs(A.Fragment,{children:[n==="left"&&l,A.jsx("span",{children:t.label}),n==="right"&&l]});return A.jsx(dt.Option,{value:t.value,disabled:t.disabled,className:Wt({[wn.optionsDropdownOption]:!i}),"data-reverse":n==="right"||void 0,"data-checked":o||void 0,"aria-selected":o,active:o,children:typeof a=="function"?a({option:t,checked:o}):u})}const s=t.items.map(o=>A.jsx(Lj,{data:o,value:r,unstyled:i,withCheckIcon:e,checkIconPosition:n,renderOption:a},o.value));return A.jsx(dt.Group,{label:t.group,children:s})}function hQ({data:t,hidden:e,hiddenWhenEmpty:r,filter:n,search:i,limit:a,maxDropdownHeight:s,withScrollArea:o=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:h,nothingFoundMessage:d,unstyled:f,labelId:p,renderOption:g,scrollAreaProps:m,"aria-label":v}){Nj(t);const b=typeof i=="string"?(n||Oj)({options:t,search:l?i:"",limit:a??1/0}):t,x=uQ(b),w=b.map(E=>A.jsx(Lj,{data:E,withCheckIcon:u,value:c,checkIconPosition:h,unstyled:f,renderOption:g},kd(E)?E.group:E.value));return A.jsx(dt.Dropdown,{hidden:e||r&&x,children:A.jsxs(dt.Options,{labelledBy:p,"aria-label":v,children:[o?A.jsx(Rc.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...m,children:w}):w,x&&d&&A.jsx(dt.Empty,{children:d})]})})}var Bj={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const dQ={},fQ=(t,{color:e,size:r,lineSize:n,transitionDuration:i,transitionTimingFunction:a})=>({root:{"--burger-color":e?kr(e,t):void 0,"--burger-size":vt(r,"burger-size"),"--burger-line-size":n?me(n):void 0,"--burger-transition-duration":i===void 0?void 0:`${i}ms`,"--burger-transition-timing-function":a}}),B2=Re((t,e)=>{const r=be("Burger",dQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,opened:u,children:c,transitionDuration:h,transitionTimingFunction:d,lineSize:f,...p}=r,g=Xe({name:"Burger",classes:Bj,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:fQ});return A.jsxs(zi,{...g("root"),ref:e,...p,children:[A.jsx(xe,{mod:["reduce-motion",{opened:u}],...g("burger")}),c]})});B2.classes=Bj;B2.displayName="@mantine/core/Burger";var Dg={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const pk={orientation:"horizontal"},pQ=(t,{borderWidth:e})=>({group:{"--button-border-width":me(e)}}),F2=Re((t,e)=>{const r=be("ButtonGroup",pk,t),{className:n,style:i,classNames:a,styles:s,unstyled:o,orientation:l,vars:u,borderWidth:c,variant:h,mod:d,...f}=be("ButtonGroup",pk,t),p=Xe({name:"ButtonGroup",props:r,classes:Dg,className:n,style:i,classNames:a,styles:s,unstyled:o,vars:u,varsResolver:pQ,rootSelector:"group"});return A.jsx(xe,{...p("group"),ref:e,variant:h,mod:[{"data-orientation":l},d],role:"group",...f})});F2.classes=Dg;F2.displayName="@mantine/core/ButtonGroup";const vQ={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${me(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},mQ={},gQ=(t,{radius:e,color:r,gradient:n,variant:i,size:a,justify:s,autoContrast:o})=>{const l=t.variantColorResolver({color:r||t.primaryColor,theme:t,gradient:n,variant:i||"filled",autoContrast:o});return{root:{"--button-justify":s,"--button-height":vt(a,"button-height"),"--button-padding-x":vt(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?gn(a.replace("compact-","")):gn(a),"--button-radius":e===void 0?void 0:lr(e),"--button-bg":r||i?l.background:void 0,"--button-hover":r||i?l.hover:void 0,"--button-color":l.color,"--button-bd":r||i?l.border:void 0,"--button-hover-color":r||i?l.hoverColor:void 0}}},ei=sn((t,e)=>{const r=be("Button",mQ,t),{style:n,vars:i,className:a,color:s,disabled:o,children:l,leftSection:u,rightSection:c,fullWidth:h,variant:d,radius:f,loading:p,loaderProps:g,gradient:m,classNames:v,styles:y,unstyled:b,"data-disabled":x,autoContrast:w,mod:E,..._}=r,T=Xe({name:"Button",props:r,classes:Dg,className:a,style:n,classNames:v,styles:y,unstyled:b,vars:i,varsResolver:gQ}),C=!!u,P=!!c;return A.jsxs(zi,{ref:e,...T("root",{active:!o&&!p&&!x}),unstyled:b,variant:d,disabled:o||p,mod:[{disabled:o||x,loading:p,block:h,"with-left-section":C,"with-right-section":P},E],..._,children:[A.jsx(cs,{mounted:!!p,transition:vQ,duration:150,children:M=>A.jsx(xe,{component:"span",...T("loader",{style:M}),"aria-hidden":!0,children:A.jsx(Mc,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})})}),A.jsxs("span",{...T("inner"),children:[u&&A.jsx(xe,{component:"span",...T("section"),mod:{position:"left"},children:u}),A.jsx(xe,{component:"span",mod:{loading:p},...T("label"),children:l}),c&&A.jsx(xe,{component:"span",...T("section"),mod:{position:"right"},children:c})]})]})});ei.classes=Dg;ei.displayName="@mantine/core/Button";ei.Group=F2;const[yQ,bQ]=Sn("Card component was not found in tree");var z2={root:"m_e615b15f",section:"m_599a2148"};const xQ={},Og=sn((t,e)=>{const r=be("CardSection",xQ,t),{classNames:n,className:i,style:a,styles:s,vars:o,withBorder:l,inheritPadding:u,mod:c,...h}=r,d=bQ();return A.jsx(xe,{ref:e,mod:[{"with-border":l,"inherit-padding":u},c],...d.getStyles("section",{className:i,style:a,styles:s,classNames:n}),...h})});Og.classes=z2;Og.displayName="@mantine/core/CardSection";const wQ={},_Q=(t,{padding:e})=>({root:{"--card-padding":br(e)}}),yr=sn((t,e)=>{const r=be("Card",wQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,children:u,padding:c,...h}=r,d=Xe({name:"Card",props:r,classes:z2,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:_Q}),f=D.Children.toArray(u),p=f.map((g,m)=>typeof g=="object"&&g&&"type"in g&&g.type===Og?D.cloneElement(g,{"data-first-section":m===0||void 0,"data-last-section":m===f.length-1||void 0}):g);return A.jsx(yQ,{value:{getStyles:d},children:A.jsx(Eg,{ref:e,unstyled:o,...d("root"),...h,children:p})})});yr.classes=z2;yr.displayName="@mantine/core/Card";yr.Section=Og;var Fj={root:"m_b183c0a2"};const EQ={},SQ=(t,{color:e})=>({root:{"--code-bg":e?kr(e,t):void 0}}),Ci=Re((t,e)=>{const r=be("Code",EQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,color:u,block:c,variant:h,mod:d,...f}=r,p=Xe({name:"Code",props:r,classes:Fj,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:SQ});return A.jsx(xe,{component:c?"pre":"code",variant:h,ref:e,mod:[{block:c},d],...p("root"),...f,dir:"ltr"})});Ci.classes=Fj;Ci.displayName="@mantine/core/Code";const CQ={multiple:!1},zj=D.forwardRef((t,e)=>{const{onChange:r,children:n,multiple:i,accept:a,name:s,form:o,resetRef:l,disabled:u,capture:c,inputProps:h,...d}=be("FileButton",CQ,t),f=D.useRef(),p=()=>{var v;!u&&((v=f.current)==null||v.click())},g=v=>{r(i?Array.from(v.currentTarget.files):v.currentTarget.files[0]||null)};return of(l,()=>{f.current&&(f.current.value="")}),A.jsxs(A.Fragment,{children:[n({onClick:p,...d}),A.jsx("input",{style:{display:"none"},type:"file",accept:a,multiple:i,onChange:g,ref:_r(e,f),name:s,form:o,capture:c,...h})]})});zj.displayName="@mantine/core/FileButton";const TQ=({value:t})=>A.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),AQ={valueComponent:TQ},j2=Re((t,e)=>{const r=be("FileInput",AQ,t),{unstyled:n,vars:i,onChange:a,value:s,defaultValue:o,multiple:l,accept:u,name:c,form:h,valueComponent:d,clearable:f,clearButtonProps:p,readOnly:g,capture:m,fileInputProps:v,rightSection:y,size:b,placeholder:x,resetRef:w,...E}=r,_=D.useRef(null),[T,C]=ni({value:s,defaultValue:o,onChange:a,finalValue:l?[]:null}),P=Array.isArray(T)?T.length!==0:T!==null,M=y||(f&&P&&!g?A.jsx(hf,{...p,variant:"subtle",onClick:()=>C(l?[]:null),size:b,unstyled:n}):null);D.useEffect(()=>{var I;(Array.isArray(T)&&T.length===0||T===null)&&((I=_.current)==null||I.call(_))},[T]);const R=d;return A.jsx(zj,{onChange:C,multiple:l,accept:u,name:c,form:h,resetRef:_r(_,w),disabled:g,capture:m,inputProps:v,children:I=>A.jsx(oi,{component:"button",ref:e,rightSection:M,...I,...E,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:r,unstyled:n,size:b,children:P?A.jsx(R,{value:T}):A.jsx(Dt.Placeholder,{children:x})})})});j2.classes=oi.classes;j2.displayName="@mantine/core/FileInput";const RQ=j2;function PQ({open:t,close:e,openDelay:r,closeDelay:n}){const i=D.useRef(-1),a=D.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},o=()=>{s(),r===0||r===void 0?t():i.current=window.setTimeout(t,r)},l=()=>{s(),n===0||n===void 0?e():a.current=window.setTimeout(e,n)};return D.useEffect(()=>s,[]),{openDropdown:o,closeDropdown:l}}const[vk,jj]=Sn("Grid component was not found in tree"),gC=(t,e)=>t==="content"?"auto":t==="auto"?"0rem":t?`${100/(e/t)}%`:void 0,mk=(t,e,r)=>r||t==="auto"?"100%":t==="content"?"unset":gC(t,e),gk=(t,e)=>{if(t)return t==="auto"||e?"1":"auto"},yk=(t,e)=>t===0?"0":t?`${100/(e/t)}%`:void 0;function IQ({span:t,order:e,offset:r,selector:n}){var f;const i=Vr(),a=jj(),s=a.breakpoints||i.breakpoints,l=ki(t)===void 0?12:ki(t),u=kl({"--col-order":(f=ki(e))==null?void 0:f.toString(),"--col-flex-grow":gk(l,a.grow),"--col-flex-basis":gC(l,a.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":mk(l,a.columns,a.grow),"--col-offset":yk(ki(r),a.columns)}),c=gt(s).reduce((p,g)=>{var m;return p[g]||(p[g]={}),typeof e=="object"&&e[g]!==void 0&&(p[g]["--col-order"]=(m=e[g])==null?void 0:m.toString()),typeof t=="object"&&t[g]!==void 0&&(p[g]["--col-flex-grow"]=gk(t[g],a.grow),p[g]["--col-flex-basis"]=gC(t[g],a.columns),p[g]["--col-width"]=t[g]==="content"?"auto":void 0,p[g]["--col-max-width"]=mk(t[g],a.columns,a.grow)),typeof r=="object"&&r[g]!==void 0&&(p[g]["--col-offset"]=yk(r[g],a.columns)),p},{}),d=Td(gt(c),s).filter(p=>gt(c[p.value]).length>0).map(p=>({query:a.type==="container"?`mantine-grid (min-width: ${s[p.value]})`:`(min-width: ${s[p.value]})`,styles:c[p.value]}));return A.jsx(Tc,{styles:u,media:a.type==="container"?void 0:d,container:a.type==="container"?d:void 0,selector:n})}var U2={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const kQ={span:12},$2=Re((t,e)=>{const r=be("GridCol",kQ,t),{classNames:n,className:i,style:a,styles:s,vars:o,span:l,order:u,offset:c,...h}=r,d=jj(),f=xg();return A.jsxs(A.Fragment,{children:[A.jsx(IQ,{selector:`.${f}`,span:l,order:u,offset:c}),A.jsx(xe,{ref:e,...d.getStyles("col",{className:Wt(i,f),style:a,classNames:n,styles:s}),...h})]})});$2.classes=U2;$2.displayName="@mantine/core/GridCol";function bk({gutter:t,selector:e,breakpoints:r,type:n}){const i=Vr(),a=r||i.breakpoints,s=kl({"--grid-gutter":br(ki(t))}),o=gt(a).reduce((c,h)=>(c[h]||(c[h]={}),typeof t=="object"&&t[h]!==void 0&&(c[h]["--grid-gutter"]=br(t[h])),c),{}),u=Td(gt(o),a).filter(c=>gt(o[c.value]).length>0).map(c=>({query:n==="container"?`mantine-grid (min-width: ${a[c.value]})`:`(min-width: ${a[c.value]})`,styles:o[c.value]}));return A.jsx(Tc,{styles:s,media:n==="container"?void 0:u,container:n==="container"?u:void 0,selector:e})}const MQ={gutter:"md",grow:!1,columns:12},DQ=(t,{justify:e,align:r,overflow:n})=>({root:{"--grid-justify":e,"--grid-align":r,"--grid-overflow":n}}),Uu=Re((t,e)=>{const r=be("Grid",MQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,grow:u,gutter:c,columns:h,align:d,justify:f,children:p,breakpoints:g,type:m,...v}=r,y=Xe({name:"Grid",classes:U2,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:DQ}),b=xg();return m==="container"&&g?A.jsxs(vk,{value:{getStyles:y,grow:u,columns:h||12,breakpoints:g,type:m},children:[A.jsx(bk,{selector:`.${b}`,...r}),A.jsx("div",{...y("container"),children:A.jsx(xe,{ref:e,...y("root",{className:b}),...v,children:A.jsx("div",{...y("inner"),children:p})})})]}):A.jsxs(vk,{value:{getStyles:y,grow:u,columns:h||12,breakpoints:g,type:m},children:[A.jsx(bk,{selector:`.${b}`,...r}),A.jsx(xe,{ref:e,...y("root",{className:b}),...v,children:A.jsx("div",{...y("inner"),children:p})})]})});Uu.classes=U2;Uu.displayName="@mantine/core/Grid";Uu.Col=$2;const[OQ,Uj]=Sn("HoverCard component was not found in the tree"),NQ={};function $j(t){const{children:e,onMouseEnter:r,onMouseLeave:n,...i}=be("HoverCardDropdown",NQ,t),a=Uj(),s=nm(r,a.openDropdown),o=nm(n,a.closeDropdown);return A.jsx(bn.Dropdown,{onMouseEnter:s,onMouseLeave:o,...i,children:e})}$j.displayName="@mantine/core/HoverCardDropdown";const LQ={refProp:"ref"},Gj=D.forwardRef((t,e)=>{const{children:r,refProp:n,eventPropsWrapperName:i,...a}=be("HoverCardTarget",LQ,t);if(!ls(r))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Uj(),o=nm(r.props.onMouseEnter,s.openDropdown),l=nm(r.props.onMouseLeave,s.closeDropdown),u={onMouseEnter:o,onMouseLeave:l};return A.jsx(bn.Target,{refProp:n,ref:e,...a,children:D.cloneElement(r,i?{[i]:u}:u)})});Gj.displayName="@mantine/core/HoverCardTarget";const BQ={openDelay:0,closeDelay:150,initiallyOpened:!1};function er(t){const{children:e,onOpen:r,onClose:n,openDelay:i,closeDelay:a,initiallyOpened:s,...o}=be("HoverCard",BQ,t),[l,{open:u,close:c}]=Zs(s,{onClose:n,onOpen:r}),{openDropdown:h,closeDropdown:d}=PQ({open:u,close:c,openDelay:i,closeDelay:a});return A.jsx(OQ,{value:{openDropdown:h,closeDropdown:d},children:A.jsx(bn,{...o,opened:l,__staticSelector:"HoverCard",children:e})})}er.displayName="@mantine/core/HoverCard";er.Target=Gj;er.Dropdown=$j;er.extend=t=>t;var Hj={root:"m_9e117634"};const FQ={},zQ=(t,{radius:e,fit:r})=>({root:{"--image-radius":e===void 0?void 0:lr(e),"--image-object-fit":r}}),Ng=sn((t,e)=>{const r=be("Image",FQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,onError:u,src:c,radius:h,fit:d,fallbackSrc:f,mod:p,...g}=r,[m,v]=D.useState(!c);D.useEffect(()=>v(!c),[c]);const y=Xe({name:"Image",classes:Hj,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:zQ});return m&&f?A.jsx(xe,{component:"img",ref:e,src:f,...y("root"),onError:u,mod:["fallback",p],...g}):A.jsx(xe,{component:"img",ref:e,...y("root"),src:c,onError:b=>{u==null||u(b),v(!0)},mod:p,...g})});Ng.classes=Hj;Ng.displayName="@mantine/core/Image";function jQ(t="top-end",e=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=me(e),[i,a]=t.split("-");return i==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),i==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),i==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var Vj={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const UQ={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},$Q=(t,{color:e,position:r,offset:n,size:i,radius:a,zIndex:s,autoContrast:o})=>({root:{"--indicator-color":e?kr(e,t):void 0,"--indicator-text-color":bg(o,t)?lf({color:e,theme:t,autoContrast:o}):void 0,"--indicator-size":me(i),"--indicator-radius":a===void 0?void 0:lr(a),"--indicator-z-index":s==null?void 0:s.toString(),...jQ(r,n)}}),Au=Re((t,e)=>{const r=be("Indicator",UQ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,children:u,position:c,offset:h,inline:d,label:f,radius:p,color:g,withBorder:m,disabled:v,processing:y,zIndex:b,autoContrast:x,mod:w,...E}=r,_=Xe({name:"Indicator",classes:Vj,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:$Q});return A.jsxs(xe,{ref:e,..._("root"),mod:[{inline:d},w],...E,children:[!v&&A.jsx(xe,{mod:{"with-label":!!f,"with-border":m,processing:y},..._("indicator"),children:f}),u]})});Au.classes=Vj;Au.displayName="@mantine/core/Indicator";function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yC.apply(null,arguments)}function GQ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var HQ=D.useLayoutEffect,VQ=function(e){var r=D.useRef(e);return HQ(function(){r.current=e}),r},xk=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},WQ=function(e,r){var n=D.useRef();return D.useCallback(function(i){e.current=i,n.current&&xk(n.current,null),n.current=r,r&&xk(r,i)},[r])},wk={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},qQ=function(e){Object.keys(wk).forEach(function(r){e.style.setProperty(r,wk[r],"important")})},_k=qQ,Zr=null,Ek=function(e,r){var n=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function XQ(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),Zr||(Zr=document.createElement("textarea"),Zr.setAttribute("tabindex","-1"),Zr.setAttribute("aria-hidden","true"),_k(Zr)),Zr.parentNode===null&&document.body.appendChild(Zr);var i=t.paddingSize,a=t.borderSize,s=t.sizingStyle,o=s.boxSizing;Object.keys(s).forEach(function(d){var f=d;Zr.style[f]=s[f]}),_k(Zr),Zr.value=e;var l=Ek(Zr,t);Zr.value=e,l=Ek(Zr,t),Zr.value="x";var u=Zr.scrollHeight-i,c=u*r;o==="border-box"&&(c=c+i+a),l=Math.max(c,l);var h=u*n;return o==="border-box"&&(h=h+i+a),l=Math.min(h,l),[l,u]}var Sk=function(){},YQ=function(e,r){return e.reduce(function(n,i){return n[i]=r[i],n},{})},KQ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],ZQ=!!document.documentElement.currentStyle,QQ=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var n=YQ(KQ,r),i=n.boxSizing;if(i==="")return null;ZQ&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),s=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:s}},JQ=QQ;function Wj(t,e,r){var n=VQ(r);D.useLayoutEffect(function(){var i=function(s){return n.current(s)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var eJ=function(e){Wj(window,"resize",e)},tJ=function(e){Wj(document.fonts,"loadingdone",e)},rJ=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],nJ=function(e,r){var n=e.cacheMeasurements,i=e.maxRows,a=e.minRows,s=e.onChange,o=s===void 0?Sk:s,l=e.onHeightChange,u=l===void 0?Sk:l,c=GQ(e,rJ),h=c.value!==void 0,d=D.useRef(null),f=WQ(d,r),p=D.useRef(0),g=D.useRef(),m=function(){var b=d.current,x=n&&g.current?g.current:JQ(b);if(x){g.current=x;var w=XQ(x,b.value||b.placeholder||"x",a,i),E=w[0],_=w[1];p.current!==E&&(p.current=E,b.style.setProperty("height",E+"px","important"),u(E,{rowHeight:_}))}},v=function(b){h||m(),o(b)};return D.useLayoutEffect(m),eJ(m),tJ(m),D.createElement("textarea",yC({},c,{onChange:v,ref:f}))},iJ=D.forwardRef(nJ);const aJ={},Lg=Re((t,e)=>{const{autosize:r,maxRows:n,minRows:i,__staticSelector:a,resize:s,...o}=be("Textarea",aJ,t),l=r&&Tq()!=="test",u=l?{maxRows:n,minRows:i}:{};return A.jsx(oi,{component:l?iJ:"textarea",ref:e,...o,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":s},...u})});Lg.classes=oi.classes;Lg.displayName="@mantine/core/Textarea";const[sJ,oJ]=Sn("List component was not found in tree");var G2={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const lJ={},$u=Re((t,e)=>{const r=be("ListItem",lJ,t),{classNames:n,className:i,style:a,styles:s,vars:o,icon:l,children:u,mod:c,...h}=r,d=oJ(),f=l||d.icon,p={classNames:n,styles:s};return A.jsx(xe,{...d.getStyles("item",{...p,className:i,style:a}),component:"li",mod:[{"with-icon":!!f,centered:d.center},c],ref:e,...h,children:A.jsxs("div",{...d.getStyles("itemWrapper",p),children:[f&&A.jsx("span",{...d.getStyles("itemIcon",p),children:f}),A.jsx("span",{...d.getStyles("itemLabel",p),children:u})]})})});$u.classes=G2;$u.displayName="@mantine/core/ListItem";const uJ={type:"unordered"},cJ=(t,{size:e,spacing:r})=>({root:{"--list-fz":gn(e),"--list-lh":Yz(e),"--list-spacing":br(r)}}),Bg=Re((t,e)=>{const r=be("List",uJ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,children:u,type:c,withPadding:h,icon:d,spacing:f,center:p,listStyleType:g,mod:m,...v}=r,y=Xe({name:"List",classes:G2,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:cJ});return A.jsx(sJ,{value:{center:p,icon:d,getStyles:y},children:A.jsx(xe,{...y("root",{style:{listStyleType:g}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":h},m],ref:e,...v,children:u})})});Bg.classes=G2;Bg.displayName="@mantine/core/List";Bg.Item=$u;var qj={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Ck={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:zn("overlay")},hJ=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),H2=Re((t,e)=>{const r=be("LoadingOverlay",Ck,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,transitionProps:u,loaderProps:c,overlayProps:h,visible:d,zIndex:f,...p}=r,g=Vr(),m=Xe({name:"LoadingOverlay",classes:qj,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:hJ}),v={...Ck.overlayProps,...h};return A.jsx(cs,{transition:"fade",...u,mounted:!!d,children:y=>A.jsxs(xe,{...m("root",{style:y}),ref:e,...p,children:[A.jsx(Mc,{...m("loader"),unstyled:o,...c}),A.jsx(Pd,{...v,...m("overlay"),darkHidden:!0,unstyled:o,color:(h==null?void 0:h.color)||g.white}),A.jsx(Pd,{...v,...m("overlay"),lightHidden:!0,unstyled:o,color:(h==null?void 0:h.color)||g.colors.dark[5]})]})})});H2.classes=qj;H2.displayName="@mantine/core/LoadingOverlay";const[dJ,Oc]=Sn("Modal component was not found in tree");var ds={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const fJ={},Fg=Re((t,e)=>{const r=be("ModalBody",fJ,t),{classNames:n,className:i,style:a,styles:s,vars:o,...l}=r,u=Oc();return A.jsx(oj,{ref:e,...u.getStyles("body",{classNames:n,style:a,styles:s,className:i}),...l})});Fg.classes=ds;Fg.displayName="@mantine/core/ModalBody";const pJ={},zg=Re((t,e)=>{const r=be("ModalCloseButton",pJ,t),{classNames:n,className:i,style:a,styles:s,vars:o,...l}=r,u=Oc();return A.jsx(lj,{ref:e,...u.getStyles("close",{classNames:n,style:a,styles:s,className:i}),...l})});zg.classes=ds;zg.displayName="@mantine/core/ModalCloseButton";const vJ={},jg=Re((t,e)=>{const r=be("ModalContent",vJ,t),{classNames:n,className:i,style:a,styles:s,vars:o,children:l,__hidden:u,...c}=r,h=Oc(),d=h.scrollAreaComponent||QK;return A.jsx(uj,{...h.getStyles("content",{className:i,style:a,styles:s,classNames:n}),innerProps:h.getStyles("inner",{className:i,style:a,styles:s,classNames:n}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:e,...c,children:A.jsx(d,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${me(h.yOffset)} * 2))`},children:l})})});jg.classes=ds;jg.displayName="@mantine/core/ModalContent";const mJ={},Ug=Re((t,e)=>{const r=be("ModalHeader",mJ,t),{classNames:n,className:i,style:a,styles:s,vars:o,...l}=r,u=Oc();return A.jsx(cj,{ref:e,...u.getStyles("header",{classNames:n,style:a,styles:s,className:i}),...l})});Ug.classes=ds;Ug.displayName="@mantine/core/ModalHeader";const gJ={},$g=Re((t,e)=>{const r=be("ModalOverlay",gJ,t),{classNames:n,className:i,style:a,styles:s,vars:o,...l}=r,u=Oc();return A.jsx(hj,{ref:e,...u.getStyles("overlay",{classNames:n,style:a,styles:s,className:i}),...l})});$g.classes=ds;$g.displayName="@mantine/core/ModalOverlay";const yJ={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:zn("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},bJ=(t,{radius:e,size:r,yOffset:n,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:lr(e),"--modal-size":vt(r,"modal-size"),"--modal-y-offset":me(n),"--modal-x-offset":me(i)}}),Gg=Re((t,e)=>{const r=be("ModalRoot",yJ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,yOffset:u,scrollAreaComponent:c,radius:h,fullScreen:d,centered:f,xOffset:p,__staticSelector:g,...m}=r,v=Xe({name:g,classes:ds,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:bJ});return A.jsx(dJ,{value:{yOffset:u,scrollAreaComponent:c,getStyles:v,fullScreen:d},children:A.jsx(sj,{ref:e,...v("root"),"data-full-screen":d||void 0,"data-centered":f||void 0,unstyled:o,...m})})});Gg.classes=ds;Gg.displayName="@mantine/core/ModalRoot";const[xJ,wJ]=FA();function Xj({children:t}){const[e,r]=D.useState([]),[n,i]=D.useState(zn("modal"));return A.jsx(xJ,{value:{stack:e,addModal:(a,s)=>{r(o=>[...new Set([...o,a])]),i(o=>typeof s=="number"&&typeof o=="number"?Math.max(o,s):o)},removeModal:a=>r(s=>s.filter(o=>o!==a)),getZIndex:a=>`calc(${n} + ${e.indexOf(a)} + 1)`,currentId:e[e.length-1],maxZIndex:n},children:t})}Xj.displayName="@mantine/core/ModalStack";const _J={},Hg=Re((t,e)=>{const r=be("ModalTitle",_J,t),{classNames:n,className:i,style:a,styles:s,vars:o,...l}=r,u=Oc();return A.jsx(dj,{ref:e,...u.getStyles("title",{classNames:n,style:a,styles:s,className:i}),...l})});Hg.classes=ds;Hg.displayName="@mantine/core/ModalTitle";const EJ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:zn("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Wr=Re((t,e)=>{const{title:r,withOverlay:n,overlayProps:i,withCloseButton:a,closeButtonProps:s,children:o,radius:l,opened:u,stackId:c,zIndex:h,...d}=be("Modal",EJ,t),f=wJ(),p=!!r||a,g=f&&c?{closeOnEscape:f.currentId===c,trapFocus:f.currentId===c,zIndex:f.getZIndex(c)}:{},m=n===!1?!1:c&&f?f.currentId===c:u;return D.useEffect(()=>{f&&c&&(u?f.addModal(c,h||zn("modal")):f.removeModal(c))},[u,c,h]),A.jsxs(Gg,{ref:e,radius:l,opened:u,zIndex:f&&c?f.getZIndex(c):h,...d,...g,children:[n&&A.jsx($g,{visible:m,transitionProps:f&&c?{duration:0}:void 0,...i}),A.jsxs(jg,{radius:l,__hidden:f&&c&&u?c!==f.currentId:!1,children:[p&&A.jsxs(Ug,{children:[r&&A.jsx(Hg,{children:r}),a&&A.jsx(zg,{...s})]}),A.jsx(Fg,{children:o})]})]})});Wr.classes=ds;Wr.displayName="@mantine/core/Modal";Wr.Root=Gg;Wr.Overlay=$g;Wr.Content=jg;Wr.Body=Fg;Wr.Header=Ug;Wr.Title=Hg;Wr.CloseButton=zg;Wr.Stack=Xj;var Yj={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const SJ={},CJ=(t,{variant:e,color:r,childrenOffset:n,autoContrast:i})=>{const a=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:e||"light",autoContrast:i});return{root:{"--nl-bg":r||e?a.background:void 0,"--nl-hover":r||e?a.hover:void 0,"--nl-color":r||e?a.color:void 0},children:{"--nl-offset":br(n)}}},Vo=sn((t,e)=>{const r=be("NavLink",SJ,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,opened:u,defaultOpened:c,onChange:h,children:d,onClick:f,active:p,disabled:g,leftSection:m,rightSection:v,label:y,description:b,disableRightSectionRotation:x,noWrap:w,childrenOffset:E,onKeyDown:_,autoContrast:T,mod:C,...P}=r,M=Xe({name:"NavLink",props:r,classes:Yj,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:CJ}),[R,I]=ni({value:u,defaultValue:c,finalValue:!1,onChange:h}),S=!!d,B=L=>{f==null||f(L),S&&(L.preventDefault(),I(!R))};return A.jsxs(A.Fragment,{children:[A.jsxs(zi,{...M("root"),component:"a",ref:e,onClick:B,onKeyDown:L=>{_==null||_(L),L.nativeEvent.code==="Space"&&S&&(L.preventDefault(),I(!R))},unstyled:o,mod:[{disabled:g,active:p,expanded:R},C],...P,children:[m&&A.jsx(xe,{component:"span",...M("section"),mod:{position:"left"},children:m}),A.jsxs(xe,{...M("body"),mod:{"no-wrap":w},children:[A.jsx(xe,{component:"span",...M("label"),children:y}),A.jsx(xe,{component:"span",mod:{active:p},...M("description"),children:b})]}),(S||v)&&A.jsx(xe,{...M("section"),component:"span",mod:{rotate:R&&!x,position:"right"},children:S?v||A.jsx(fj,{...M("chevron")}):v})]}),A.jsx(d6,{in:R,...M("collapse"),children:A.jsx("div",{...M("children"),children:d})})]})});Vo.classes=Yj;Vo.displayName="@mantine/core/NavLink";function Kj(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Md;(function(t){t.event="event",t.props="prop"})(Md||(Md={}));function Ms(){}function TJ(t){var e,r=void 0;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return e&&n.length===e.length&&n.every(function(a,s){return a===e[s]})||(e=n,r=t.apply(void 0,n)),r}}function Dd(t){return!!(t||"").match(/\d/)}function Gu(t){return t==null}function AJ(t){return typeof t=="number"&&isNaN(t)}function Zj(t){return Gu(t)||AJ(t)||typeof t=="number"&&!isFinite(t)}function Qj(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function RJ(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function PJ(t,e,r){var n=RJ(r),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(n,"$1"+e)}function IJ(t){var e=D.useRef(t);e.current=t;var r=D.useRef(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return e.current.apply(e,n)});return r.current}function V2(t,e){e===void 0&&(e=!0);var r=t[0]==="-",n=r&&e;t=t.replace("-","");var i=t.split("."),a=i[0],s=i[1]||"";return{beforeDecimal:a,afterDecimal:s,hasNegation:r,addNegation:n}}function kJ(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var r=t.split("."),n=r[0].replace(/^0+/,"")||"0",i=r[1]||"";return(e?"-":"")+n+(i?"."+i:"")}function Jj(t,e,r){for(var n="",i=r?"0":"",a=0;a<=e-1;a++)n+=t[a]||i;return n}function Tk(t,e){return Array(e+1).join(t)}function eU(t){var e=t+"",r=e[0]==="-"?"-":"";r&&(e=e.substring(1));var n=e.split(/[eE]/g),i=n[0],a=n[1];if(a=Number(a),!a)return r+i;i=i.replace(".","");var s=1+a,o=i.length;return s<0?i="0."+Tk("0",Math.abs(s))+i:s>=o?i=i+Tk("0",s-o):i=(i.substring(0,s)||"0")+"."+i.substring(s),r+i}function Ak(t,e,r){if(["","-"].indexOf(t)!==-1)return t;var n=(t.indexOf(".")!==-1||r)&&e,i=V2(t),a=i.beforeDecimal,s=i.afterDecimal,o=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=e?"0."+s:l.toFixed(e),c=u.split("."),h=a;a&&Number(c[0])&&(h=a.split("").reverse().reduce(function(g,m,v){return g.length>v?(Number(g[0])+Number(m)).toString()+g.substring(1,g.length):m+g},c[0]));var d=Jj(c[1]||"",e,r),f=o?"-":"",p=n?".":"";return""+f+h+p+d}function Wo(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var r=t.createTextRange();return r.move("character",e),r.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var tU=TJ(function(t,e){for(var r=0,n=0,i=t.length,a=e.length;t[r]===e[r]&&r<i;)r++;for(;t[i-1-n]===e[a-1-n]&&a-n>r&&i-n>r;)n++;return{from:{start:r,end:i-n},to:{start:r,end:a-n}}}),MJ=function(t,e){var r=Math.min(t.selectionStart,e);return{from:{start:r,end:t.selectionEnd},to:{start:r,end:e}}};function DJ(t,e,r){return Math.min(Math.max(t,e),r)}function U0(t){return Math.max(t.selectionStart,t.selectionEnd)}function OJ(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function NJ(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function LJ(t){var e=t.currentValue,r=t.formattedValue,n=t.currentValueIndex,i=t.formattedValueIndex;return e[n]===r[i]}function BJ(t,e,r,n,i,a,s){s===void 0&&(s=LJ);var o=i.findIndex(function(x){return x}),l=t.slice(0,o);!e&&!r.startsWith(l)&&(e=l,r=l+r,n=n+l.length);for(var u=r.length,c=t.length,h={},d=new Array(u),f=0;f<u;f++){d[f]=-1;for(var p=0,g=c;p<g;p++){var m=s({currentValue:r,lastValue:e,formattedValue:t,currentValueIndex:f,formattedValueIndex:p});if(m&&h[p]!==!0){d[f]=p,h[p]=!0;break}}}for(var v=n;v<u&&(d[v]===-1||!a(r[v]));)v++;var y=v===u||d[v]===-1?c:d[v];for(v=n-1;v>0&&d[v]===-1;)v--;var b=v===-1||d[v]===-1?0:d[v]+1;return b>y?y:n-b<y-n?b:y}function Rk(t,e,r,n){var i=t.length;if(e=DJ(e,0,i),n==="left"){for(;e>=0&&!r[e];)e--;e===-1&&(e=r.indexOf(!0))}else{for(;e<=i&&!r[e];)e++;e>i&&(e=r.lastIndexOf(!0))}return e===-1&&(e=i),e}function FJ(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),r=0,n=e.length;r<n;r++)e[r]=!!(Dd(t[r])||Dd(t[r-1]));return e}function rU(t,e,r,n,i,a){a===void 0&&(a=Ms);var s=IJ(function(p,g){var m,v;return Zj(p)?(v="",m=""):typeof p=="number"||g?(v=typeof p=="number"?eU(p):p,m=n(v)):(v=i(p,void 0),m=n(v)),{formattedValue:m,numAsString:v}}),o=D.useState(function(){return s(Gu(t)?e:t,r)}),l=o[0],u=o[1],c=function(p,g){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),a(p,g)},h=t,d=r;Gu(t)&&(h=l.numAsString,d=!0);var f=s(h,d);return D.useMemo(function(){u(f)},[f.formattedValue]),[l,c]}function zJ(t){return t.replace(/[^0-9]/g,"")}function jJ(t){return t}function UJ(t){var e=t.type;e===void 0&&(e="text");var r=t.displayType;r===void 0&&(r="input");var n=t.customInput,i=t.renderText,a=t.getInputRef,s=t.format;s===void 0&&(s=jJ);var o=t.removeFormatting;o===void 0&&(o=zJ);var l=t.defaultValue,u=t.valueIsNumericString,c=t.onValueChange,h=t.isAllowed,d=t.onChange;d===void 0&&(d=Ms);var f=t.onKeyDown;f===void 0&&(f=Ms);var p=t.onMouseUp;p===void 0&&(p=Ms);var g=t.onFocus;g===void 0&&(g=Ms);var m=t.onBlur;m===void 0&&(m=Ms);var v=t.value,y=t.getCaretBoundary;y===void 0&&(y=FJ);var b=t.isValidInputCharacter;b===void 0&&(b=Dd);var x=t.isCharacterSame,w=Kj(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),E=rU(v,l,!!u,s,o,c),_=E[0],T=_.formattedValue,C=_.numAsString,P=E[1],M=D.useRef(),R=D.useRef({formattedValue:T,numAsString:C}),I=function(U,G){R.current={formattedValue:U.formattedValue,numAsString:U.value},P(U,G)},S=D.useState(!1),B=S[0],L=S[1],N=D.useRef(null),F=D.useRef({setCaretTimeout:null,focusTimeout:null});D.useEffect(function(){return L(!0),function(){clearTimeout(F.current.setCaretTimeout),clearTimeout(F.current.focusTimeout)}},[]);var z=s,$=function(U,G){var q=parseFloat(G);return{formattedValue:U,value:G,floatValue:isNaN(q)?void 0:q}},O=function(U,G,q){U.selectionStart===0&&U.selectionEnd===U.value.length||(Wo(U,G),F.current.setCaretTimeout=setTimeout(function(){U.value===q&&U.selectionStart!==G&&Wo(U,G)},0))},j=function(U,G,q){return Rk(U,G,y(U),q)},J=function(U,G,q){var oe=y(G),re=BJ(G,T,U,q,oe,b,x);return re=Rk(G,re,oe),re},H=function(U){var G=U.formattedValue;G===void 0&&(G="");var q=U.input,oe=U.source,re=U.event,Z=U.numAsString,ee;if(q){var ue=U.inputValue||q.value,fe=U0(q);q.value=G,ee=J(ue,G,fe),ee!==void 0&&O(q,ee,G)}G!==T&&I($(G,Z),{event:re,source:oe})};D.useEffect(function(){var U=R.current,G=U.formattedValue,q=U.numAsString;(T!==G||C!==q)&&I($(T,C),{event:void 0,source:Md.props})},[T,C]);var V=N.current?U0(N.current):void 0,X=typeof window<"u"?D.useLayoutEffect:D.useEffect;X(function(){var U=N.current;if(T!==R.current.formattedValue&&U){var G=J(R.current.formattedValue,T,V);U.value=T,O(U,G,T)}},[T]);var te=function(U,G,q){var oe=G.target,re=M.current?MJ(M.current,oe.selectionEnd):tU(T,U),Z=Object.assign(Object.assign({},re),{lastValue:T}),ee=o(U,Z),ue=z(ee);if(ee=o(ue,void 0),h&&!h($(ue,ee))){var fe=G.target,ce=U0(fe),W=J(U,T,ce);return fe.value=T,O(fe,W,T),!1}return H({formattedValue:ue,numAsString:ee,inputValue:U,event:G,source:q,input:G.target}),!0},Q=function(U,G){G===void 0&&(G=0);var q=U.selectionStart,oe=U.selectionEnd;M.current={selectionStart:q,selectionEnd:oe+G}},Y=function(U){var G=U.target,q=G.value,oe=te(q,U,Md.event);oe&&d(U),M.current=void 0},ae=function(U){var G=U.target,q=U.key,oe=G.selectionStart,re=G.selectionEnd,Z=G.value;Z===void 0&&(Z="");var ee;q==="ArrowLeft"||q==="Backspace"?ee=Math.max(oe-1,0):q==="ArrowRight"?ee=Math.min(oe+1,Z.length):q==="Delete"&&(ee=oe);var ue=0;q==="Delete"&&oe===re&&(ue=1);var fe=q==="ArrowLeft"||q==="ArrowRight";if(ee===void 0||oe!==re&&!fe){f(U),Q(G,ue);return}var ce=ee;if(fe){var W=q==="ArrowLeft"?"left":"right";ce=j(Z,ee,W),ce!==ee&&U.preventDefault()}else q==="Delete"&&!b(Z[ee])?ce=j(Z,ee,"right"):q==="Backspace"&&!b(Z[ee])&&(ce=j(Z,ee,"left"));ce!==ee&&O(G,ce,Z),f(U),Q(G,ue)},se=function(U){var G=U.target,q=function(){var oe=G.selectionStart,re=G.selectionEnd,Z=G.value;if(Z===void 0&&(Z=""),oe===re){var ee=j(Z,oe);ee!==oe&&O(G,ee,Z)}};q(),requestAnimationFrame(function(){q()}),p(U),Q(G)},ve=function(U){U.persist&&U.persist();var G=U.target,q=U.currentTarget;N.current=G,F.current.focusTimeout=setTimeout(function(){var oe=G.selectionStart,re=G.selectionEnd,Z=G.value;Z===void 0&&(Z="");var ee=j(Z,oe);ee!==oe&&!(oe===0&&re===Z.length)&&O(G,ee,Z),g(Object.assign(Object.assign({},U),{currentTarget:q}))},0)},ge=function(U){N.current=null,clearTimeout(F.current.focusTimeout),clearTimeout(F.current.setCaretTimeout),m(U)},k=B&&OJ()?"numeric":void 0,K=Object.assign({inputMode:k},w,{type:e,value:T,onChange:Y,onKeyDown:ae,onMouseUp:se,onFocus:ve,onBlur:ge});if(r==="text")return i?Ri.createElement(Ri.Fragment,null,i(T,w)||null):Ri.createElement("span",Object.assign({},w,{ref:a}),T);if(n){var ne=n;return Ri.createElement(ne,Object.assign({},K,{ref:a}))}return Ri.createElement("input",Object.assign({},K,{ref:a}))}function Pk(t,e){var r=e.decimalScale,n=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var a=e.suffix;a===void 0&&(a="");var s=e.allowNegative,o=e.thousandsGroupStyle;if(o===void 0&&(o="thousand"),t===""||t==="-")return t;var l=Vg(e),u=l.thousandSeparator,c=l.decimalSeparator,h=r!==0&&t.indexOf(".")!==-1||r&&n,d=V2(t,s),f=d.beforeDecimal,p=d.afterDecimal,g=d.addNegation;return r!==void 0&&(p=Jj(p,r,!!n)),u&&(f=PJ(f,u,o)),i&&(f=i+f),a&&(p=p+a),g&&(f="-"+f),t=f+(h&&c||"")+p,t}function Vg(t){var e=t.decimalSeparator;e===void 0&&(e=".");var r=t.thousandSeparator,n=t.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[e,"."]),{decimalSeparator:e,thousandSeparator:r,allowedDecimalSeparators:n}}function $J(t,e){t===void 0&&(t="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),i=r.test(t),a=n.test(t);return t=t.replace(/-/g,""),i&&!a&&e&&(t="-"+t),t}function GJ(t,e){return new RegExp("(^-)|[0-9]|"+Qj(t),"g")}function HJ(t,e,r){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function VJ(t,e,r){var n;e===void 0&&(e=NJ(t));var i=r.allowNegative,a=r.prefix;a===void 0&&(a="");var s=r.suffix;s===void 0&&(s="");var o=r.decimalScale,l=e.from,u=e.to,c=u.start,h=u.end,d=Vg(r),f=d.allowedDecimalSeparators,p=d.decimalSeparator,g=t[h]===p;if(Dd(t)&&(t===a||t===s)&&e.lastValue==="")return t;if(h-c===1&&f.indexOf(t[c])!==-1){var m=o===0?"":p;t=t.substring(0,c)+m+t.substring(c+1,t.length)}var v=function(N,F,z){var $=!1,O=!1;a.startsWith("-")?$=!1:N.startsWith("--")?($=!1,O=!0):s.startsWith("-")&&N.length===s.length?$=!1:N[0]==="-"&&($=!0);var j=$?1:0;return O&&(j=2),j&&(N=N.substring(j),F-=j,z-=j),{value:N,start:F,end:z,hasNegation:$}},y=v(t,c,h),b=y.hasNegation;n=y,t=n.value,c=n.start,h=n.end;var x=v(e.lastValue,l.start,l.end),w=x.start,E=x.end,_=x.value,T=t.substring(c,h);t.length&&_.length&&(w>_.length-s.length||E<a.length)&&!(T&&s.startsWith(T))&&(t=_);var C=0;t.startsWith(a)?C+=a.length:c<a.length&&(C=c),t=t.substring(C),h-=C;var P=t.length,M=t.length-s.length;t.endsWith(s)?P=M:(h>M||h>t.length-s.length)&&(P=h),t=t.substring(0,P),t=$J(b?"-"+t:t,i),t=(t.match(GJ(p))||[]).join("");var R=t.indexOf(p);t=t.replace(new RegExp(Qj(p),"g"),function(N,F){return F===R?".":""});var I=V2(t,i),S=I.beforeDecimal,B=I.afterDecimal,L=I.addNegation;return u.end-u.start<l.end-l.start&&S===""&&g&&!parseFloat(B)&&(t=L?"-":""),t}function WJ(t,e){var r=e.prefix;r===void 0&&(r="");var n=e.suffix;n===void 0&&(n="");var i=Array.from({length:t.length+1}).map(function(){return!0}),a=t[0]==="-";i.fill(!1,0,r.length+(a?1:0));var s=t.length;return i.fill(!1,s-n.length+1,s+1),i}function qJ(t){var e=Vg(t),r=e.thousandSeparator,n=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var a=t.allowNegative;if(a===void 0&&(a=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},t),{allowNegative:a})}function XJ(t){t=qJ(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,r=t.allowNegative,n=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=Ms);var a=t.onBlur;a===void 0&&(a=Ms);var s=t.thousandSeparator,o=t.decimalScale,l=t.fixedDecimalScale,u=t.prefix;u===void 0&&(u="");var c=t.defaultValue,h=t.value,d=t.valueIsNumericString,f=t.onValueChange,p=Kj(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),g=Vg(t),m=g.decimalSeparator,v=g.allowedDecimalSeparators,y=function(L){return Pk(L,t)},b=function(L,N){return VJ(L,N,t)},x=Gu(h)?c:h,w=d??HJ(x,u,e);Gu(h)?Gu(c)||(w=w||typeof c=="number"):w=w||typeof h=="number";var E=function(L){return Zj(L)?L:(typeof L=="number"&&(L=eU(L)),w&&typeof o=="number"?Ak(L,o,!!l):L)},_=rU(E(h),E(c),!!w,y,b,f),T=_[0],C=T.numAsString,P=T.formattedValue,M=_[1],R=function(L){var N=L.target,F=L.key,z=N.selectionStart,$=N.selectionEnd,O=N.value;if(O===void 0&&(O=""),(F==="Backspace"||F==="Delete")&&$<u.length){L.preventDefault();return}if(z!==$){i(L);return}F==="Backspace"&&O[0]==="-"&&z===u.length+1&&r&&Wo(N,1),o&&l&&(F==="Backspace"&&O[z-1]===m?(Wo(N,z-1),L.preventDefault()):F==="Delete"&&O[z]===m&&L.preventDefault()),v!=null&&v.includes(F)&&O[z]===m&&Wo(N,z+1);var j=s===!0?",":s;F==="Backspace"&&O[z-1]===j&&Wo(N,z-1),F==="Delete"&&O[z]===j&&Wo(N,z+1),i(L)},I=function(L){var N=C;if(N.match(/\d/g)||(N=""),n||(N=kJ(N)),l&&o&&(N=Ak(N,o,l)),N!==C){var F=Pk(N,t);M({formattedValue:F,value:N,floatValue:parseFloat(N)},{event:L,source:Md.event})}a(L)},S=function(L){return L===m?!0:Dd(L)},B=function(L){var N=L.currentValue,F=L.lastValue,z=L.formattedValue,$=L.currentValueIndex,O=L.formattedValueIndex,j=N[$],J=z[O],H=tU(F,N),V=H.to,X=function(te){return b(te).indexOf(".")+u.length};return h===0&&l&&o&&N[V.start]===m&&X(N)<$&&X(z)>O?!1:$>=V.start&&$<V.end&&v&&v.includes(j)&&J===m?!0:j===J};return Object.assign(Object.assign({},p),{value:P,valueIsNumericString:!1,isValidInputCharacter:S,isCharacterSame:B,onValueChange:M,format:y,removeFormatting:b,getCaretBoundary:function(L){return WJ(L,t)},onKeyDown:R,onBlur:I})}function YJ(t){var e=XJ(t);return Ri.createElement(UJ,Object.assign({},e))}function Ik({direction:t,style:e,...r}){return A.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:A.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var bC={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const KJ=/^(0\.0*|-0(\.0*)?)$/,ZJ=/^-?0\d+(\.\d+)?\.?$/;function QJ(t){return t.toString().replace(".","").length}function JJ(t,e){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)&&QJ(e)<14&&e!==""}function kk(t,e,r){if(t===void 0)return!0;const n=e===void 0||t>=e,i=r===void 0||t<=r;return n&&i}const eee={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},tee=(t,{size:e})=>({controls:{"--ni-chevron-size":vt(e,"ni-chevron-size")}}),Rn=Re((t,e)=>{const r=be("NumberInput",eee,t),{className:n,classNames:i,styles:a,unstyled:s,vars:o,onChange:l,onValueChange:u,value:c,defaultValue:h,max:d,min:f,step:p,hideControls:g,rightSection:m,isAllowed:v,clampBehavior:y,onBlur:b,allowDecimal:x,decimalScale:w,onKeyDown:E,onKeyDownCapture:_,handlersRef:T,startValue:C,disabled:P,rightSectionPointerEvents:M,allowNegative:R,readOnly:I,size:S,rightSectionWidth:B,stepHoldInterval:L,stepHoldDelay:N,allowLeadingZeros:F,withKeyboardEvents:z,trimLeadingZeroesOnBlur:$,...O}=r,j=Xe({name:"NumberInput",classes:bC,props:r,classNames:i,styles:a,unstyled:s,vars:o,varsResolver:tee}),{resolvedClassNames:J,resolvedStyles:H}=WA({classNames:i,styles:a,props:r}),[V,X]=ni({value:c,defaultValue:h,onChange:l}),te=N!==void 0&&L!==void 0,Q=D.useRef(null),Y=D.useRef(null),ae=D.useRef(0),se=(ee,ue)=>{ue.source==="event"&&X(JJ(ee.floatValue,ee.value)&&!KJ.test(ee.value)&&!(F&&ZJ.test(ee.value))?ee.floatValue:ee.value),u==null||u(ee,ue)},ve=ee=>{const ue=String(ee).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ue?Math.max(0,(ue[1]?ue[1].length:0)-(ue[2]?+ue[2]:0)):0},ge=ee=>{Q.current&&typeof ee<"u"&&Q.current.setSelectionRange(ee,ee)},k=D.useRef();k.current=()=>{let ee;const ue=ve(V),fe=ve(p),ce=Math.max(ue,fe),W=10**ce;if(typeof V!="number"||Number.isNaN(V))ee=ha(C,f,d);else if(d!==void 0){const de=(Math.round(V*W)+Math.round(p*W))/W;ee=de<=d?de:d}else ee=(Math.round(V*W)+Math.round(p*W))/W;const ie=ee.toFixed(ce);X(parseFloat(ie)),u==null||u({floatValue:parseFloat(ie),formattedValue:ie,value:ie},{source:"increment"}),setTimeout(()=>{var de;return ge((de=Q.current)==null?void 0:de.value.length)},0)};const K=D.useRef();K.current=()=>{let ee;const ue=f!==void 0?f:R?Number.MIN_SAFE_INTEGER:0,fe=ve(V),ce=ve(p),W=Math.max(fe,ce),ie=10**W;if(typeof V!="number"||Number.isNaN(V))ee=ha(C,ue,d);else{const le=(Math.round(V*ie)-Math.round(p*ie))/ie;ee=ue!==void 0&&le<ue?ue:le}const de=ee.toFixed(W);X(parseFloat(de)),u==null||u({floatValue:parseFloat(de),formattedValue:de,value:de},{source:"decrement"}),setTimeout(()=>{var le;return ge((le=Q.current)==null?void 0:le.value.length)},0)};const ne=ee=>{E==null||E(ee),!(I||!z)&&(ee.key==="ArrowUp"&&(ee.preventDefault(),k.current()),ee.key==="ArrowDown"&&(ee.preventDefault(),K.current()))},U=ee=>{if(_==null||_(ee),ee.key==="Backspace"){const ue=Q.current;ue.selectionStart===0&&ue.selectionStart===ue.selectionEnd&&(ee.preventDefault(),window.setTimeout(()=>ge(0),0))}};of(T,{increment:k.current,decrement:K.current});const G=ee=>{ee?k.current():K.current(),ae.current+=1},q=ee=>{if(G(ee),te){const ue=typeof L=="number"?L:L(ae.current);Y.current=window.setTimeout(()=>q(ee),ue)}},oe=(ee,ue)=>{var fe;ee.preventDefault(),(fe=Q.current)==null||fe.focus(),G(ue),te&&(Y.current=window.setTimeout(()=>q(ue),N))},re=()=>{Y.current&&window.clearTimeout(Y.current),Y.current=null,ae.current=0},Z=A.jsxs("div",{...j("controls"),children:[A.jsx(zi,{...j("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof V=="number"&&d!==void 0&&V>=d,mod:{direction:"up"},onMouseDown:ee=>ee.preventDefault(),onPointerDown:ee=>{oe(ee,!0)},onPointerUp:re,onPointerLeave:re,children:A.jsx(Ik,{direction:"up"})}),A.jsx(zi,{...j("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof V=="number"&&f!==void 0&&V<=f,mod:{direction:"down"},onMouseDown:ee=>ee.preventDefault(),onPointerDown:ee=>{oe(ee,!1)},onPointerUp:re,onPointerLeave:re,children:A.jsx(Ik,{direction:"down"})})]});return A.jsx(oi,{component:YJ,allowNegative:R,className:Wt(bC.root,n),size:S,...O,readOnly:I,disabled:P,value:V,getInputRef:_r(e,Q),onValueChange:se,rightSection:g||I?m:m||Z,classNames:J,styles:H,unstyled:s,__staticSelector:"NumberInput",decimalScale:x?w:0,onKeyDown:ne,onKeyDownCapture:U,rightSectionPointerEvents:M??(P?"none":void 0),rightSectionWidth:B??`var(--ni-right-section-width-${S||"sm"})`,allowLeadingZeros:F,onBlur:ee=>{if(b==null||b(ee),y==="blur"&&typeof V=="number"&&ha(V,f,d)!==V&&X(ha(V,f,d)),$&&typeof V=="string"&&ve(V)<15){const ue=V.replace(/^0+/,""),fe=parseFloat(ue);X(Number.isNaN(fe)||fe>Number.MAX_SAFE_INTEGER?ue:ha(fe,f,d))}},isAllowed:ee=>y==="strict"?v?v(ee)&&kk(ee.floatValue,f,d):kk(ee.floatValue,f,d):v?v(ee):!0})});Rn.classes={...oi.classes,...bC};Rn.displayName="@mantine/core/NumberInput";const ree={duration:100,transition:"fade"};function nee(t,e){return{...ree,...e,...t}}function iee({offset:t,position:e,defaultOpened:r}){const[n,i]=D.useState(r),a=D.useRef(),{x:s,y:o,elements:l,refs:u,update:c,placement:h}=h2({placement:e,middleware:[o2({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=h.includes("right")?t:e.includes("left")?t*-1:0,f=h.includes("bottom")?t:e.includes("top")?t*-1:0,p=D.useCallback(({clientX:g,clientY:m})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:g,y:m,left:g+d,top:m+f,right:g,bottom:m}}})},[l.reference]);return D.useEffect(()=>{if(u.floating.current){const g=a.current;g.addEventListener("mousemove",p);const m=Va(u.floating.current);return m.forEach(v=>{v.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),m.forEach(v=>{v.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:i,boundaryRef:a,floating:u.setFloating}}var Wg={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const aee={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:zn("popover")},see=(t,{radius:e,color:r})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:lr(e),"--tooltip-bg":r?kr(r,t):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),W2=Re((t,e)=>{const r=be("TooltipFloating",aee,t),{children:n,refProp:i,withinPortal:a,style:s,className:o,classNames:l,styles:u,unstyled:c,radius:h,color:d,label:f,offset:p,position:g,multiline:m,zIndex:v,disabled:y,defaultOpened:b,variant:x,vars:w,portalProps:E,..._}=r,T=Vr(),C=Xe({name:"TooltipFloating",props:r,classes:Wg,className:o,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:w,varsResolver:see}),{handleMouseMove:P,x:M,y:R,opened:I,boundaryRef:S,floating:B,setOpened:L}=iee({offset:p,position:g,defaultOpened:b});if(!ls(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const N=_r(S,gg(n),e),F=$=>{var O,j;(j=(O=n.props).onMouseEnter)==null||j.call(O,$),P($),L(!0)},z=$=>{var O,j;(j=(O=n.props).onMouseLeave)==null||j.call(O,$),L(!1)};return A.jsxs(A.Fragment,{children:[A.jsx(kc,{...E,withinPortal:a,children:A.jsx(xe,{..._,...C("tooltip",{style:{...XA(s,T),zIndex:v,display:!y&&I?"block":"none",top:(R&&Math.round(R))??"",left:(M&&Math.round(M))??""}}),variant:x,ref:B,mod:{multiline:m},children:f})}),D.cloneElement(n,{...n.props,[i]:N,onMouseEnter:F,onMouseLeave:z})]})});W2.classes=Wg;W2.displayName="@mantine/core/TooltipFloating";const nU=D.createContext(!1),oee=nU.Provider,lee=()=>D.useContext(nU),uee={openDelay:0,closeDelay:0};function q2(t){const{openDelay:e,closeDelay:r,children:n}=be("TooltipGroup",uee,t);return A.jsx(oee,{value:!0,children:A.jsx(lK,{delay:{open:e,close:r},children:n})})}q2.displayName="@mantine/core/TooltipGroup";q2.extend=t=>t;function cee(t){var E,_,T;const[e,r]=D.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,a=lee(),s=us(),{delay:o,currentId:l,setCurrentId:u}=H6(),c=D.useCallback(C=>{r(C),C&&u(s)},[u,s]),{x:h,y:d,context:f,refs:p,update:g,placement:m,middlewareData:{arrow:{x:v,y}={}}}=h2({strategy:t.strategy,placement:t.position,open:i,onOpenChange:c,middleware:[z6(t.offset),o2({padding:8}),pC(),j6({element:t.arrowRef,padding:t.arrowOffset}),...t.inline?[vC()]:[]]});uK(f,{id:s});const{getReferenceProps:b,getFloatingProps:x}=mK([oK(f,{enabled:(E=t.events)==null?void 0:E.hover,delay:a?o:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((_=t.events)!=null&&_.touch)}),vK(f,{enabled:(T=t.events)==null?void 0:T.focus,visibleOnly:!0}),yK(f,{role:"tooltip"}),fK(f,{enabled:typeof t.opened>"u"})]);Z6({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:p,update:g}}),io(()=>{var C;(C=t.onPositionChange)==null||C.call(t,m)},[m]);const w=i&&l&&l!==s;return{x:h,y:d,arrowX:v,arrowY:y,reference:p.setReference,floating:p.setFloating,getFloatingProps:x,getReferenceProps:b,isGroupPhase:w,opened:i,placement:m}}const Mk={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:zn("popover"),positionDependencies:[]},hee=(t,{radius:e,color:r})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:lr(e),"--tooltip-bg":r?kr(r,t):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Ut=Re((t,e)=>{const r=be("Tooltip",Mk,t),{children:n,position:i,refProp:a,label:s,openDelay:o,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:h,withinPortal:d,radius:f,color:p,classNames:g,styles:m,unstyled:v,style:y,className:b,withArrow:x,arrowSize:w,arrowOffset:E,arrowRadius:_,arrowPosition:T,offset:C,transitionProps:P,multiline:M,events:R,zIndex:I,disabled:S,positionDependencies:B,onClick:L,onMouseEnter:N,onMouseLeave:F,inline:z,variant:$,keepMounted:O,vars:j,portalProps:J,mod:H,floatingStrategy:V,...X}=be("Tooltip",Mk,r),{dir:te}=Ac(),Q=D.useRef(null),Y=cee({position:V6(te,i),closeDelay:l,openDelay:o,onPositionChange:u,opened:c,defaultOpened:h,events:R,arrowRef:Q,arrowOffset:E,offset:typeof C=="number"?C+(x?w/2:0):C,positionDependencies:[...B,n],inline:z,strategy:V}),ae=Xe({name:"Tooltip",props:r,classes:Wg,className:b,style:y,classNames:g,styles:m,unstyled:v,rootSelector:"tooltip",vars:j,varsResolver:hee});if(!ls(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const se=_r(Y.reference,gg(n),e),ve=nee(P,{duration:100,transition:"fade"});return A.jsxs(A.Fragment,{children:[A.jsx(kc,{...J,withinPortal:d,children:A.jsx(cs,{...ve,keepMounted:O,mounted:!S&&!!Y.opened,duration:Y.isGroupPhase?10:ve.duration,children:ge=>A.jsxs(xe,{...X,"data-fixed":V==="fixed"||void 0,variant:$,mod:[{multiline:M},H],...Y.getFloatingProps({ref:Y.floating,className:ae("tooltip").className,style:{...ae("tooltip").style,...ge,zIndex:I,top:Y.y??0,left:Y.x??0}}),children:[s,A.jsx(d2,{ref:Q,arrowX:Y.arrowX,arrowY:Y.arrowY,visible:x,position:Y.placement,arrowSize:w,arrowOffset:E,arrowRadius:_,arrowPosition:T,...ae("arrow")})]})})}),D.cloneElement(n,Y.getReferenceProps({onClick:L,onMouseEnter:N,onMouseLeave:F,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,[a]:se,className:Wt(b,n.props.className),...n.props}))]})});Ut.classes=Wg;Ut.displayName="@mantine/core/Tooltip";Ut.Floating=W2;Ut.Group=q2;const dee={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},dc=Re((t,e)=>{const r=be("Select",dee,t),{classNames:n,styles:i,unstyled:a,vars:s,dropdownOpened:o,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:h,onBlur:d,onClick:f,onChange:p,data:g,value:m,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:b,comboboxProps:x,readOnly:w,disabled:E,filter:_,limit:T,withScrollArea:C,maxDropdownHeight:P,size:M,searchable:R,rightSection:I,checkIconPosition:S,withCheckIcon:B,nothingFoundMessage:L,name:N,form:F,searchValue:z,defaultSearchValue:$,onSearchChange:O,allowDeselect:j,error:J,rightSectionPointerEvents:H,id:V,clearable:X,clearButtonProps:te,hiddenInputProps:Q,renderOption:Y,onClear:ae,autoComplete:se,scrollAreaProps:ve,...ge}=r,k=D.useMemo(()=>MZ(g),[g]),K=D.useMemo(()=>gj(k),[k]),ne=us(V),[U,G,q]=ni({value:m,defaultValue:v,finalValue:null,onChange:p}),oe=typeof U=="string"?K[U]:void 0,re=_q(oe),[Z,ee]=ni({value:z,defaultValue:$,finalValue:oe?oe.label:"",onChange:O}),ue=Ej({opened:o,defaultOpened:l,onDropdownOpen:()=>{c==null||c(),ue.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),ue.resetSelectedOption()}}),{resolvedClassNames:fe,resolvedStyles:ce}=WA({props:r,styles:i,classNames:n});D.useEffect(()=>{y&&ue.selectFirstOption()},[y,U]),D.useEffect(()=>{m===null&&ee(""),typeof m=="string"&&oe&&((re==null?void 0:re.value)!==oe.value||(re==null?void 0:re.label)!==oe.label)&&ee(oe.label)},[m,oe]);const W=X&&!!U&&!E&&!w&&A.jsx(dt.ClearButton,{size:M,...te,onClear:()=>{G(null,null),ee(""),ae==null||ae()}});return A.jsxs(A.Fragment,{children:[A.jsxs(dt,{store:ue,__staticSelector:"Select",classNames:fe,styles:ce,unstyled:a,readOnly:w,onOptionSubmit:ie=>{b==null||b(ie);const de=j&&K[ie].value===U?null:K[ie],le=de?de.value:null;le!==U&&G(le,de),!q&&ee(typeof le=="string"&&(de==null?void 0:de.label)||""),ue.closeDropdown()},size:M,...x,children:[A.jsx(dt.Target,{targetType:R?"input":"button",autoComplete:se,children:A.jsx(oi,{id:ne,ref:e,rightSection:I||W||A.jsx(dt.Chevron,{size:M,error:J,unstyled:a}),rightSectionPointerEvents:H||(W?"all":"none"),...ge,size:M,__staticSelector:"Select",disabled:E,readOnly:w||!R,value:Z,onChange:ie=>{ee(ie.currentTarget.value),ue.openDropdown(),y&&ue.selectFirstOption()},onFocus:ie=>{R&&ue.openDropdown(),h==null||h(ie)},onBlur:ie=>{var de;R&&ue.closeDropdown(),ee(U!=null&&((de=K[U])==null?void 0:de.label)||""),d==null||d(ie)},onClick:ie=>{R?ue.openDropdown():ue.toggleDropdown(),f==null||f(ie)},classNames:fe,styles:ce,unstyled:a,pointer:!R,error:J})}),A.jsx(hQ,{data:k,hidden:w||E,filter:_,search:Z,limit:T,hiddenWhenEmpty:!L,withScrollArea:C,maxDropdownHeight:P,filterOptions:R&&(oe==null?void 0:oe.label)!==Z,value:U,checkIconPosition:S,withCheckIcon:B,nothingFoundMessage:L,unstyled:a,labelId:ge.label?`${ne}-label`:void 0,"aria-label":ge.label?void 0:ge["aria-label"],renderOption:Y,scrollAreaProps:ve})]}),A.jsx(dt.HiddenInput,{value:U,name:N,form:F,disabled:E,...Q})]})});dc.classes={...oi.classes,...dt.classes};dc.displayName="@mantine/core/Select";function fee({spacing:t,verticalSpacing:e,cols:r,selector:n}){var c;const i=Vr(),a=e===void 0?t:e,s=kl({"--sg-spacing-x":br(ki(t)),"--sg-spacing-y":br(ki(a)),"--sg-cols":(c=ki(r))==null?void 0:c.toString()}),o=gt(i.breakpoints).reduce((h,d)=>(h[d]||(h[d]={}),typeof t=="object"&&t[d]!==void 0&&(h[d]["--sg-spacing-x"]=br(t[d])),typeof a=="object"&&a[d]!==void 0&&(h[d]["--sg-spacing-y"]=br(a[d])),typeof r=="object"&&r[d]!==void 0&&(h[d]["--sg-cols"]=r[d]),h),{}),u=Td(gt(o),i.breakpoints).filter(h=>gt(o[h.value]).length>0).map(h=>({query:`(min-width: ${i.breakpoints[h.value]})`,styles:o[h.value]}));return A.jsx(Tc,{styles:s,media:u,selector:n})}function $0(t){return typeof t=="object"&&t!==null?gt(t):[]}function pee(t){return t.sort((e,r)=>Cd(e)-Cd(r))}function vee({spacing:t,verticalSpacing:e,cols:r}){const n=Array.from(new Set([...$0(t),...$0(e),...$0(r)]));return pee(n)}function mee({spacing:t,verticalSpacing:e,cols:r,selector:n}){var u;const i=e===void 0?t:e,a=kl({"--sg-spacing-x":br(ki(t)),"--sg-spacing-y":br(ki(i)),"--sg-cols":(u=ki(r))==null?void 0:u.toString()}),s=vee({spacing:t,verticalSpacing:e,cols:r}),o=s.reduce((c,h)=>(c[h]||(c[h]={}),typeof t=="object"&&t[h]!==void 0&&(c[h]["--sg-spacing-x"]=br(t[h])),typeof i=="object"&&i[h]!==void 0&&(c[h]["--sg-spacing-y"]=br(i[h])),typeof r=="object"&&r[h]!==void 0&&(c[h]["--sg-cols"]=r[h]),c),{}),l=s.map(c=>({query:`simple-grid (min-width: ${c})`,styles:o[c]}));return A.jsx(Tc,{styles:a,container:l,selector:n})}var iU={container:"m_925c2d2c",root:"m_2415a157"};const gee={cols:1,spacing:"md",type:"media"},X2=Re((t,e)=>{const r=be("SimpleGrid",gee,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,cols:u,verticalSpacing:c,spacing:h,type:d,...f}=r,p=Xe({name:"SimpleGrid",classes:iU,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l}),g=xg();return d==="container"?A.jsxs(A.Fragment,{children:[A.jsx(mee,{...r,selector:`.${g}`}),A.jsx("div",{...p("container"),children:A.jsx(xe,{ref:e,...p("root",{className:g}),...f})})]}):A.jsxs(A.Fragment,{children:[A.jsx(fee,{...r,selector:`.${g}`}),A.jsx(xe,{ref:e,...p("root",{className:g}),...f})]})});X2.classes=iU;X2.displayName="@mantine/core/SimpleGrid";const[yee,qg]=Sn("SliderProvider was not found in tree"),aU=D.forwardRef(({size:t,disabled:e,variant:r,color:n,thumbSize:i,radius:a,...s},o)=>{const{getStyles:l}=qg();return A.jsx(xe,{tabIndex:-1,variant:r,size:t,ref:o,...l("root"),...s})});aU.displayName="@mantine/core/SliderRoot";const sU=D.forwardRef(({max:t,min:e,value:r,position:n,label:i,dragging:a,onMouseDown:s,onKeyDownCapture:o,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:h,onBlur:d,showLabelOnHover:f,isHovered:p,children:g=null,disabled:m},v)=>{const{getStyles:y}=qg(),[b,x]=D.useState(!1),w=u||a||b||f&&p;return A.jsxs(xe,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":r,ref:v,__vars:{"--slider-thumb-offset":`${n}%`},...y("thumb",{focusable:!0}),mod:{dragging:a,disabled:m},onFocus:()=>{x(!0),typeof h=="function"&&h()},onBlur:()=>{x(!1),typeof d=="function"&&d()},onTouchStart:s,onMouseDown:s,onKeyDownCapture:o,onClick:E=>E.stopPropagation(),children:[g,A.jsx(cs,{mounted:i!=null&&!!w,transition:"fade",duration:0,...l,children:E=>A.jsx("div",{...y("label",{style:E}),children:i})})]})});sU.displayName="@mantine/core/SliderThumb";function oU({value:t,min:e,max:r}){const n=(t-e)/(r-e)*100;return Math.min(Math.max(n,0),100)}function bee({mark:t,offset:e,value:r,inverted:n=!1}){return n?typeof e=="number"&&t.value<=e||t.value>=r:typeof e=="number"?t.value>=e&&t.value<=r:t.value<=r}function lU({marks:t,min:e,max:r,disabled:n,value:i,offset:a,inverted:s}){const{getStyles:o}=qg();if(!t)return null;const l=t.map((u,c)=>D.createElement(xe,{...o("markWrapper"),__vars:{"--mark-offset":`${oU({value:u.value,min:e,max:r})}%`},key:c},A.jsx(xe,{...o("mark"),mod:{filled:bee({mark:u,value:i,offset:a,inverted:s}),disabled:n}}),u.label&&A.jsx("div",{...o("markLabel"),children:u.label})));return A.jsx("div",{children:l})}lU.displayName="@mantine/core/SliderMarks";function uU({filled:t,children:e,offset:r,disabled:n,marksOffset:i,inverted:a,containerProps:s,...o}){const{getStyles:l}=qg();return A.jsx(xe,{...l("trackContainer"),mod:{disabled:n},...s,children:A.jsxs(xe,{...l("track"),mod:{inverted:a,disabled:n},children:[A.jsx(xe,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...l("bar")}),e,A.jsx(lU,{...o,offset:i,disabled:n,inverted:a})]})})}uU.displayName="@mantine/core/SliderTrack";function xee({value:t,containerWidth:e,min:r,max:n,step:i,precision:a}){const o=(e?Math.min(Math.max(t,0),e)/e:t)*(n-r),l=(o!==0?Math.round(o/i)*i:0)+r,u=Math.max(l,r);return a!==void 0?Number(u.toFixed(a)):u}function hp(t,e){return parseFloat(t.toFixed(e))}function wee(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}var cU={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const _ee={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},Eee=(t,{size:e,color:r,thumbSize:n,radius:i})=>({root:{"--slider-size":vt(e,"slider-size"),"--slider-color":r?kr(r,t):void 0,"--slider-radius":i===void 0?void 0:lr(i),"--slider-thumb-size":n!==void 0?me(n):"calc(var(--slider-size) * 2)"}}),Y2=Re((t,e)=>{const r=be("Slider",_ee,t),{classNames:n,styles:i,value:a,onChange:s,onChangeEnd:o,size:l,min:u,max:c,step:h,precision:d,defaultValue:f,name:p,marks:g,label:m,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:b,showLabelOnHover:x,thumbChildren:w,disabled:E,unstyled:_,scale:T,inverted:C,className:P,style:M,vars:R,hiddenInputProps:I,restrictToMarks:S,...B}=r,L=Xe({name:"Slider",props:r,classes:cU,classNames:n,className:P,styles:i,style:M,vars:R,varsResolver:Eee,unstyled:_}),{dir:N}=Ac(),[F,z]=D.useState(!1),[$,O]=ni({value:typeof a=="number"?ha(a,u,c):a,defaultValue:typeof f=="number"?ha(f,u,c):f,finalValue:ha(0,u,c),onChange:s}),j=D.useRef($),J=D.useRef(),H=D.useRef(),V=oU({value:$,min:u,max:c}),X=T($),te=typeof m=="function"?m(X):m,Q=d??wee(h),Y=D.useCallback(({x:ge})=>{if(!E){const k=xee({value:ge,min:u,max:c,step:h,precision:Q});O(S&&(g!=null&&g.length)?BI(k,g.map(K=>K.value)):k),j.current=k}},[E,u,c,h,Q,O,g,S]),{ref:ae,active:se}=wq(Y,{onScrubEnd:()=>o==null?void 0:o(S&&(g!=null&&g.length)?BI(j.current,g.map(ge=>ge.value)):j.current)},N),ve=ge=>{var k,K,ne,U,G,q;if(!E)switch(ge.key){case"ArrowUp":{ge.preventDefault(),(k=H.current)==null||k.focus();const oe=hp(Math.min(Math.max($+h,u),c),Q);O(oe),o==null||o(oe);break}case"ArrowRight":{ge.preventDefault(),(K=H.current)==null||K.focus();const oe=hp(Math.min(Math.max(N==="rtl"?$-h:$+h,u),c),Q);O(oe),o==null||o(oe);break}case"ArrowDown":{ge.preventDefault(),(ne=H.current)==null||ne.focus();const oe=hp(Math.min(Math.max($-h,u),c),Q);O(oe),o==null||o(oe);break}case"ArrowLeft":{ge.preventDefault(),(U=H.current)==null||U.focus();const oe=hp(Math.min(Math.max(N==="rtl"?$+h:$-h,u),c),Q);O(oe),o==null||o(oe);break}case"Home":{ge.preventDefault(),(G=H.current)==null||G.focus(),O(u),o==null||o(u);break}case"End":{ge.preventDefault(),(q=H.current)==null||q.focus(),O(c),o==null||o(c);break}}};return A.jsx(yee,{value:{getStyles:L},children:A.jsxs(aU,{...B,ref:_r(e,J),onKeyDownCapture:ve,onMouseDownCapture:()=>{var ge;return(ge=J.current)==null?void 0:ge.focus()},size:l,disabled:E,children:[A.jsx(uU,{inverted:C,offset:0,filled:V,marks:g,min:u,max:c,value:X,disabled:E,containerProps:{ref:ae,onMouseEnter:x?()=>z(!0):void 0,onMouseLeave:x?()=>z(!1):void 0},children:A.jsx(sU,{max:c,min:u,value:X,position:V,dragging:se,label:te,ref:H,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:b,showLabelOnHover:x,isHovered:F,disabled:E,children:w})}),A.jsx("input",{type:"hidden",name:p,value:X,...I})]})})});Y2.classes=cU;Y2.displayName="@mantine/core/Slider";var hU={root:"m_6d731127"};const See={gap:"md",align:"stretch",justify:"flex-start"},Cee=(t,{gap:e,align:r,justify:n})=>({root:{"--stack-gap":br(e),"--stack-align":r,"--stack-justify":n}}),zr=Re((t,e)=>{const r=be("Stack",See,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,align:u,justify:c,gap:h,variant:d,...f}=r,p=Xe({name:"Stack",props:r,classes:hU,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:Cee});return A.jsx(xe,{ref:e,...p("root"),variant:d,...f})});zr.classes=hU;zr.displayName="@mantine/core/Stack";const dU=D.createContext(null),Tee=dU.Provider,Aee=()=>D.useContext(dU),Ree={},K2=Re((t,e)=>{const{value:r,defaultValue:n,onChange:i,size:a,wrapperProps:s,children:o,readOnly:l,...u}=be("SwitchGroup",Ree,t),[c,h]=ni({value:r,defaultValue:n,finalValue:[],onChange:i}),d=f=>{const p=f.currentTarget.value;!l&&h(c.includes(p)?c.filter(g=>g!==p):[...c,p])};return A.jsx(Tee,{value:{value:c,onChange:d,size:a},children:A.jsx(Dt.Wrapper,{size:a,ref:e,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:A.jsx(Pj,{role:"group",children:o})})})});K2.classes=Dt.Wrapper.classes;K2.displayName="@mantine/core/SwitchGroup";var fU={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Pee={labelPosition:"right"},Iee=(t,{radius:e,color:r,size:n})=>({root:{"--switch-radius":e===void 0?void 0:lr(e),"--switch-height":vt(n,"switch-height"),"--switch-width":vt(n,"switch-width"),"--switch-thumb-size":vt(n,"switch-thumb-size"),"--switch-label-font-size":vt(n,"switch-label-font-size"),"--switch-track-label-padding":vt(n,"switch-track-label-padding"),"--switch-color":r?kr(r,t):void 0}}),Wa=Re((t,e)=>{const r=be("Switch",Pee,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,color:u,label:c,offLabel:h,onLabel:d,id:f,size:p,radius:g,wrapperProps:m,thumbIcon:v,checked:y,defaultChecked:b,onChange:x,labelPosition:w,description:E,error:_,disabled:T,variant:C,rootRef:P,mod:M,...R}=r,I=Aee(),S=p||(I==null?void 0:I.size),B=Xe({name:"Switch",props:r,classes:fU,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:Iee}),{styleProps:L,rest:N}=uf(R),F=us(f),z=I?{checked:I.value.includes(N.value),onChange:I.onChange}:{},[$,O]=ni({value:z.checked??y,defaultValue:b,finalValue:!1});return A.jsxs(D2,{...B("root"),__staticSelector:"Switch",__stylesApiProps:r,id:F,size:S,labelPosition:w,label:c,description:E,error:_,disabled:T,bodyElement:"label",labelElement:"span",classNames:n,styles:s,unstyled:o,"data-checked":z.checked||void 0,variant:C,ref:P,mod:M,...L,...m,children:[A.jsx("input",{...N,disabled:T,checked:$,onChange:j=>{var J;I?(J=z.onChange)==null||J.call(z,j):x==null||x(j),O(j.currentTarget.checked)},id:F,ref:e,type:"checkbox",role:"switch",...B("input")}),A.jsxs(xe,{"aria-hidden":"true",mod:{error:_,"label-position":w,"without-labels":!d&&!h},...B("track"),children:[A.jsx(xe,{component:"span",mod:"reduce-motion",...B("thumb"),children:v}),A.jsx("span",{...B("trackLabel"),children:$?d:h})]})]})});Wa.classes={...fU,...Cj};Wa.displayName="@mantine/core/Switch";Wa.Group=K2;const[kee,Z2]=Sn("Tabs component was not found in the tree");var mf={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Mee={},Q2=Re((t,e)=>{const r=be("TabsList",Mee,t),{children:n,className:i,grow:a,justify:s,classNames:o,styles:l,style:u,mod:c,...h}=r,d=Z2();return A.jsx(xe,{...h,...d.getStyles("list",{className:i,style:u,classNames:o,styles:l,props:r,variant:d.variant}),ref:e,role:"tablist",variant:d.variant,mod:[{grow:a,orientation:d.orientation,placement:d.orientation==="vertical"&&d.placement,inverted:d.inverted},c],"aria-orientation":d.orientation,__vars:{"--tabs-justify":s},children:n})});Q2.classes=mf;Q2.displayName="@mantine/core/TabsList";const Dee={},J2=Re((t,e)=>{const r=be("TabsPanel",Dee,t),{children:n,className:i,value:a,classNames:s,styles:o,style:l,mod:u,keepMounted:c,...h}=r,d=Z2(),f=d.value===a,p=d.keepMounted||c||f?n:null;return A.jsx(xe,{...h,...d.getStyles("panel",{className:i,classNames:s,styles:o,style:[l,f?void 0:{display:"none"}],props:r}),ref:e,mod:[{orientation:d.orientation},u],role:"tabpanel",id:d.getPanelId(a),"aria-labelledby":d.getTabId(a),children:p})});J2.classes=mf;J2.displayName="@mantine/core/TabsPanel";const Oee={},eR=Re((t,e)=>{const r=be("TabsTab",Oee,t),{className:n,children:i,rightSection:a,leftSection:s,value:o,onClick:l,onKeyDown:u,disabled:c,color:h,style:d,classNames:f,styles:p,vars:g,mod:m,tabIndex:v,...y}=r,b=Vr(),{dir:x}=Ac(),w=Z2(),E=o===w.value,_=C=>{w.onChange(w.allowTabDeactivation&&o===w.value?null:o),l==null||l(C)},T={classNames:f,styles:p,props:r};return A.jsxs(zi,{...y,...w.getStyles("tab",{className:n,style:d,variant:w.variant,...T}),disabled:c,unstyled:w.unstyled,variant:w.variant,mod:[{active:E,disabled:c,orientation:w.orientation,inverted:w.inverted,placement:w.orientation==="vertical"&&w.placement},m],ref:e,role:"tab",id:w.getTabId(o),"aria-selected":E,tabIndex:v||E||w.value===null?0:-1,"aria-controls":w.getPanelId(o),onClick:_,__vars:{"--tabs-color":h?kr(h,b):void 0},onKeyDown:iq({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:w.activateTabWithKeyboard,loop:w.loop,orientation:w.orientation||"horizontal",dir:x,onKeyDown:u}),children:[s&&A.jsx("span",{...w.getStyles("tabSection",T),"data-position":"left",children:s}),i&&A.jsx("span",{...w.getStyles("tabLabel",T),children:i}),a&&A.jsx("span",{...w.getStyles("tabSection",T),"data-position":"right",children:a})]})});eR.classes=mf;eR.displayName="@mantine/core/TabsTab";const Dk="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Nee={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Lee=(t,{radius:e,color:r,autoContrast:n})=>({root:{"--tabs-radius":lr(e),"--tabs-color":kr(r,t),"--tabs-text-color":bg(n,t)?lf({color:r,theme:t,autoContrast:n}):void 0}}),Ti=Re((t,e)=>{const r=be("Tabs",Nee,t),{defaultValue:n,value:i,onChange:a,orientation:s,children:o,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:h,variant:d,color:f,radius:p,inverted:g,placement:m,keepMounted:v,classNames:y,styles:b,unstyled:x,className:w,style:E,vars:_,autoContrast:T,mod:C,...P}=r,M=us(u),[R,I]=ni({value:i,defaultValue:n,finalValue:null,onChange:a}),S=Xe({name:"Tabs",props:r,classes:mf,className:w,style:E,classNames:y,styles:b,unstyled:x,vars:_,varsResolver:Lee});return A.jsx(kee,{value:{placement:m,value:R,orientation:s,id:M,loop:l,activateTabWithKeyboard:c,getTabId:OI(`${M}-tab`,Dk),getPanelId:OI(`${M}-panel`,Dk),onChange:I,allowTabDeactivation:h,variant:d,color:f,radius:p,inverted:g,keepMounted:v,unstyled:x,getStyles:S},children:A.jsx(xe,{ref:e,id:M,variant:d,mod:[{orientation:s,inverted:s==="horizontal"&&g,placement:s==="vertical"&&m},C],...S("root"),...P,children:o})})});Ti.classes=mf;Ti.displayName="@mantine/core/Tabs";Ti.Tab=eR;Ti.Panel=J2;Ti.List=Q2;const Bee={},zt=Re((t,e)=>{const r=be("TextInput",Bee,t);return A.jsx(oi,{component:"input",ref:e,...r,__staticSelector:"TextInput"})});zt.classes=oi.classes;zt.displayName="@mantine/core/TextInput";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fee={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e,r,n)=>{const i=D.forwardRef(({color:a="currentColor",size:s=24,stroke:o=2,title:l,className:u,children:c,...h},d)=>D.createElement("svg",{ref:d,...Fee[t],width:s,height:s,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),strokeWidth:o,stroke:a,...h},[l&&D.createElement("title",{key:"svg-title"},l),...n.map(([f,p])=>D.createElement(f,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${r}`,i};/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pU=rt("outline","apple","IconApple",[["path",{d:"M4 11.319c0 3.102 .444 5.319 2.222 7.978c1.351 1.797 3.156 2.247 5.08 .988c.426 -.268 .97 -.268 1.397 0c1.923 1.26 3.728 .809 5.079 -.988c1.778 -2.66 2.222 -4.876 2.222 -7.977c0 -2.661 -1.99 -5.32 -4.444 -5.32c-1.267 0 -2.41 .693 -3.22 1.44a.5 .5 0 0 1 -.672 0c-.809 -.746 -1.953 -1.44 -3.22 -1.44c-2.454 0 -4.444 2.66 -4.444 5.319",key:"svg-0"}],["path",{d:"M7 12c0 -1.47 .454 -2.34 1.5 -3",key:"svg-1"}],["path",{d:"M12 7c0 -1.2 .867 -4 3 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zee=rt("outline","arrow-down","IconArrowDown",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jee=rt("outline","arrow-merge-alt-right","IconArrowMergeAltRight",[["path",{d:"M16 7l-4 -4l-4 4",key:"svg-0"}],["path",{d:"M6 21v.01",key:"svg-1"}],["path",{d:"M6 18.01v.01",key:"svg-2"}],["path",{d:"M7 15.02v.01",key:"svg-3"}],["path",{d:"M10 13.03v.01",key:"svg-4"}],["path",{d:"M12 3v5.394a6.737 6.737 0 0 0 3 5.606a6.737 6.737 0 0 1 3 5.606v1.394",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uee=rt("outline","arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $ee=rt("outline","braces","IconBraces",[["path",{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2",key:"svg-0"}],["path",{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gee=rt("outline","brackets","IconBrackets",[["path",{d:"M8 4h-3v16h3",key:"svg-0"}],["path",{d:"M16 4h3v16h-3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hee=rt("outline","camera","IconCamera",[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vee=rt("outline","clipboard-copy","IconClipboardCopy",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h3m9 -9v-5a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M13 17v-1a1 1 0 0 1 1 -1h1m3 0h1a1 1 0 0 1 1 1v1m0 3v1a1 1 0 0 1 -1 1h-1m-3 0h-1a1 1 0 0 1 -1 -1v-1",key:"svg-1"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wee=rt("outline","code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qee=rt("outline","code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xee=rt("outline","coffee","IconCoffee",[["path",{d:"M3 14c.83 .642 2.077 1.017 3.5 1c1.423 .017 2.67 -.358 3.5 -1c.83 -.642 2.077 -1.017 3.5 -1c1.423 -.017 2.67 .358 3.5 1",key:"svg-0"}],["path",{d:"M8 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2",key:"svg-1"}],["path",{d:"M12 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2",key:"svg-2"}],["path",{d:"M3 10h14v5a6 6 0 0 1 -6 6h-2a6 6 0 0 1 -6 -6v-5z",key:"svg-3"}],["path",{d:"M16.746 16.726a3 3 0 1 0 .252 -5.555",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yee=rt("outline","copy-plus","IconCopyPlus",[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-1"}],["path",{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-2"}],["path",{d:"M11 14h6",key:"svg-3"}],["path",{d:"M14 11v6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kee=rt("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zee=rt("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qee=rt("outline","exchange","IconExchange",[["path",{d:"M5 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M19 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 8v5a5 5 0 0 1 -5 5h-3l3 -3m0 6l-3 -3",key:"svg-2"}],["path",{d:"M5 16v-5a5 5 0 0 1 5 -5h3l-3 -3m0 6l3 -3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jee=rt("outline","ghost","IconGhost",[["path",{d:"M5 11a7 7 0 0 1 14 0v7a1.78 1.78 0 0 1 -3.1 1.4a1.65 1.65 0 0 0 -2.6 0a1.65 1.65 0 0 1 -2.6 0a1.65 1.65 0 0 0 -2.6 0a1.78 1.78 0 0 1 -3.1 -1.4v-7",key:"svg-0"}],["path",{d:"M10 10l.01 0",key:"svg-1"}],["path",{d:"M14 10l.01 0",key:"svg-2"}],["path",{d:"M10 14a3.5 3.5 0 0 0 4 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ete=rt("outline","image-in-picture","IconImageInPicture",[["path",{d:"M13 15c-2 0 -5 1 -5 5",key:"svg-0"}],["path",{d:"M4 11m0 2a2 2 0 0 1 2 -2h5a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-5a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M4 7v-2a1 1 0 0 1 1 -1h2",key:"svg-2"}],["path",{d:"M11 4h2",key:"svg-3"}],["path",{d:"M17 4h2a1 1 0 0 1 1 1v2",key:"svg-4"}],["path",{d:"M20 11v2",key:"svg-5"}],["path",{d:"M20 17v2a1 1 0 0 1 -1 1h-2",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tte=rt("outline","mail-plus","IconMailPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v5.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ok=rt("outline","map-plus","IconMapPlus",[["path",{d:"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v8.5",key:"svg-0"}],["path",{d:"M9 4v13",key:"svg-1"}],["path",{d:"M15 7v8",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rte=rt("outline","map","IconMap",[["path",{d:"M3 7l6 -3l6 3l6 -3v13l-6 3l-6 -3l-6 3v-13",key:"svg-0"}],["path",{d:"M9 4v13",key:"svg-1"}],["path",{d:"M15 7v13",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nte=rt("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ite=rt("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ate=rt("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vU=rt("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ste=rt("outline","resize","IconResize",[["path",{d:"M4 11v8a1 1 0 0 0 1 1h8m-9 -14v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1",key:"svg-0"}],["path",{d:"M4 12h7a1 1 0 0 1 1 1v7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ote=rt("outline","restore","IconRestore",[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lte=rt("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ute=rt("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cte=rt("outline","text-caption","IconTextCaption",[["path",{d:"M4 15h16",key:"svg-0"}],["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 20h12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hte=rt("outline","tool","IconTool",[["path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G0=rt("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var um=rt("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dte=rt("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}var Bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bs||(Bs={}));const Nk="popstate";function fte(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=Ol(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),xC("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:cm(a))}function n(i,a){tR(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return vte(e,r,n,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pte(){return Math.random().toString(36).substr(2,8)}function Lk(t,e){return{usr:t.state,key:t.key,idx:e}}function xC(t,e,r,n){return r===void 0&&(r=null),Od({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ol(e):e,{state:r,key:e&&e.key||n||pte()})}function cm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ol(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vte(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Bs.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Od({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){o=Bs.Pop;let m=c(),v=m==null?null:m-u;u=m,l&&l({action:o,location:g.location,delta:v})}function d(m,v){o=Bs.Push;let y=xC(g.location,m,v);r&&r(y,m),u=c()+1;let b=Lk(y,u),x=g.createHref(y);try{s.pushState(b,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}a&&l&&l({action:o,location:g.location,delta:1})}function f(m,v){o=Bs.Replace;let y=xC(g.location,m,v);r&&r(y,m),u=c();let b=Lk(y,u),x=g.createHref(y);s.replaceState(b,"",x),a&&l&&l({action:o,location:g.location,delta:0})}function p(m){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof m=="string"?m:cm(m);return y=y.replace(/ $/,"%20"),Yt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return o},get location(){return t(i,s)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Nk,h),l=m,()=>{i.removeEventListener(Nk,h),l=null}},createHref(m){return e(i,m)},createURL:p,encodeLocation(m){let v=p(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:f,go(m){return s.go(m)}};return g}var Bk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bk||(Bk={}));function mte(t,e,r){return r===void 0&&(r="/"),gte(t,e,r,!1)}function gte(t,e,r,n){let i=typeof e=="string"?Ol(e):e,a=rR(i.pathname||"/",r);if(a==null)return null;let s=mU(t);yte(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Pte(a);o=Ate(s[l],u,n)}return o}function mU(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Qs([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(Yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mU(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Cte(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of gU(a.path))i(a,s,l)}),e}function gU(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=gU(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function yte(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Tte(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const bte=/^:[\w-]+$/,xte=3,wte=2,_te=1,Ete=10,Ste=-2,Fk=t=>t==="*";function Cte(t,e){let r=t.split("/"),n=r.length;return r.some(Fk)&&(n+=Ste),e&&(n+=wte),r.filter(i=>!Fk(i)).reduce((i,a)=>i+(bte.test(a)?xte:a===""?_te:Ete),n)}function Tte(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Ate(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",h=zk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=zk({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Qs([a,h.pathname]),pathnameBase:Dte(Qs([a,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(a=Qs([a,h.pathnameBase]))}return s}function zk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Rte(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let g=o[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Rte(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Pte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ite(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ol(t):t;return{pathname:r?r.startsWith("/")?r:kte(r,e):e,search:Ote(n),hash:Nte(i)}}function kte(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function H0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mte(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yU(t,e){let r=Mte(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bU(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ol(t):(i=Od({},t),Yt(!i.pathname||!i.pathname.includes("?"),H0("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),H0("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),H0("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=Ite(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qs=t=>t.join("/").replace(/\/\/+/g,"/"),Dte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ote=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Lte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xU=["post","put","patch","delete"];new Set(xU);const Bte=["get",...xU];new Set(Bte);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}const nR=D.createContext(null),Fte=D.createContext(null),Nl=D.createContext(null),Xg=D.createContext(null),Ll=D.createContext({outlet:null,matches:[],isDataRoute:!1}),wU=D.createContext(null);function zte(t,e){let{relative:r}=e===void 0?{}:e;gf()||Yt(!1);let{basename:n,navigator:i}=D.useContext(Nl),{hash:a,pathname:s,search:o}=EU(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Qs([n,s])),i.createHref({pathname:l,search:o,hash:a})}function gf(){return D.useContext(Xg)!=null}function Yg(){return gf()||Yt(!1),D.useContext(Xg).location}function _U(t){D.useContext(Nl).static||D.useLayoutEffect(t)}function Kg(){let{isDataRoute:t}=D.useContext(Ll);return t?Qte():jte()}function jte(){gf()||Yt(!1);let t=D.useContext(nR),{basename:e,future:r,navigator:n}=D.useContext(Nl),{matches:i}=D.useContext(Ll),{pathname:a}=Yg(),s=JSON.stringify(yU(i,r.v7_relativeSplatPath)),o=D.useRef(!1);return _U(()=>{o.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=bU(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qs([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,a,t])}function EU(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(Nl),{matches:i}=D.useContext(Ll),{pathname:a}=Yg(),s=JSON.stringify(yU(i,n.v7_relativeSplatPath));return D.useMemo(()=>bU(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function Ute(t,e){return $te(t,e)}function $te(t,e,r,n){gf()||Yt(!1);let{navigator:i}=D.useContext(Nl),{matches:a}=D.useContext(Ll),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Yg(),c;if(e){var h;let m=typeof e=="string"?Ol(e):e;l==="/"||(h=m.pathname)!=null&&h.startsWith(l)||Yt(!1),c=m}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let p=mte(t,{pathname:f}),g=qte(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Qs([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Qs([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,r,n);return e&&g?D.createElement(Xg.Provider,{value:{location:Nd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bs.Pop}},g):g}function Gte(){let t=Zte(),e=Lte(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const Hte=D.createElement(Gte,null);class Vte extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(Ll.Provider,{value:this.props.routeContext},D.createElement(wU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wte(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(nR);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(Ll.Provider,{value:e},n)}function qte(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||Yt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=r,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let f,p=!1,g=null,m=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||Hte,l&&(u<0&&d===0?(p=!0,m=null):u===d&&(p=!0,m=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,d+1)),y=()=>{let b;return f?b=g:p?b=m:h.route.Component?b=D.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=c,D.createElement(Wte,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?D.createElement(Vte,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var SU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SU||{}),hm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hm||{});function Xte(t){let e=D.useContext(nR);return e||Yt(!1),e}function Yte(t){let e=D.useContext(Fte);return e||Yt(!1),e}function Kte(t){let e=D.useContext(Ll);return e||Yt(!1),e}function CU(t){let e=Kte(),r=e.matches[e.matches.length-1];return r.route.id||Yt(!1),r.route.id}function Zte(){var t;let e=D.useContext(wU),r=Yte(hm.UseRouteError),n=CU(hm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Qte(){let{router:t}=Xte(SU.UseNavigateStable),e=CU(hm.UseNavigateStable),r=D.useRef(!1);return _U(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nd({fromRouteId:e},a)))},[t,e])}function Mo(t){Yt(!1)}function Jte(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Bs.Pop,navigator:a,static:s=!1,future:o}=t;gf()&&Yt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:a,static:s,future:Nd({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Ol(n));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=n,g=D.useMemo(()=>{let m=rR(c,l);return m==null?null:{location:{pathname:m,search:h,hash:d,state:f,key:p},navigationType:i}},[l,c,h,d,f,p,i]);return g==null?null:D.createElement(Nl.Provider,{value:u},D.createElement(Xg.Provider,{children:r,value:g}))}function ere(t){let{children:e,location:r}=t;return Ute(wC(e),r)}new Promise(()=>{});function wC(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,wC(n.props.children,a));return}n.type!==Mo&&Yt(!1),!n.props.index||!n.props.children||Yt(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=wC(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _C(){return _C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_C.apply(this,arguments)}function tre(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rre(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nre(t,e){return t.button===0&&(!e||e==="_self")&&!rre(t)}const ire=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],are="6";try{window.__reactRouterVersion=are}catch{}const sre="startTransition",jk=L5[sre];function ore(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=fte({window:i,v5Compat:!0}));let s=a.current,[o,l]=D.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=D.useCallback(h=>{u&&jk?jk(()=>l(h)):l(h)},[l,u]);return D.useLayoutEffect(()=>s.listen(c),[s,c]),D.createElement(Jte,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const lre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ure=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ph=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=tre(e,ire),{basename:f}=D.useContext(Nl),p,g=!1;if(typeof u=="string"&&ure.test(u)&&(p=u,lre))try{let b=new URL(window.location.href),x=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=rR(x.pathname,f);x.origin===b.origin&&w!=null?u=w+x.search+x.hash:g=!0}catch{}let m=zte(u,{relative:i}),v=cre(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function y(b){n&&n(b),b.defaultPrevented||v(b)}return D.createElement("a",_C({},d,{href:p||m,onClick:g||a?n:y,ref:r,target:l}))});var Uk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uk||(Uk={}));var $k;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($k||($k={}));function cre(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Kg(),u=Yg(),c=EU(t,{relative:s});return D.useCallback(h=>{if(nre(h,r)){h.preventDefault();let d=n!==void 0?n:cm(u)===cm(c);l(t,{replace:d,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,r,t,a,s,o])}const TU=D.createContext(void 0);function iR(){return{metadata:{name:"New Project",author:"Anonymous"},maps:[],images:[],state:{selectedMap:null,selectedObject:null,exportAsJSON:!1,exportPretty:!1}}}function Gi(){const t=D.useContext(TU);if(t===void 0)throw new Error("MapOMaticContext not provided in useMapOMaticContext");return t}var AU=Symbol.for("immer-nothing"),Gk=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function Pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fc=Object.getPrototypeOf;function pc(t){return!!t&&!!t[Nn]}function ml(t){var e;return t?RU(t)||Array.isArray(t)||!!t[Gk]||!!((e=t.constructor)!=null&&e[Gk])||Qg(t)||Jg(t):!1}var hre=Object.prototype.constructor.toString();function RU(t){if(!t||typeof t!="object")return!1;const e=fc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hre}function dm(t,e){Zg(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Zg(t){const e=t[Nn];return e?e.type_:Array.isArray(t)?1:Qg(t)?2:Jg(t)?3:0}function EC(t,e){return Zg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function PU(t,e,r){const n=Zg(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function dre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qg(t){return t instanceof Map}function Jg(t){return t instanceof Set}function Do(t){return t.copy_||t.base_}function SC(t,e){if(Qg(t))return new Map(t);if(Jg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=RU(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Nn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(fc(t),n)}else{const n=fc(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function aR(t,e=!1){return ey(t)||pc(t)||!ml(t)||(Zg(t)>1&&(t.set=t.add=t.clear=t.delete=fre),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>aR(n,!0))),t}function fre(){Pi(2)}function ey(t){return Object.isFrozen(t)}var pre={};function gl(t){const e=pre[t];return e||Pi(0,t),e}var Ld;function IU(){return Ld}function vre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hk(t,e){e&&(gl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function CC(t){TC(t),t.drafts_.forEach(mre),t.drafts_=null}function TC(t){t===Ld&&(Ld=t.parent_)}function Vk(t){return Ld=vre(Ld,t)}function mre(t){const e=t[Nn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Wk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Nn].modified_&&(CC(e),Pi(4)),ml(t)&&(t=fm(e,t),e.parent_||pm(e,t)),e.patches_&&gl("Patches").generateReplacementPatches_(r[Nn].base_,t,e.patches_,e.inversePatches_)):t=fm(e,r,[]),CC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==AU?t:void 0}function fm(t,e,r){if(ey(e))return e;const n=e[Nn];if(!n)return dm(e,(i,a)=>qk(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return pm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),dm(a,(o,l)=>qk(t,n,i,o,l,r,s)),pm(t,i,!1),r&&t.patches_&&gl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function qk(t,e,r,n,i,a,s){if(pc(i)){const o=a&&e&&e.type_!==3&&!EC(e.assigned_,n)?a.concat(n):void 0,l=fm(t,i,o);if(PU(r,n,l),pc(l))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(ml(i)&&!ey(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fm(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&pm(t,i)}}function pm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&aR(e,r)}function gre(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:IU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=sR;r&&(i=[n],a=Bd);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var sR={get(t,e){if(e===Nn)return t;const r=Do(t);if(!EC(r,e))return yre(t,r,e);const n=r[e];return t.finalized_||!ml(n)?n:n===V0(t.base_,e)?(W0(t),t.copy_[e]=RC(n,t)):n},has(t,e){return e in Do(t)},ownKeys(t){return Reflect.ownKeys(Do(t))},set(t,e,r){const n=kU(Do(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=V0(Do(t),e),a=i==null?void 0:i[Nn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(dre(r,i)&&(r!==void 0||EC(t.base_,e)))return!0;W0(t),AC(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return V0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,W0(t),AC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Do(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Pi(11)},getPrototypeOf(t){return fc(t.base_)},setPrototypeOf(){Pi(12)}},Bd={};dm(sR,(t,e)=>{Bd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bd.deleteProperty=function(t,e){return Bd.set.call(this,t,e,void 0)};Bd.set=function(t,e,r){return sR.set.call(this,t[0],e,r,t[0])};function V0(t,e){const r=t[Nn];return(r?Do(r):t)[e]}function yre(t,e,r){var i;const n=kU(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function kU(t,e){if(!(e in t))return;let r=fc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=fc(r)}}function AC(t){t.modified_||(t.modified_=!0,t.parent_&&AC(t.parent_))}function W0(t){t.copy_||(t.copy_=SC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Pi(6),n!==void 0&&typeof n!="function"&&Pi(7);let i;if(ml(e)){const a=Vk(this),s=RC(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?CC(a):TC(a)}return Hk(a,n),Wk(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===AU&&(i=void 0),this.autoFreeze_&&aR(i,!0),n){const a=[],s=[];gl("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else Pi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ml(t)||Pi(8),pc(t)&&(t=xre(t));const e=Vk(this),r=RC(t,void 0);return r[Nn].isManual_=!0,TC(e),r}finishDraft(t,e){const r=t&&t[Nn];(!r||!r.isManual_)&&Pi(9);const{scope_:n}=r;return Hk(n,e),Wk(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=gl("Patches").applyPatches_;return pc(t)?n(t,e):this.produce(t,i=>n(i,e))}};function RC(t,e){const r=Qg(t)?gl("MapSet").proxyMap_(t,e):Jg(t)?gl("MapSet").proxySet_(t,e):gre(t,e);return(e?e.scope_:IU()).drafts_.push(r),r}function xre(t){return pc(t)||Pi(10,t),MU(t)}function MU(t){if(!ml(t)||ey(t))return t;const e=t[Nn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=SC(t,e.scope_.immer_.useStrictShallowCopy_)}else r=SC(t,!0);return dm(r,(n,i)=>{PU(r,n,MU(i))}),e&&(e.finalized_=!1),r}var Ln=new bre,Le=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseStrictShallowCopy.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);var yf=(t=>(t.Metadata="metadata",t.Object="object",t))(yf||{}),bt=(t=>(t.FLOR="#FLOR",t.WALL="#WALL",t.CHAR="#char",t.ITEM="#item",t.WATER="#WATER",t.DOOR="#DOOR",t.Scooby2_floor="#floor",t))(bt||{}),Pn=(t=>(t[t.None=1]="None",t[t.Auto=2]="Auto",t[t.Push=3]="Push",t[t.Pull=4]="Pull",t[t.MoveX=5]="MoveX",t[t.MoveY=6]="MoveY",t))(Pn||{});function wre(t){return t.split("/").at(-1)??""}function DU(){return{render:{outline:!1,alpha:1},random_id:crypto.randomUUID(),dataType:yf.Object,id:0,member:"",type:bt.FLOR,location:{x:0,y:0},width:0,WSHIFT:0,height:0,HSHIFT:0,data:{item:{name:"",type:bt.FLOR,visi:{visiObj:"",visiAct:"",inviObj:"",inviAct:""},COND:[]},move:{U:0,d:0,L:0,R:0,COND:Pn.None,TIMEA:0,TIMEB:0},message:[]}}}function OU(){return{filename:"",render:{showMap:!0,showMapGrid:!0,showMapBorder:!0,showCollision:!1,showMoveBoxes:!0,collisionAlpha:.5},file_text:"",data:{metadata:{dataType:yf.Metadata,roomid:"",roomStatus:0},objects:[]},random_id:crypto.randomUUID(),trashedObjects:[]}}function _re(){const{project:t,updateProject:e}=Gi(),r=t.maps.length,n=t.maps.filter(h=>h.render.showMapBorder===!0).length,i=t.maps.filter(h=>h.render.showMapGrid===!0).length,a=t.maps.filter(h=>h.render.showCollision===!0).length,s=t.maps.filter(h=>h.render.showMoveBoxes===!0).length;function o(h){e(Le(t,d=>{d.maps.forEach(f=>f.render.showMapGrid=h.target.checked)}))}function l(h){e(Le(t,d=>{d.maps.forEach(f=>f.render.showMapBorder=h.target.checked)}))}function u(h){e(Le(t,d=>{d.maps.forEach(f=>f.render.showCollision=h.target.checked)}))}function c(h){e(Le(t,d=>{d.maps.forEach(f=>f.render.showMoveBoxes=h.target.checked)}))}return A.jsx(A.Fragment,{children:A.jsxs(at,{children:[A.jsxs(zr,{gap:"xs",children:[A.jsx(ja,{onChange:o,checked:i===r,indeterminate:i>0&&i<r,label:"Show Grids"}),A.jsx(ja,{onChange:l,checked:n===r,indeterminate:n>0&&n<r,label:"Show Borders"}),A.jsx(ja,{onChange:u,checked:a===r,indeterminate:a>0&&a<r,label:"Show Collisions"})]}),A.jsx(zr,{gap:"xs",justify:"flex-start",children:A.jsx(ja,{onChange:c,checked:s===r,indeterminate:s>0&&s<r,label:"Show Move Bounds"})})]})})}const oR=D.createContext(null);oR.displayName="@mantine/modals/ModalsContext";function Ere(){const t=D.useContext(oR);if(!t)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return t}function Sre({id:t,cancelProps:e,confirmProps:r,labels:n={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:a=!0,groupProps:s,onCancel:o,onConfirm:l,children:u}){const{cancel:c,confirm:h}=n,d=Ere(),f=g=>{typeof(e==null?void 0:e.onClick)=="function"&&(e==null||e.onClick(g)),typeof o=="function"&&o(),a&&d.closeModal(t)},p=g=>{typeof(r==null?void 0:r.onClick)=="function"&&(r==null||r.onClick(g)),typeof l=="function"&&l(),i&&d.closeModal(t)};return A.jsxs(A.Fragment,{children:[u&&A.jsx(xe,{mb:"md",children:u}),A.jsxs(at,{mt:u?0:"md",justify:"flex-end",...s,children:[A.jsx(ei,{variant:"default",...e,onClick:f,children:(e==null?void 0:e.children)||c}),A.jsx(ei,{...r,onClick:p,children:(r==null?void 0:r.children)||h})]})]})}const[Cre,bf]=Sq("mantine-modals"),Tre=bf("openModal"),Are=bf("closeModal"),Rre=bf("closeAllModals"),Pre=bf("openConfirmModal"),Ire=t=>bf("openContextModal")(t),dv={open:Tre,close:Are,closeAll:Rre,openConfirmModal:Pre,openContextModal:Ire};function Xk(t,e){var r,n,i,a;e&&t.type==="confirm"&&((n=(r=t.props).onCancel)==null||n.call(r)),(a=(i=t.props).onClose)==null||a.call(i)}function kre(t,e){switch(e.type){case"OPEN":return{current:e.modal,modals:[...t.modals,e.modal]};case"CLOSE":{const r=t.modals.find(i=>i.id===e.modalId);if(!r)return t;Xk(r,e.canceled);const n=t.modals.filter(i=>i.id!==e.modalId);return{current:n[n.length-1]||t.current,modals:n}}case"CLOSE_ALL":return t.modals.length?(t.modals.concat().reverse().forEach(r=>{Xk(r,e.canceled)}),{current:t.current,modals:[]}):t;default:return t}}function Mre(t){if(!t)return{confirmProps:{},modalProps:{}};const{id:e,children:r,onCancel:n,onConfirm:i,closeOnConfirm:a,closeOnCancel:s,cancelProps:o,confirmProps:l,groupProps:u,labels:c,...h}=t;return{confirmProps:{id:e,children:r,onCancel:n,onConfirm:i,closeOnConfirm:a,closeOnCancel:s,cancelProps:o,confirmProps:l,groupProps:u,labels:c},modalProps:{id:e,...h}}}function Dre({children:t,modalProps:e,labels:r,modals:n}){const[i,a]=D.useReducer(kre,{modals:[],current:null}),s=D.useRef(i);s.current=i;const o=D.useCallback(m=>{a({type:"CLOSE_ALL",canceled:m})},[s,a]),l=D.useCallback(({modalId:m,...v})=>{const y=m||td();return a({type:"OPEN",modal:{id:y,type:"content",props:v}}),y},[a]),u=D.useCallback(({modalId:m,...v})=>{const y=m||td();return a({type:"OPEN",modal:{id:y,type:"confirm",props:v}}),y},[a]),c=D.useCallback((m,{modalId:v,...y})=>{const b=v||td();return a({type:"OPEN",modal:{id:b,type:"context",props:y,ctx:m}}),b},[a]),h=D.useCallback((m,v)=>{a({type:"CLOSE",modalId:m,canceled:v})},[s,a]);Cre({openModal:l,openConfirmModal:u,openContextModal:({modal:m,...v})=>c(m,v),closeModal:h,closeContextModal:h,closeAllModals:o});const d={modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:h,closeContextModal:h,closeAll:o},f=()=>{const m=s.current.current;switch(m==null?void 0:m.type){case"context":{const{innerProps:v,...y}=m.props,b=n[m.ctx];return{modalProps:y,content:A.jsx(b,{innerProps:v,context:d,id:m.id})}}case"confirm":{const{modalProps:v,confirmProps:y}=Mre(m.props);return{modalProps:v,content:A.jsx(Sre,{...y,id:m.id,labels:m.props.labels||r})}}case"content":{const{children:v,...y}=m.props;return{modalProps:y,content:v}}default:return{modalProps:{},content:null}}},{modalProps:p,content:g}=f();return A.jsxs(oR.Provider,{value:d,children:[A.jsx(Wr,{zIndex:zn("modal")+1,...e,...p,opened:i.modals.length>0,onClose:()=>{var m;return h((m=i.current)==null?void 0:m.id)},children:g}),t]})}var ye=(t=>(t.Object="object",t.Array="array",t.Identifier="identifier",t.Number="number",t.String="string",t))(ye||{}),Ht=(t=>(t[t.LeftBracket=0]="LeftBracket",t[t.RightBracket=1]="RightBracket",t[t.Identifier=2]="Identifier",t[t.String=3]="String",t[t.Number=4]="Number",t[t.Comma=5]="Comma",t[t.Colon=6]="Colon",t[t.WhiteSpace=7]="WhiteSpace",t))(Ht||{});function NU(t){const e={type:ye.Object,properties:[]};return e.properties.push({key:{type:ye.Identifier,value:"#roomid"},value:{type:ye.String,value:t.metadata.roomid}}),e.properties.push({key:{type:ye.Identifier,value:"#roomStatus"},value:{type:ye.Number,value:t.metadata.roomStatus}}),{type:ye.Array,children:[e,...t.objects.map(Ore)]}}function Ore(t){const e=[];return e.push({key:{type:ye.Identifier,value:"#member"},value:{type:ye.String,value:t.member}}),e.push({key:{type:ye.Identifier,value:"#type"},value:{type:ye.Identifier,value:t.type}}),e.push({key:{type:ye.Identifier,value:"#location"},value:Nre(t.location)}),e.push({key:{type:ye.Identifier,value:"#width"},value:{type:ye.Number,value:t.width}}),e.push({key:{type:ye.Identifier,value:"#WSHIFT"},value:{type:ye.Number,value:t.WSHIFT}}),e.push({key:{type:ye.Identifier,value:"#height"},value:{type:ye.Number,value:t.height}}),e.push({key:{type:ye.Identifier,value:"#HSHIFT"},value:{type:ye.Number,value:t.HSHIFT}}),e.push({key:{type:ye.Identifier,value:"#data"},value:Lre(t.data)}),{type:ye.Object,properties:e}}function Nre(t){const e=[];return e.push({type:ye.Number,value:t.x}),e.push({type:ye.Number,value:t.y}),{type:ye.Array,children:e}}function Lre(t){const e=[];return e.push({key:{type:ye.Identifier,value:"#item"},value:Bre(t.item)}),e.push({key:{type:ye.Identifier,value:"#move"},value:Fre(t.move)}),e.push({key:{type:ye.Identifier,value:"#message"},value:zre(t.message)}),{type:ye.Object,properties:e}}function Bre(t){const e=[];return e.push({key:{type:ye.Identifier,value:"#name"},value:{type:ye.String,value:t.name}}),e.push({key:{type:ye.Identifier,value:"#type"},value:{type:ye.Identifier,value:t.type}}),e.push({key:{type:ye.Identifier,value:"#visi"},value:jre(t.visi)}),e.push({key:{type:ye.Identifier,value:"#COND"},value:Ure(t.COND)}),{type:ye.Object,properties:e}}function Fre(t){const e=[];return e.push({key:{type:ye.Identifier,value:"#U"},value:{type:ye.Number,value:t.U}}),e.push({key:{type:ye.Identifier,value:"#d"},value:{type:ye.Number,value:t.d}}),e.push({key:{type:ye.Identifier,value:"#L"},value:{type:ye.Number,value:t.L}}),e.push({key:{type:ye.Identifier,value:"#R"},value:{type:ye.Number,value:t.R}}),e.push({key:{type:ye.Identifier,value:"#COND"},value:{type:ye.Number,value:t.COND}}),e.push({key:{type:ye.Identifier,value:"#TIMEA"},value:{type:ye.Number,value:t.TIMEA}}),e.push({key:{type:ye.Identifier,value:"#TIMEB"},value:{type:ye.Number,value:t.TIMEB}}),{type:ye.Object,properties:e}}function zre(t){const e=t.map(r=>{const n=[];return n.push({key:{type:ye.Identifier,value:"#text"},value:{type:ye.String,value:r.text}}),n.push({key:{type:ye.Identifier,value:"#plrObj"},value:{type:ye.String,value:r.plrObj}}),n.push({key:{type:ye.Identifier,value:"#plrAct"},value:{type:ye.String,value:r.plrAct}}),{type:ye.Object,properties:n}});return{type:ye.Array,children:e}}function jre(t){const e=[];return e.push({key:{type:ye.Identifier,value:"#visiObj"},value:{type:ye.String,value:t.visiObj}}),e.push({key:{type:ye.Identifier,value:"#visiAct"},value:{type:ye.String,value:t.visiAct}}),e.push({key:{type:ye.Identifier,value:"#inviObj"},value:{type:ye.String,value:t.inviObj}}),e.push({key:{type:ye.Identifier,value:"#inviAct"},value:{type:ye.String,value:t.inviAct}}),{type:ye.Object,properties:e}}function Ure(t){const e=t.filter(a=>a!==null),i=(a=>a.concat(Array(4).fill(null)).slice(0,4))(e).map(a=>{if(!a)return{type:ye.Identifier,value:"#none"};const s=[];return s.push({key:{type:ye.Identifier,value:"#hasObj"},value:{type:ye.String,value:a.hasObj}}),s.push({key:{type:ye.Identifier,value:"#hasAct"},value:{type:ye.String,value:a.hasAct}}),s.push({key:{type:ye.Identifier,value:"#giveObj"},value:{type:ye.String,value:a.giveObj}}),s.push({key:{type:ye.Identifier,value:"#giveAct"},value:{type:ye.String,value:a.giveAct}}),{type:ye.Object,properties:s}});return{type:ye.Array,children:i}}function vm(t,e=!1,r=!1,n=0){const i=e?"    ".repeat(n):"",a=e?`
`:"";switch(t.type){case ye.Object:return s(t,e,n);case ye.Array:return o(t,e,n);case ye.Identifier:case ye.String:case ye.Number:return l(t);default:return""}function s(u,c,h){const d=r?"{":"[",f=r?"}":"]",p=u.properties.map(g=>{let m=`${g.key.value}`;r&&(m=`"${m}"`),m=`${m}: `;const v=vm(g.value,c,r,h+1);return`${i}${m}${v}`}).join(`, ${a}`);return`${d}${a}${p}${a}${i}${f}`}function o(u,c,h){const d=u.children.map(f=>`${i}${vm(f,c,r,h+1)}`).join(`, ${a}`);return`[${a}${d}${a}${i}]`}function l(u){switch(u.type){case ye.Identifier:{let c=`${u.value}`;return r&&(c=`"${c}"`),c}case ye.String:return`"${u.value}"`;case ye.Number:return`${u.value}`;default:return""}}}function $re({map:t}){const[e,{open:r,close:n}]=Zs(),{project:i,updateState:a}=Gi(),[s,o]=D.useState(i.state.exportAsJSON),[l,u]=D.useState(i.state.exportPretty),c=NU(t.data),h=vm(c,l,s);function d(p){a(Le(i.state,g=>{g.exportPretty=p})),u(p)}function f(p){a(Le(i.state,g=>{g.exportAsJSON=p})),o(p)}return A.jsxs(A.Fragment,{children:[A.jsx(Ut,{label:"View Map Data",children:A.jsx(pt,{color:"indigo",onClick:r,children:s?A.jsx($ee,{}):A.jsx(Gee,{})})}),A.jsx(Wr,{opened:e,onClose:n,title:"View Map Data",children:A.jsxs(zr,{children:[A.jsxs(at,{children:[A.jsx(Wa,{label:"View as JSON",checked:s,onChange:p=>f(p.currentTarget.checked)}),A.jsx(Wa,{label:"Pretty Formatting",checked:l,onChange:p=>d(p.currentTarget.checked)})]}),A.jsx(Lg,{readOnly:!0,autosize:!0,minRows:5,maxRows:15,value:h})]})})]})}function Gre({map:t,obj:e,index:r}){const{project:n,updateMap:i,updateState:a}=Gi(),s=Kg();function o(){i(Le(t,v=>{v.data.objects.forEach(y=>{y.render.alpha=1,y.render.outline=!1})}))}function l(v,y){const b=v+(y?-1:1);i(Le(t,x=>{const w=x.data.objects??[],E=w[b];w[b]=w[v],w[v]=E}))}function u(v,y){const b=t.data.objects.find(x=>x.random_id===v);b&&i(Le(t,x=>{x.data.objects=x.data.objects.filter(w=>w.random_id!==v),x.trashedObjects.push({obj:b,deletedAtIndex:y})}))}function c(v){const y=Le(t,b=>{const x=b.data.objects??[],w=x.find(_=>_.random_id===v),E=x.filter(_=>_.random_id!==v);w&&(w.render.alpha=1,w.render.outline=!0),E.forEach(_=>{_.render.alpha=.5,_.render.outline=!1})});i(y)}function h(v,y){i(Le(t,b=>{const x=t.data.objects.find(w=>w.random_id===v);x&&b.data.objects.splice(y,0,{...x,random_id:crypto.randomUUID()})}))}function d(v){a({...n.state,selectedObject:v}),s(Zm.ObjectEditor)}const[f,p]=D.useState(0);function g(v){const y=t.data.objects.find(b=>b.random_id===v);y&&i(Le(t,b=>{const x=b.data.objects.filter(w=>w.random_id!==v)??[];x==null||x.splice(Number(f),0,y),b.data.objects&&(b.data.objects=x)}))}function m(v){switch(v.data.item.type){case bt.Scooby2_floor:case bt.FLOR:return"#ebfbee";case bt.WALL:return"#fff5f5";case bt.CHAR:return"#fff9db";case bt.DOOR:return"#f8f9fa";case bt.ITEM:return"#f3f0ff";case bt.WATER:return"#e7f5ff"}}return A.jsx(yr,{padding:"xs",withBorder:!0,onMouseEnter:()=>c(e.random_id),onMouseLeave:()=>o(),style:{backgroundColor:m(e)},children:A.jsxs(at,{children:[A.jsx("div",{children:r}),A.jsxs("div",{children:[A.jsx(pt,{color:"yellow",title:"Move Object Up",disabled:r===0,onClick:()=>l(r,!0),children:A.jsx(Uee,{})}),A.jsx(pt,{color:"yellow",title:"Move Object Down",disabled:r==(t.data.objects.length??0)-1,onClick:()=>l(r,!1),children:A.jsx(zee,{})}),A.jsxs(bn,{position:"bottom",withArrow:!0,shadow:"md",children:[A.jsx(bn.Target,{children:A.jsx(pt,{color:"yellow",title:"Move Object to Index",children:A.jsx(jee,{})})}),A.jsxs(bn.Dropdown,{children:[A.jsx(Rn,{label:"Move To Index",min:0,max:(t.data.objects.length??1)-1,onChange:p,clampBehavior:"strict"}),A.jsxs(ei,{onClick:()=>g(e.random_id),children:["Move to ",f]})]})]})]}),A.jsxs("div",{children:[A.jsx(pt,{color:"green",onClick:()=>d(e.random_id),children:A.jsx(ite,{})}),A.jsx(pt,{color:"grape",onClick:()=>h(e.random_id,r),children:A.jsx(Yee,{})})]}),A.jsx(LU,{obj:e},e.random_id),A.jsx(pt,{color:"red",onClick:()=>u(e.random_id,r),children:A.jsx(um,{})})]})},e.random_id)}function LU({obj:t}){const{project:e}=Gi(),r=t.data.message.length,n=t.data.item.COND.length,i=Object.values(t.data.item.visi).filter(l=>l!=="").length,a=t.data.item.name;function s(l){return l===0?"lightgray":"black"}function o(l){l.toLowerCase().endsWith(".x")&&(l=l.replace(".x",""));const u=e.images.find(c=>c.filename.toLowerCase()===l.toLowerCase());return u?URL.createObjectURL(u.data):""}return A.jsxs(at,{gap:5,children:[A.jsx("div",{children:A.jsx(Ng,{mah:32,maw:32,src:o(t.member),alt:t.member})}),A.jsxs(er,{shadow:"xl",disabled:!i,children:[A.jsx(er.Target,{children:A.jsx(Au,{size:16,inline:!0,disabled:!i,color:"blue",label:i,children:A.jsx(Jee,{color:s(i),title:"Invisibility"})})}),A.jsx(er.Dropdown,{children:Object.entries(t.data.item.visi).filter(([l,u])=>u).map(([l,u])=>A.jsxs("div",{children:[l,": ",A.jsx(Ci,{children:u})]},l))})]}),A.jsxs(er,{shadow:"xl",disabled:!n,children:[A.jsx(er.Target,{children:A.jsx(Au,{size:16,inline:!0,disabled:!n,color:"blue",label:n,children:A.jsx(Wee,{color:s(n),title:"Conditions"})})}),A.jsx(er.Dropdown,{children:t.data.item.COND.map(l=>{const u=Object.entries(l);return A.jsx(yr,{withBorder:!0,children:A.jsx("div",{children:u.map(([c,h])=>A.jsxs("div",{children:[c,": ",A.jsx(Ci,{children:h})]},c))})},t.random_id)})})]}),A.jsxs(er,{shadow:"xl",disabled:!r,children:[A.jsx(er.Target,{children:A.jsx(Au,{size:16,inline:!0,disabled:!r,color:"blue",label:r,children:A.jsx(nte,{color:s(r),title:"Messages"})})}),A.jsx(er.Dropdown,{children:A.jsx(zr,{gap:"xs",children:t.data.message.map(l=>A.jsxs("div",{children:[l.plrAct?A.jsxs(Ci,{children:["Act: ",l.plrAct]}):null,l.plrObj?A.jsxs(Ci,{children:["Obj: ",l.plrObj]}):null,A.jsx(bo,{size:"sm",children:l.text.length>50?l.text.slice(0,50)+"...":l.text})]},t.random_id))})})]}),A.jsxs(er,{shadow:"xl",disabled:!a,children:[A.jsx(er.Target,{children:A.jsx(Au,{size:16,inline:!0,disabled:!a,color:"blue",label:1,children:A.jsx(cte,{color:s(a.length),title:a||"Name"})})}),A.jsxs(er.Dropdown,{children:[A.jsx("div",{children:A.jsx(Ci,{children:t.data.item.type})}),A.jsx(Ci,{children:t.data.item.name})]})]})]},t.random_id)}function Hre(){var u;const{project:t,updateState:e,centerOnMap:r,updateProject:n}=Gi(),i=t.maps.find(c=>c.random_id===t.state.selectedMap);function a(){const c=OU();c.filename="0000",n(Le(t,h=>{h.maps.push(c)}))}function s(c){if(!c)return;const h=Le(c,d=>{d.filename+=" COPY",d.random_id=crypto.randomUUID(),d.data.objects.forEach(f=>f.random_id=crypto.randomUUID())});n(Le(t,d=>{d.state.selectedMap=h.random_id,d.maps.push(h)}))}const o=t.maps.map(c=>({label:c.filename,value:c.random_id})),l=(u=o.find(c=>c.value===(i==null?void 0:i.random_id)))==null?void 0:u.value;return A.jsxs(zr,{gap:"xs",children:[A.jsx(yr,{withBorder:!0,children:A.jsxs(at,{children:[A.jsxs(zr,{children:[A.jsx(Ut,{label:"Create New Map",children:A.jsx(pt,{color:"green",onClick:a,children:A.jsx(Ok,{})})}),A.jsx(Ut,{label:"Copy Map",children:A.jsx(pt,{disabled:!i,color:"grape",onClick:()=>s(i),children:A.jsx(Ok,{})})})]}),A.jsx(dc,{label:"Maps ("+t.maps.length+")",placeholder:"Pick a Map to edit",value:l,data:o,onChange:(c,h)=>(r(h.value),e({...t.state,selectedMap:h.value,selectedObject:null}))}),A.jsx(_re,{})]})}),i?A.jsx(Vre,{map:i}):null]})}function Vre({map:t}){const{project:e,updateMap:r,updateState:n,updateProject:i}=Gi();Kg();const[a,s]=D.useState(t.render.showMapGrid),[o,l]=D.useState(t.render.showMap),[u,c]=D.useState(t.render.showCollision),[h,d]=D.useState(t.render.collisionAlpha*100);D.useEffect(()=>{s(t.render.showMapGrid),l(t.render.showMap),c(t.render.showCollision),d(t.render.collisionAlpha*100)},[t]);function f(C){const P=C/100;r(Le(t,M=>{M.render.collisionAlpha=P})),d(C)}function p(C){l(C),r(Le(t,P=>{P.render.showMap=C}))}function g(C){s(C),r(Le(t,P=>{P.render.showMapGrid=C}))}function m(C){c(C),r(Le(t,P=>{P.render.showCollision=C}))}function v(){r(Le(t,C=>{const P=DU();P.member="tile.undefined.x",P.width=32,P.height=32,P.location.x=0,P.location.y=0,C.data.objects.push(P)}))}function y(){const C=()=>{const P=t.data.objects.filter(I=>I.data.item.type===bt.WATER)??[],M=t.data.objects.filter(I=>I.data.item.type===bt.FLOR)??[],R=t.data.objects.filter(I=>I.data.item.type!==bt.FLOR&&I.data.item.type!==bt.WATER)??[];r(Le(t,I=>{I.data&&(I.data.objects=[...P,...M,...R])}))};dv.openConfirmModal({title:"Auto-Fix Collision?",children:A.jsxs(bo,{children:["This tool attempts to fix collision issues automatically by moving all ",A.jsx(Ci,{children:"#FLOR"})," objects under ",A.jsx(Ci,{children:"#WALL"})," objects."]}),labels:{cancel:"Cancel",confirm:"Confirm"},onConfirm:C})}function b(C){dv.openConfirmModal({title:"Confirm Map Deletion",children:A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:["Are you sure you want to delete map ",A.jsx(Ci,{children:C.filename}),"?"]}),A.jsxs("div",{children:[C.data.objects.length.toString()??"0"," Objects will be deleted."]})]}),labels:{confirm:"Delete",cancel:"Cancel"},onConfirm:()=>{i(Le(e,P=>{P.state.selectedMap=null,P.maps=P.maps.filter(M=>M.random_id!==C.random_id)}))}})}function x(C){const P=Le(t,M=>{M.filename=C});i(Le(e,M=>{M.maps=M.maps.map(R=>R.random_id===P.random_id?P:R).sort((R,I)=>R.filename.localeCompare(I.filename))}),!1,!0)}function w(C){r(Le(t,P=>{P.data.metadata.roomid=C}),!1)}function E(C){r(Le(t,P=>{P.data.metadata.roomStatus=C}),!1)}function _(C){r(Le(t,P=>{C.deletedAtIndex>=P.data.objects.length?P.data.objects.push(C.obj):P.data.objects.splice(C.deletedAtIndex,0,C.obj),P.trashedObjects=P.trashedObjects.filter(M=>M.obj.random_id!==C.obj.random_id)}))}function T(){throw dv.openConfirmModal({labels:{cancel:"Cancel",confirm:"Confirm"},children:A.jsxs("div",{children:["You're about to permanently delete ",t.trashedObjects.length," objects. Are you sure?"]}),onConfirm:()=>{r(Le(t,C=>{C.trashedObjects=[]}))}}),new Error("Function not implemented.")}return A.jsx(A.Fragment,{children:A.jsxs(zr,{gap:"xs",children:[A.jsxs(yr,{children:[A.jsxs(at,{grow:!0,children:[A.jsx(Wa,{label:"Show Map",checked:o,onChange:C=>p(C.currentTarget.checked)}),A.jsx(Wa,{label:"Show Grid",checked:a,onChange:C=>g(C.currentTarget.checked)}),A.jsx(Wa,{label:"Show Collision",checked:u,onChange:C=>m(C.currentTarget.checked)}),A.jsx(Y2,{label:"Collision Opacity: "+h,disabled:!u,value:h,onChange:f})]}),A.jsxs(at,{children:[A.jsx(zt,{label:"Map Name",value:t.filename,onChange:C=>x(C.target.value)}),A.jsx(zt,{label:"Room ID",value:t.data.metadata.roomid,onChange:C=>w(C.target.value)}),A.jsx(Rn,{label:"Room Status",value:t.data.metadata.roomStatus,onChange:C=>E(Number(C))}),A.jsxs(at,{children:[A.jsx(Ut,{label:"Auto-Fix Collision",children:A.jsx(pt,{color:"orange",onClick:y,children:A.jsx(hte,{})})}),A.jsx($re,{map:t}),A.jsx(Ut,{label:"Delete Map",children:A.jsx(pt,{color:"red",onClick:()=>b(t),children:A.jsx(G0,{})})})]})]})]}),A.jsx(yr,{withBorder:!0,shadow:"xs",children:A.jsxs(Ti,{defaultValue:"objects",children:[A.jsxs(Ti.List,{children:[A.jsxs(Ti.Tab,{value:"objects",leftSection:A.jsx(pU,{}),children:["Objects (",t.data.objects.length,")"]}),A.jsx(Ut,{label:"Trashed items will NOT be saved in your project",children:A.jsxs(Ti.Tab,{value:"trash",leftSection:A.jsx(G0,{}),children:["Trash (",t.trashedObjects.length,")"]})})]}),A.jsx(Ti.Panel,{value:"objects",children:A.jsxs("div",{children:[A.jsx(Ut,{label:"Add New Object",children:A.jsx(pt,{color:"green",disabled:!t,onClick:v,children:A.jsx(vU,{})})}),t.data.objects.map((C,P)=>A.jsx(Gre,{map:t,obj:C,index:P},C.random_id))]})}),A.jsx(Ti.Panel,{value:"trash",children:A.jsxs(yr,{padding:"xs",withBorder:!0,children:[t.trashedObjects.length?A.jsx("div",{children:A.jsx(Ut,{label:"Empty Trash",children:A.jsx(pt,{color:"red",onClick:()=>T(),children:A.jsx(G0,{})})})}):A.jsx("div",{children:"No objects have been deleted."}),t.trashedObjects.map(C=>A.jsxs(at,{children:[A.jsx(LU,{obj:C.obj}),A.jsx(Ut,{label:"Restore Object",children:A.jsx(pt,{color:"green",onClick:()=>_(C),children:A.jsx(ote,{})})})]},C.obj.random_id))]})})]})})]})})}const BU=Object.entries(bt),Wre=BU.map(([t,e])=>e);function qre(){const{project:t}=Gi(),e=t.maps.flatMap(r=>{var n;return((n=r.data)==null?void 0:n.objects)??[]}).find(r=>r.random_id===t.state.selectedObject);return e?A.jsx(Xre,{selectedObject:e}):A.jsx("div",{children:A.jsx(bo,{children:"Edit an object in the Map Editor to use this page"})})}function Xre({selectedObject:t}){const{project:e,updateMap:r}=Gi(),n=t.data.item.COND,i=t.data.message;function a(m){const v=e.maps.find(y=>{var b;return(b=y.data)==null?void 0:b.objects.some(x=>x.random_id===m.random_id)});v&&r({...v,data:{...v.data,objects:v.data.objects.map(y=>y.random_id===m.random_id?m:y)}})}function s(m,v){a(Le(t,y=>{y.data.item.COND[v]=m}))}function o(m){a(Le(t,v=>{v.data.item.COND.splice(m,1)}))}function l(){a(Le(t,m=>{m.data.item.COND.push({giveAct:"",giveObj:"",hasAct:"",hasObj:""})}))}function u(m,v){a(Le(t,y=>{y.data.message[v]=m}))}function c(m){a(Le(t,v=>{v.data.message.splice(m,1)}))}function h(){a(Le(t,m=>{m.data.message.push({plrAct:"",plrObj:"",text:""})}))}const d={[Pn.None]:"None",[Pn.Auto]:"Auto",[Pn.Push]:"Push",[Pn.Pull]:"Pull (unimplemented)",[Pn.MoveX]:"MoveX (unimplemented)",[Pn.MoveY]:"MoveY (unimplemented)"},f=Object.entries(d).map(([m,v])=>({value:m,label:v,disabled:parseInt(m)>=Pn.Pull})),p=e.images.find(m=>m.filename===t.member);function g(){if(!p)return;const m=URL.createObjectURL(p.data),v=new Image;v.src=m,v.onload=()=>{a(Le(t,y=>{y.width=v.width,y.height=v.height}))}}return A.jsx(A.Fragment,{children:A.jsxs(zr,{gap:"xs",children:[A.jsx(yr,{padding:"lg",radius:"md",withBorder:!0,children:A.jsxs(zr,{gap:"xs",children:[A.jsxs(at,{children:[A.jsx(dc,{data:Wre,label:"Collision Type",placeholder:"Type",value:t.data.item.type,onChange:m=>{var y;const v=(y=BU.find(b=>b[1]===m))==null?void 0:y[1];console.log(v),v&&a(Le(t,b=>{b.data.item.type=v}))}}),A.jsx(zt,{label:"Member Texture",value:t.member,onChange:m=>{const v=m.target.value;a(Le(t,y=>{y.member=v}))}}),A.jsx(zt,{label:"Name",value:t.data.item.name,onChange:m=>{const v=m.target.value;a(Le(t,y=>{y.data.item.name=v}))}})]}),A.jsxs(at,{children:[A.jsx(Rn,{label:"X Offset (Tile)",placeholder:"X",value:t.location.x,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.location.x=v}))}}),A.jsx(Rn,{label:"Y Offset (Tile)",placeholder:"Y",value:t.location.y,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.location.y=v}))}})]}),A.jsxs(at,{children:[A.jsx(Rn,{label:"Width (Pixels)",value:t.width,step:32,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.width=v}))}}),A.jsx(Rn,{label:"Height (Pixels)",value:t.height,step:32,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.height=v}))}}),p?A.jsx(Ut,{label:"Resize to member texture dimensions",children:A.jsx(pt,{onClick:g,color:"gray",children:A.jsx(ste,{})})}):null]}),A.jsxs(at,{children:[A.jsx(zt,{label:"Width Shift (Pixels)",value:t.WSHIFT,onChange:m=>{const v=parseInt(m.target.value);isNaN(v)||a(Le(t,y=>{y.WSHIFT=v}))}}),A.jsx(zt,{label:"Height Shift (Pixels)",value:t.HSHIFT,onChange:m=>{const v=parseInt(m.target.value);isNaN(v)||a(Le(t,y=>{y.HSHIFT=v}))}})]})]})}),A.jsxs(yr,{padding:"lg",radius:"md",withBorder:!0,children:[A.jsxs(at,{children:[A.jsx(zt,{label:"Visible Object",value:t.data.item.visi.visiObj,onChange:m=>{a(Le(t,v=>{v.data.item.visi.visiObj=m.target.value}))}}),A.jsx(zt,{label:"Visible Act",value:t.data.item.visi.visiAct,onChange:m=>{a(Le(t,v=>{v.data.item.visi.visiAct=m.target.value}))}})]}),A.jsxs(at,{children:[A.jsx(zt,{label:"Invisible Object",value:t.data.item.visi.inviObj,onChange:m=>{a(Le(t,v=>{v.data.item.visi.inviObj=m.target.value}))}}),A.jsx(zt,{label:"Invisible Act",value:t.data.item.visi.inviAct,onChange:m=>{a(Le(t,v=>{v.data.item.visi.inviAct=m.target.value}))}})]})]}),A.jsxs(yr,{padding:"lg",radius:"md",withBorder:!0,children:[A.jsx(at,{children:A.jsx(Ut,{label:"Add New Condition",children:A.jsx(pt,{title:"Add new Condition",color:"green",onClick:l,children:A.jsx(qee,{})})})}),n.map((m,v)=>A.jsxs(yr,{withBorder:!0,children:[A.jsxs(at,{children:[A.jsx(zt,{label:"Has Object",value:m.hasObj,onChange:y=>{s({...m,hasObj:y.target.value},v)}}),A.jsx(zt,{label:"Has Act",value:m.hasAct,onChange:y=>{s({...m,hasAct:y.target.value},v)}})]}),A.jsxs(at,{children:[A.jsx(zt,{label:"Give Object",value:m.giveObj,onChange:y=>{s({...m,giveObj:y.target.value},v)}}),A.jsx(zt,{label:"Give Act",value:m.giveAct,onChange:y=>{s({...m,giveAct:y.target.value},v)}})]}),A.jsx(pt,{color:"red",onClick:()=>o(v),children:A.jsx(um,{})})]}))]}),A.jsxs(yr,{padding:"lg",radius:"md",withBorder:!0,children:[A.jsx(at,{children:A.jsx(Ut,{label:"Add New Message",children:A.jsx(pt,{title:"Add New Message",color:"green",onClick:h,children:A.jsx(tte,{})})})}),i.map((m,v)=>A.jsxs(yr,{withBorder:!0,children:[A.jsxs(at,{children:[A.jsx(zt,{label:"Object Trigger",value:m.plrObj,onChange:y=>{u({...m,plrObj:y.target.value},v)}}),A.jsx(zt,{label:"Act Trigger",value:m.plrAct,onChange:y=>{u({...m,plrAct:y.target.value},v)}})]}),A.jsx(Lg,{label:"Message Text",value:m.text,minRows:40,onChange:y=>{u({...m,text:y.target.value},v)}}),A.jsx(pt,{color:"red",onClick:()=>c(v),children:A.jsx(um,{})})]}))]}),A.jsx(yr,{padding:"lg",radius:"md",withBorder:!0,children:A.jsxs(zr,{gap:"xs",children:[A.jsxs(at,{children:[A.jsx(Rn,{label:"Left",min:0,value:t.data.move.L,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.data.move.L=v}))}}),A.jsx(Rn,{label:"Right",min:0,value:t.data.move.R,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.data.move.R=v}))}}),A.jsx(Rn,{label:"Up",min:0,value:t.data.move.U,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.data.move.U=v}))}}),A.jsx(Rn,{label:"Down",min:0,value:t.data.move.d,onChange:m=>{const v=Number(m);isNaN(v)||a(Le(t,y=>{y.data.move.d=v}))}})]}),A.jsxs(at,{children:[A.jsx(dc,{label:"Move Type",data:f,value:t.data.move.COND.toString(),onChange:m=>{if(m===null)return;const v=parseInt(m);t&&a(Le(t,y=>{y.data.move.COND=v}))}}),A.jsx(Ut,{label:"This feature was not implemented in the game engine",children:A.jsx(zt,{label:"Time A",disabled:!0,value:t.data.move.TIMEA,onChange:m=>{const v=parseInt(m.target.value);t&&!isNaN(v)&&a(Le(t,y=>{y.data.move.COND=v}))}})}),A.jsx(Ut,{label:"This feature was not implemented in the game engine",children:A.jsx(zt,{label:"Time B",disabled:!0,value:t.data.move.TIMEB,onChange:m=>{const v=parseInt(m.target.value);t&&!isNaN(v)&&a(Le(t,y=>{y.data.move.COND=v}))}})})]})]})})]})})}function tl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var FU={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function s(u,c){if(!i[u]){if(!n[u]){var h=typeof tl=="function"&&tl;if(!c&&h)return h(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[u]={exports:{}};n[u][0].call(f.exports,function(p){var g=n[u][1][p];return s(g||p)},f,f.exports,r,n,i,a)}return i[u].exports}for(var o=typeof tl=="function"&&tl,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(r,n,i){var a=r("./utils"),s=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,d,f,p,g,m=[],v=0,y=l.length,b=y,x=a.getTypeOf(l)!=="string";v<l.length;)b=y-v,h=x?(u=l[v++],c=v<y?l[v++]:0,v<y?l[v++]:0):(u=l.charCodeAt(v++),c=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),d=u>>2,f=(3&u)<<4|c>>4,p=1<b?(15&c)<<2|h>>6:64,g=2<b?63&h:64,m.push(o.charAt(d)+o.charAt(f)+o.charAt(p)+o.charAt(g));return m.join("")},i.decode=function(l){var u,c,h,d,f,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|b):new Array(0|b);g<l.length;)u=o.indexOf(l.charAt(g++))<<2|(d=o.indexOf(l.charAt(g++)))>>4,c=(15&d)<<4|(f=o.indexOf(l.charAt(g++)))>>2,h=(3&f)<<6|(p=o.indexOf(l.charAt(g++))),y[m++]=u,f!==64&&(y[m++]=c),p!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),s=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,h,d,f,p){this.compressedSize=c,this.uncompressedSize=h,this.crc32=d,this.compression=f,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,d){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,c,h,d){var f=s,p=d+h;u^=-1;for(var g=d;g<p;g++)u=u>>>8^f[255&(u^c[g])];return-1^u}(0|l,o,o.length,0):function(u,c,h,d){var f=s,p=d+h;u^=-1;for(var g=d;g<p;g++)u=u>>>8^f[255&(u^c.charCodeAt(g))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=a?"uint8array":"array";function c(h,d){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(d){h.push({data:d,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(f,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&f),f>>>=8;return m}function s(f,p,g,m,v,y){var b,x,w=f.file,E=f.compression,_=y!==u.utf8encode,T=o.transformTo("string",y(w.name)),C=o.transformTo("string",u.utf8encode(w.name)),P=w.comment,M=o.transformTo("string",y(P)),R=o.transformTo("string",u.utf8encode(P)),I=C.length!==w.name.length,S=R.length!==P.length,B="",L="",N="",F=w.dir,z=w.date,$={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||($.crc32=f.crc32,$.compressedSize=f.compressedSize,$.uncompressedSize=f.uncompressedSize);var O=0;p&&(O|=8),_||!I&&!S||(O|=2048);var j=0,J=0;F&&(j|=16),v==="UNIX"?(J=798,j|=function(V,X){var te=V;return V||(te=X?16893:33204),(65535&te)<<16}(w.unixPermissions,F)):(J=20,j|=function(V){return 63&(V||0)}(w.dosPermissions)),b=z.getUTCHours(),b<<=6,b|=z.getUTCMinutes(),b<<=5,b|=z.getUTCSeconds()/2,x=z.getUTCFullYear()-1980,x<<=4,x|=z.getUTCMonth()+1,x<<=5,x|=z.getUTCDate(),I&&(L=a(1,1)+a(c(T),4)+C,B+="up"+a(L.length,2)+L),S&&(N=a(1,1)+a(c(M),4)+R,B+="uc"+a(N.length,2)+N);var H="";return H+=`
\0`,H+=a(O,2),H+=E.magic,H+=a(b,2),H+=a(x,2),H+=a($.crc32,4),H+=a($.compressedSize,4),H+=a($.uncompressedSize,4),H+=a(T.length,2),H+=a(B.length,2),{fileRecord:h.LOCAL_FILE_HEADER+H+T+B,dirRecord:h.CENTRAL_FILE_HEADER+a(J,2)+H+a(M.length,2)+"\0\0\0\0"+a(j,4)+a(m,4)+T+B+M}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),h=r("../signature");function d(f,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(f){var p=f.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},d.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var g=s(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,g=s(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return h.DATA_DESCRIPTOR+a(m.crc32,4)+a(m.compressedSize,4)+a(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-f,m=function(v,y,b,x,w){var E=o.transformTo("string",w(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(y,4)+a(b,4)+a(E.length,2)+E}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(g){p.processChunk(g)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(g){p.error(g)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<p.length;g++)try{p[g].error(f)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(d,f){h++;var p=function(y,b){var x=y||b,w=a[x];if(!w)throw new Error(x+" is not a valid compression method !");return w}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},m=f.dir,v=f.date;f._compressWorker(p,g).withStreamInfo("file",{name:d,dir:m,date:v,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),s=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function h(d){return new s.Promise(function(f,p){var g=d.decompressed.getContentWorker().pipe(new u);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==d.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(d,f){var p=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,f.optimizedBinaryString,f.base64).then(function(g){var m=new l(f);return m.load(g),m}).then(function(g){var m=[s.Promise.resolve(g)],v=g.files;if(f.checkCRC32)for(var y=0;y<v.length;y++)m.push(h(v[y]));return s.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,y=0;y<v.length;y++){var b=v[y],x=b.fileNameStr,w=a.resolve(b.fileNameStr);p.file(w,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders}),b.dir||(p.file(w).unsafeOriginalName=x)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),s=r("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(h,d){c.push(h)||c._helper.pause(),u&&u(d)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}r("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(w,E,_){var T,C=o.getTypeOf(E),P=o.extend(_||{},c);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(w=v(w)),P.createFolders&&(T=m(w))&&y.call(this,T,!0);var M=C==="string"&&P.binary===!1&&P.base64===!1;_&&_.binary!==void 0||(P.binary=!M),(E instanceof h&&E.uncompressedSize===0||P.dir||!E||E.length===0)&&(P.base64=!1,P.binary=!0,E="",P.compression="STORE",C="string");var R=null;R=E instanceof h||E instanceof l?E:p.isNode&&p.isStream(E)?new g(w,E):o.prepareContent(w,E,P.binary,P.optimizedBinaryString,P.base64);var I=new d(w,R,P);this.files[w]=I}var s=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),h=r("./compressedObject"),d=r("./zipObject"),f=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),m=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var E=w.lastIndexOf("/");return 0<E?w.substring(0,E):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},y=function(w,E){return E=E!==void 0?E:c.createFolders,w=v(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:E}),this.files[w]};function b(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var E,_,T;for(E in this.files)T=this.files[E],(_=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&w(_,T)},filter:function(w){var E=[];return this.forEach(function(_,T){w(_,T)&&E.push(T)}),E},file:function(w,E,_){if(arguments.length!==1)return w=this.root+w,a.call(this,w,E,_),this;if(b(w)){var T=w;return this.filter(function(P,M){return!M.dir&&T.test(P)})}var C=this.files[this.root+w];return C&&!C.dir?C:null},folder:function(w){if(!w)return this;if(b(w))return this.filter(function(C,P){return P.dir&&w.test(C)});var E=this.root+w,_=y.call(this,E),T=this.clone();return T.root=_.name,T},remove:function(w){w=this.root+w;var E=this.files[w];if(E||(w.slice(-1)!=="/"&&(w+="/"),E=this.files[w]),E&&!E.dir)delete this.files[w];else for(var _=this.filter(function(C,P){return P.name.slice(0,w.length)===w}),T=0;T<_.length;T++)delete this.files[_[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var E,_={};try{if((_=o.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");o.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var T=_.comment||this.comment||"";E=f.generateWorker(this,_,T)}catch(C){(E=new l("error")).error(C)}return new u(E,_.type||"string",_.mimeType)},generateAsync:function(w,E){return this.generateInternalStream(w).accumulate(E)},generateNodeStream:function(w,E){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(E)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===h)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&h===d[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),s=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(h){var d=a.getTypeOf(h);return a.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new u(h):s.uint8array?new c(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),s=r("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),s=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),s=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(p,g){return new c.Promise(function(m,v){var y=[],b=p._internalType,x=p._outputType,w=p._mimeType;p.on("data",function(E,_){y.push(E),g&&g(_)}).on("error",function(E){y=[],v(E)}).on("end",function(){try{var E=function(_,T,C){switch(_){case"blob":return a.newBlob(a.transformTo("arraybuffer",T),C);case"base64":return l.encode(T);default:return a.transformTo(_,T)}}(x,function(_,T){var C,P=0,M=null,R=0;for(C=0;C<T.length;C++)R+=T[C].length;switch(_){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(M=new Uint8Array(R),C=0;C<T.length;C++)M.set(T[C],P),P+=T[C].length;return M;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+_+"'")}}(b,y),w);m(E)}catch(_){v(_)}y=[]}).resume()})}function f(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,a.checkSupport(v),this._worker=p.pipe(new s(v)),p.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}f.prototype={accumulate:function(p){return d(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){a.delay(g,arguments,m)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),s=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(p){var g,m,v,y,b,x=p.length,w=0;for(y=0;y<x;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),w+=m<128?1:m<2048?2:m<65536?3:4;for(g=s.uint8array?new Uint8Array(w):new Array(w),y=b=0;b<w;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),m<128?g[b++]=m:(m<2048?g[b++]=192|m>>>6:(m<65536?g[b++]=224|m>>>12:(g[b++]=240|m>>>18,g[b++]=128|m>>>12&63),g[b++]=128|m>>>6&63),g[b++]=128|63&m);return g}(f)},i.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(p){var g,m,v,y,b=p.length,x=new Array(2*b);for(g=m=0;g<b;)if((v=p[g++])<128)x[m++]=v;else if(4<(y=u[v]))x[m++]=65533,g+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&g<b;)v=v<<6|63&p[g++],y--;1<y?x[m++]=65533:v<65536?x[m++]=v:(v-=65536,x[m++]=55296|v>>10&1023,x[m++]=56320|1023&v)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),a.applyFromCharCode(x)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(h,l),h.prototype.processChunk=function(f){var p=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(y,b){var x;for((b=b||y.length)>y.length&&(b=y.length),x=b-1;0<=x&&(192&y[x])==128;)x--;return x<0||x===0?b:x+u[y[x]]>b?x:b}(p),v=p;m!==p.length&&(s.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:i.utf8decode(v),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(d,l),d.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),s=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(g){return g}function c(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}r("setimmediate"),i.newBlob=function(g,m){i.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,m,v){var y=[],b=0,x=g.length;if(x<=v)return String.fromCharCode.apply(null,g);for(;b<x;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(b,Math.min(b+v,x)))):y.push(String.fromCharCode.apply(null,g.subarray(b,Math.min(b+v,x)))),b+=v;return y.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function d(g){var m=65536,v=i.getTypeOf(g),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(g)}function f(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}i.applyFromCharCode=d;var p={};p.string={string:u,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,o.allocBuffer(g.length))}},p.array={string:d,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},p.arraybuffer={string:function(g){return d(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:d,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return o.newBufferFrom(g)}},p.nodebuffer={string:d,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,m){if(m=m||"",!g)return m;i.checkSupport(g);var v=i.getTypeOf(m);return p[v][g](m)},i.resolve=function(g){for(var m=g.split("/"),v=[],y=0;y<m.length;y++){var b=m[y];b==="."||b===""&&y!==0&&y!==m.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var m,v,y="";for(v=0;v<(g||"").length;v++)y+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},i.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},i.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},i.prepareContent=function(g,m,v,y,b){return l.Promise.resolve(m).then(function(x){return a.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,E){var _=new FileReader;_.onload=function(T){w(T.target.result)},_.onerror=function(T){E(T.target.error)},_.readAsArrayBuffer(x)}):x}).then(function(x){var w=i.getTypeOf(x);return w?(w==="arraybuffer"?x=i.transformTo("uint8array",x):w==="string"&&(b?x=s.decode(x):v&&y!==!0&&(x=function(E){return c(E,a.uint8array?new Uint8Array(E.length):new Array(E.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(h)+")")}},isSignature:function(h,d){var f=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===d;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",f=s.transformTo(d,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,d,f,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),d=this.reader.readInt(4),f=this.reader.readData(d),this.zip64ExtensibleData[h]={id:h,length:d,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,d;for(h=0;h<this.files.length;h++)d=this.files[h],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var d=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=d-f;if(0<p)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),h=r("./support");function d(f,p){this.options=f,this.loadOptions=p}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===m)return c[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,g,m,v=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<v;)p=f.readInt(2),g=f.readInt(2),m=f.readData(g),this.extraFields[p]={id:p,length:g,value:m};f.setIndex(v)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=a(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=a(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");a.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(b){(g=new c("error")).error(b)}return new s(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)a.prototype[h[f]]=d;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(p),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var d=new a.MessageChannel;d.port1.onmessage=p,s=function(){d.port2.postMessage(0)}}var f=[];function p(){var g,m;o=!0;for(var v=f.length;v;){for(m=f,f=[],g=-1;++g<v;)m[g]();v=f.length}o=!1}n.exports=function(g){f.push(g)!==1||o||s()}}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==s&&g(this,v)}function d(v,y,b){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(v,y,b){a(function(){var x;try{x=y(b)}catch(w){return o.reject(v,w)}x===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,x)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function g(v,y){var b=!1;function x(_){b||(b=!0,o.reject(v,_))}function w(_){b||(b=!0,o.resolve(v,_))}var E=m(function(){y(w,x)});E.status==="error"&&x(E.value)}function m(v,y){var b={};try{b.value=v(y),b.status="success"}catch(x){b.status="error",b.value=x}return b}(n.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(v()).then(function(){return b})},function(b){return y.resolve(v()).then(function(){throw b})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var b=new this.constructor(s);return this.state!==c?f(b,this.state===u?v:y,this.outcome):this.queue.push(new d(b,v,y)),b},d.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},d.prototype.otherCallFulfilled=function(v){f(this.promise,this.onFulfilled,v)},d.prototype.callRejected=function(v){o.reject(this.promise,v)},d.prototype.otherCallRejected=function(v){f(this.promise,this.onRejected,v)},o.resolve=function(v,y){var b=m(p,y);if(b.status==="error")return o.reject(v,b.value);var x=b.value;if(x)g(v,x);else{v.state=u,v.outcome=y;for(var w=-1,E=v.queue.length;++w<E;)v.queue[w].callFulfilled(y)}return v},o.reject=function(v,y){v.state=l,v.outcome=y;for(var b=-1,x=v.queue.length;++b<x;)v.queue[b].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:o.resolve(new this(s),v)},h.reject=function(v){var y=new this(s);return o.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,x=!1;if(!b)return this.resolve([]);for(var w=new Array(b),E=0,_=-1,T=new this(s);++_<b;)C(v[_],_);return T;function C(P,M){y.resolve(P).then(function(R){w[M]=R,++E!==b||x||(x=!0,o.resolve(T,w))},function(R){x||(x=!0,o.reject(T,R))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,x=!1;if(!b)return this.resolve([]);for(var w=-1,E=new this(s);++w<b;)_=v[w],y.resolve(_).then(function(T){x||(x=!0,o.resolve(E,T))},function(T){x||(x=!0,o.reject(E,T))});var _;return E}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,h=0,d=-1,f=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=s.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==h)throw new Error(l[b]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var x;if(x=typeof y.dictionary=="string"?o.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=a.deflateSetDictionary(this.strm,x))!==h)throw new Error(l[b]);this._dict_set=!0}}function m(v,y){var b=new g(y);if(b.push(v,!0),b.err)throw b.msg||l[b.err];return b.result}g.prototype.push=function(v,y){var b,x,w=this.strm,E=this.options.chunkSize;if(this.ended)return!1;x=y===~~y?y:y===!0?4:0,typeof v=="string"?w.input=o.string2buf(v):c.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(E),w.next_out=0,w.avail_out=E),(b=a.deflate(w,x))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&b!==1);return x===4?(b=a.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):x!==2||(this.onEnd(h),!(w.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=g,i.deflate=m,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,m(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,m(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),h=r("./zlib/gzheader"),d=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new f(m);if(v.push(g,!0),v.err)throw v.msg||u[v.err];return v.result}f.prototype.push=function(g,m){var v,y,b,x,w,E,_=this.strm,T=this.options.chunkSize,C=this.options.dictionary,P=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?_.input=o.binstring2buf(g):d.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(T),_.next_out=0,_.avail_out=T),(v=a.inflate(_,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&C&&(E=typeof C=="string"?o.string2buf(C):d.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,v=a.inflateSetDictionary(this.strm,E)),v===l.Z_BUF_ERROR&&P===!0&&(v=l.Z_OK,P=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&v!==l.Z_STREAM_END&&(_.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(_.output,_.next_out),x=_.next_out-b,w=o.buf2string(_.output,b),_.next_out=x,_.avail_out=T-x,x&&s.arraySet(_.output,_.output,b,x,0),this.onData(w)):this.onData(s.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(P=!0)}while((0<_.avail_in||_.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(_.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=f,i.inflate=p,i.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,h,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),d);else for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){var u,c,h,d,f,p;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(p=new Uint8Array(h),u=d=0,c=l.length;u<c;u++)f=l[u],p.set(f,d),d+=f.length;return p}},o={arraySet:function(l,u,c,h,d){for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,d){if(d<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,d));for(var f="",p=0;p<d;p++)f+=String.fromCharCode(h[p]);return f}l[254]=l[254]=1,i.string2buf=function(h){var d,f,p,g,m,v=h.length,y=0;for(g=0;g<v;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),y+=f<128?1:f<2048?2:f<65536?3:4;for(d=new a.Buf8(y),g=m=0;m<y;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?d[m++]=f:(f<2048?d[m++]=192|f>>>6:(f<65536?d[m++]=224|f>>>12:(d[m++]=240|f>>>18,d[m++]=128|f>>>12&63),d[m++]=128|f>>>6&63),d[m++]=128|63&f);return d},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var d=new a.Buf8(h.length),f=0,p=d.length;f<p;f++)d[f]=h.charCodeAt(f);return d},i.buf2string=function(h,d){var f,p,g,m,v=d||h.length,y=new Array(2*v);for(f=p=0;f<v;)if((g=h[f++])<128)y[p++]=g;else if(4<(m=l[g]))y[p++]=65533,f+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&f<v;)g=g<<6|63&h[f++],m--;1<m?y[p++]=65533:g<65536?y[p++]=g:(g-=65536,y[p++]=55296|g>>10&1023,y[p++]=56320|1023&g)}return c(y,p)},i.utf8border=function(h,d){var f;for((d=d||h.length)>h.length&&(d=h.length),f=d-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?d:f+l[h[f]]>d?f:d}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();n.exports=function(s,o,l,u){var c=a,h=u+l;s^=-1;for(var d=u;d<h;d++)s=s>>>8^c[255&(s^o[d])];return-1^s}},{}],46:[function(r,n,i){var a,s=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),h=0,d=4,f=0,p=-2,g=-1,m=4,v=2,y=8,b=9,x=286,w=30,E=19,_=2*x+1,T=15,C=3,P=258,M=P+C+1,R=42,I=113,S=1,B=2,L=3,N=4;function F(k,K){return k.msg=c[K],K}function z(k){return(k<<1)-(4<k?9:0)}function $(k){for(var K=k.length;0<=--K;)k[K]=0}function O(k){var K=k.state,ne=K.pending;ne>k.avail_out&&(ne=k.avail_out),ne!==0&&(s.arraySet(k.output,K.pending_buf,K.pending_out,ne,k.next_out),k.next_out+=ne,K.pending_out+=ne,k.total_out+=ne,k.avail_out-=ne,K.pending-=ne,K.pending===0&&(K.pending_out=0))}function j(k,K){o._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,K),k.block_start=k.strstart,O(k.strm)}function J(k,K){k.pending_buf[k.pending++]=K}function H(k,K){k.pending_buf[k.pending++]=K>>>8&255,k.pending_buf[k.pending++]=255&K}function V(k,K){var ne,U,G=k.max_chain_length,q=k.strstart,oe=k.prev_length,re=k.nice_match,Z=k.strstart>k.w_size-M?k.strstart-(k.w_size-M):0,ee=k.window,ue=k.w_mask,fe=k.prev,ce=k.strstart+P,W=ee[q+oe-1],ie=ee[q+oe];k.prev_length>=k.good_match&&(G>>=2),re>k.lookahead&&(re=k.lookahead);do if(ee[(ne=K)+oe]===ie&&ee[ne+oe-1]===W&&ee[ne]===ee[q]&&ee[++ne]===ee[q+1]){q+=2,ne++;do;while(ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&ee[++q]===ee[++ne]&&q<ce);if(U=P-(ce-q),q=ce-P,oe<U){if(k.match_start=K,re<=(oe=U))break;W=ee[q+oe-1],ie=ee[q+oe]}}while((K=fe[K&ue])>Z&&--G!=0);return oe<=k.lookahead?oe:k.lookahead}function X(k){var K,ne,U,G,q,oe,re,Z,ee,ue,fe=k.w_size;do{if(G=k.window_size-k.lookahead-k.strstart,k.strstart>=fe+(fe-M)){for(s.arraySet(k.window,k.window,fe,fe,0),k.match_start-=fe,k.strstart-=fe,k.block_start-=fe,K=ne=k.hash_size;U=k.head[--K],k.head[K]=fe<=U?U-fe:0,--ne;);for(K=ne=fe;U=k.prev[--K],k.prev[K]=fe<=U?U-fe:0,--ne;);G+=fe}if(k.strm.avail_in===0)break;if(oe=k.strm,re=k.window,Z=k.strstart+k.lookahead,ee=G,ue=void 0,ue=oe.avail_in,ee<ue&&(ue=ee),ne=ue===0?0:(oe.avail_in-=ue,s.arraySet(re,oe.input,oe.next_in,ue,Z),oe.state.wrap===1?oe.adler=l(oe.adler,re,ue,Z):oe.state.wrap===2&&(oe.adler=u(oe.adler,re,ue,Z)),oe.next_in+=ue,oe.total_in+=ue,ue),k.lookahead+=ne,k.lookahead+k.insert>=C)for(q=k.strstart-k.insert,k.ins_h=k.window[q],k.ins_h=(k.ins_h<<k.hash_shift^k.window[q+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[q+C-1])&k.hash_mask,k.prev[q&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=q,q++,k.insert--,!(k.lookahead+k.insert<C)););}while(k.lookahead<M&&k.strm.avail_in!==0)}function te(k,K){for(var ne,U;;){if(k.lookahead<M){if(X(k),k.lookahead<M&&K===h)return S;if(k.lookahead===0)break}if(ne=0,k.lookahead>=C&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+C-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),ne!==0&&k.strstart-ne<=k.w_size-M&&(k.match_length=V(k,ne)),k.match_length>=C)if(U=o._tr_tally(k,k.strstart-k.match_start,k.match_length-C),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=C){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+C-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else U=o._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(U&&(j(k,!1),k.strm.avail_out===0))return S}return k.insert=k.strstart<C-1?k.strstart:C-1,K===d?(j(k,!0),k.strm.avail_out===0?L:N):k.last_lit&&(j(k,!1),k.strm.avail_out===0)?S:B}function Q(k,K){for(var ne,U,G;;){if(k.lookahead<M){if(X(k),k.lookahead<M&&K===h)return S;if(k.lookahead===0)break}if(ne=0,k.lookahead>=C&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+C-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=C-1,ne!==0&&k.prev_length<k.max_lazy_match&&k.strstart-ne<=k.w_size-M&&(k.match_length=V(k,ne),k.match_length<=5&&(k.strategy===1||k.match_length===C&&4096<k.strstart-k.match_start)&&(k.match_length=C-1)),k.prev_length>=C&&k.match_length<=k.prev_length){for(G=k.strstart+k.lookahead-C,U=o._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-C),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=G&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+C-1])&k.hash_mask,ne=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=C-1,k.strstart++,U&&(j(k,!1),k.strm.avail_out===0))return S}else if(k.match_available){if((U=o._tr_tally(k,0,k.window[k.strstart-1]))&&j(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return S}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(U=o._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<C-1?k.strstart:C-1,K===d?(j(k,!0),k.strm.avail_out===0?L:N):k.last_lit&&(j(k,!1),k.strm.avail_out===0)?S:B}function Y(k,K,ne,U,G){this.good_length=k,this.max_lazy=K,this.nice_length=ne,this.max_chain=U,this.func=G}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*_),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*x+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(k){var K;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=v,(K=k.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?R:I,k.adler=K.wrap===2?0:1,K.last_flush=h,o._tr_init(K),f):F(k,p)}function ve(k){var K=se(k);return K===f&&function(ne){ne.window_size=2*ne.w_size,$(ne.head),ne.max_lazy_match=a[ne.level].max_lazy,ne.good_match=a[ne.level].good_length,ne.nice_match=a[ne.level].nice_length,ne.max_chain_length=a[ne.level].max_chain,ne.strstart=0,ne.block_start=0,ne.lookahead=0,ne.insert=0,ne.match_length=ne.prev_length=C-1,ne.match_available=0,ne.ins_h=0}(k.state),K}function ge(k,K,ne,U,G,q){if(!k)return p;var oe=1;if(K===g&&(K=6),U<0?(oe=0,U=-U):15<U&&(oe=2,U-=16),G<1||b<G||ne!==y||U<8||15<U||K<0||9<K||q<0||m<q)return F(k,p);U===8&&(U=9);var re=new ae;return(k.state=re).strm=k,re.wrap=oe,re.gzhead=null,re.w_bits=U,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=G+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+C-1)/C),re.window=new s.Buf8(2*re.w_size),re.head=new s.Buf16(re.hash_size),re.prev=new s.Buf16(re.w_size),re.lit_bufsize=1<<G+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new s.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=K,re.strategy=q,re.method=ne,ve(k)}a=[new Y(0,0,0,0,function(k,K){var ne=65535;for(ne>k.pending_buf_size-5&&(ne=k.pending_buf_size-5);;){if(k.lookahead<=1){if(X(k),k.lookahead===0&&K===h)return S;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var U=k.block_start+ne;if((k.strstart===0||k.strstart>=U)&&(k.lookahead=k.strstart-U,k.strstart=U,j(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-M&&(j(k,!1),k.strm.avail_out===0))return S}return k.insert=0,K===d?(j(k,!0),k.strm.avail_out===0?L:N):(k.strstart>k.block_start&&(j(k,!1),k.strm.avail_out),S)}),new Y(4,4,8,4,te),new Y(4,5,16,8,te),new Y(4,6,32,32,te),new Y(4,4,16,16,Q),new Y(8,16,32,32,Q),new Y(8,16,128,128,Q),new Y(8,32,128,256,Q),new Y(32,128,258,1024,Q),new Y(32,258,258,4096,Q)],i.deflateInit=function(k,K){return ge(k,K,y,15,8,0)},i.deflateInit2=ge,i.deflateReset=ve,i.deflateResetKeep=se,i.deflateSetHeader=function(k,K){return k&&k.state?k.state.wrap!==2?p:(k.state.gzhead=K,f):p},i.deflate=function(k,K){var ne,U,G,q;if(!k||!k.state||5<K||K<0)return k?F(k,p):p;if(U=k.state,!k.output||!k.input&&k.avail_in!==0||U.status===666&&K!==d)return F(k,k.avail_out===0?-5:p);if(U.strm=k,ne=U.last_flush,U.last_flush=K,U.status===R)if(U.wrap===2)k.adler=0,J(U,31),J(U,139),J(U,8),U.gzhead?(J(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),J(U,255&U.gzhead.time),J(U,U.gzhead.time>>8&255),J(U,U.gzhead.time>>16&255),J(U,U.gzhead.time>>24&255),J(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),J(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(J(U,255&U.gzhead.extra.length),J(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(k.adler=u(k.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(J(U,0),J(U,0),J(U,0),J(U,0),J(U,0),J(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),J(U,3),U.status=I);else{var oe=y+(U.w_bits-8<<4)<<8;oe|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(oe|=32),oe+=31-oe%31,U.status=I,H(U,oe),U.strstart!==0&&(H(U,k.adler>>>16),H(U,65535&k.adler)),k.adler=1}if(U.status===69)if(U.gzhead.extra){for(G=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>G&&(k.adler=u(k.adler,U.pending_buf,U.pending-G,G)),O(k),G=U.pending,U.pending!==U.pending_buf_size));)J(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>G&&(k.adler=u(k.adler,U.pending_buf,U.pending-G,G)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){G=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>G&&(k.adler=u(k.adler,U.pending_buf,U.pending-G,G)),O(k),G=U.pending,U.pending===U.pending_buf_size)){q=1;break}q=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,J(U,q)}while(q!==0);U.gzhead.hcrc&&U.pending>G&&(k.adler=u(k.adler,U.pending_buf,U.pending-G,G)),q===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){G=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>G&&(k.adler=u(k.adler,U.pending_buf,U.pending-G,G)),O(k),G=U.pending,U.pending===U.pending_buf_size)){q=1;break}q=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,J(U,q)}while(q!==0);U.gzhead.hcrc&&U.pending>G&&(k.adler=u(k.adler,U.pending_buf,U.pending-G,G)),q===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&O(k),U.pending+2<=U.pending_buf_size&&(J(U,255&k.adler),J(U,k.adler>>8&255),k.adler=0,U.status=I)):U.status=I),U.pending!==0){if(O(k),k.avail_out===0)return U.last_flush=-1,f}else if(k.avail_in===0&&z(K)<=z(ne)&&K!==d)return F(k,-5);if(U.status===666&&k.avail_in!==0)return F(k,-5);if(k.avail_in!==0||U.lookahead!==0||K!==h&&U.status!==666){var re=U.strategy===2?function(Z,ee){for(var ue;;){if(Z.lookahead===0&&(X(Z),Z.lookahead===0)){if(ee===h)return S;break}if(Z.match_length=0,ue=o._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,ue&&(j(Z,!1),Z.strm.avail_out===0))return S}return Z.insert=0,ee===d?(j(Z,!0),Z.strm.avail_out===0?L:N):Z.last_lit&&(j(Z,!1),Z.strm.avail_out===0)?S:B}(U,K):U.strategy===3?function(Z,ee){for(var ue,fe,ce,W,ie=Z.window;;){if(Z.lookahead<=P){if(X(Z),Z.lookahead<=P&&ee===h)return S;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=C&&0<Z.strstart&&(fe=ie[ce=Z.strstart-1])===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]){W=Z.strstart+P;do;while(fe===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]&&fe===ie[++ce]&&ce<W);Z.match_length=P-(W-ce),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=C?(ue=o._tr_tally(Z,1,Z.match_length-C),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(ue=o._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),ue&&(j(Z,!1),Z.strm.avail_out===0))return S}return Z.insert=0,ee===d?(j(Z,!0),Z.strm.avail_out===0?L:N):Z.last_lit&&(j(Z,!1),Z.strm.avail_out===0)?S:B}(U,K):a[U.level].func(U,K);if(re!==L&&re!==N||(U.status=666),re===S||re===L)return k.avail_out===0&&(U.last_flush=-1),f;if(re===B&&(K===1?o._tr_align(U):K!==5&&(o._tr_stored_block(U,0,0,!1),K===3&&($(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),O(k),k.avail_out===0))return U.last_flush=-1,f}return K!==d?f:U.wrap<=0?1:(U.wrap===2?(J(U,255&k.adler),J(U,k.adler>>8&255),J(U,k.adler>>16&255),J(U,k.adler>>24&255),J(U,255&k.total_in),J(U,k.total_in>>8&255),J(U,k.total_in>>16&255),J(U,k.total_in>>24&255)):(H(U,k.adler>>>16),H(U,65535&k.adler)),O(k),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?f:1)},i.deflateEnd=function(k){var K;return k&&k.state?(K=k.state.status)!==R&&K!==69&&K!==73&&K!==91&&K!==103&&K!==I&&K!==666?F(k,p):(k.state=null,K===I?F(k,-3):f):p},i.deflateSetDictionary=function(k,K){var ne,U,G,q,oe,re,Z,ee,ue=K.length;if(!k||!k.state||(q=(ne=k.state).wrap)===2||q===1&&ne.status!==R||ne.lookahead)return p;for(q===1&&(k.adler=l(k.adler,K,ue,0)),ne.wrap=0,ue>=ne.w_size&&(q===0&&($(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0),ee=new s.Buf8(ne.w_size),s.arraySet(ee,K,ue-ne.w_size,ne.w_size,0),K=ee,ue=ne.w_size),oe=k.avail_in,re=k.next_in,Z=k.input,k.avail_in=ue,k.next_in=0,k.input=K,X(ne);ne.lookahead>=C;){for(U=ne.strstart,G=ne.lookahead-(C-1);ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[U+C-1])&ne.hash_mask,ne.prev[U&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=U,U++,--G;);ne.strstart=U,ne.lookahead=C-1,X(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=C-1,ne.match_available=0,k.next_in=re,k.input=Z,k.avail_in=oe,ne.wrap=q,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,s){var o,l,u,c,h,d,f,p,g,m,v,y,b,x,w,E,_,T,C,P,M,R,I,S,B;o=a.state,l=a.next_in,S=a.input,u=l+(a.avail_in-5),c=a.next_out,B=a.output,h=c-(s-a.avail_out),d=c+(a.avail_out-257),f=o.dmax,p=o.wsize,g=o.whave,m=o.wnext,v=o.window,y=o.hold,b=o.bits,x=o.lencode,w=o.distcode,E=(1<<o.lenbits)-1,_=(1<<o.distbits)-1;e:do{b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),T=x[y&E];t:for(;;){if(y>>>=C=T>>>24,b-=C,(C=T>>>16&255)===0)B[c++]=65535&T;else{if(!(16&C)){if(!(64&C)){T=x[(65535&T)+(y&(1<<C)-1)];continue t}if(32&C){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}P=65535&T,(C&=15)&&(b<C&&(y+=S[l++]<<b,b+=8),P+=y&(1<<C)-1,y>>>=C,b-=C),b<15&&(y+=S[l++]<<b,b+=8,y+=S[l++]<<b,b+=8),T=w[y&_];r:for(;;){if(y>>>=C=T>>>24,b-=C,!(16&(C=T>>>16&255))){if(!(64&C)){T=w[(65535&T)+(y&(1<<C)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(M=65535&T,b<(C&=15)&&(y+=S[l++]<<b,(b+=8)<C&&(y+=S[l++]<<b,b+=8)),f<(M+=y&(1<<C)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=C,b-=C,(C=c-h)<M){if(g<(C=M-C)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(I=v,(R=0)===m){if(R+=p-C,C<P){for(P-=C;B[c++]=v[R++],--C;);R=c-M,I=B}}else if(m<C){if(R+=p+m-C,(C-=m)<P){for(P-=C;B[c++]=v[R++],--C;);if(R=0,m<P){for(P-=C=m;B[c++]=v[R++],--C;);R=c-M,I=B}}}else if(R+=m-C,C<P){for(P-=C;B[c++]=v[R++],--C;);R=c-M,I=B}for(;2<P;)B[c++]=I[R++],B[c++]=I[R++],B[c++]=I[R++],P-=3;P&&(B[c++]=I[R++],1<P&&(B[c++]=I[R++]))}else{for(R=c-M;B[c++]=B[R++],B[c++]=B[R++],B[c++]=B[R++],2<(P-=3););P&&(B[c++]=B[R++],1<P&&(B[c++]=B[R++]))}break}}break}}while(l<u&&c<d);l-=P=b>>3,y&=(1<<(b-=P<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<d?d-c+257:257-(c-d),o.hold=y,o.bits=b}},{}],49:[function(r,n,i){var a=r("../utils/common"),s=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,h=2,d=0,f=-2,p=1,g=852,m=592;function v(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(R){var I;return R&&R.state?(I=R.state,R.total_in=R.total_out=I.total=0,R.msg="",I.wrap&&(R.adler=1&I.wrap),I.mode=p,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new a.Buf32(g),I.distcode=I.distdyn=new a.Buf32(m),I.sane=1,I.back=-1,d):f}function x(R){var I;return R&&R.state?((I=R.state).wsize=0,I.whave=0,I.wnext=0,b(R)):f}function w(R,I){var S,B;return R&&R.state?(B=R.state,I<0?(S=0,I=-I):(S=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(B.window!==null&&B.wbits!==I&&(B.window=null),B.wrap=S,B.wbits=I,x(R))):f}function E(R,I){var S,B;return R?(B=new y,(R.state=B).window=null,(S=w(R,I))!==d&&(R.state=null),S):f}var _,T,C=!0;function P(R){if(C){var I;for(_=new a.Buf32(512),T=new a.Buf32(32),I=0;I<144;)R.lens[I++]=8;for(;I<256;)R.lens[I++]=9;for(;I<280;)R.lens[I++]=7;for(;I<288;)R.lens[I++]=8;for(u(c,R.lens,0,288,_,0,R.work,{bits:9}),I=0;I<32;)R.lens[I++]=5;u(h,R.lens,0,32,T,0,R.work,{bits:5}),C=!1}R.lencode=_,R.lenbits=9,R.distcode=T,R.distbits=5}function M(R,I,S,B){var L,N=R.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new a.Buf8(N.wsize)),B>=N.wsize?(a.arraySet(N.window,I,S-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(B<(L=N.wsize-N.wnext)&&(L=B),a.arraySet(N.window,I,S-B,L,N.wnext),(B-=L)?(a.arraySet(N.window,I,S-B,B,0),N.wnext=B,N.whave=N.wsize):(N.wnext+=L,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=L))),0}i.inflateReset=x,i.inflateReset2=w,i.inflateResetKeep=b,i.inflateInit=function(R){return E(R,15)},i.inflateInit2=E,i.inflate=function(R,I){var S,B,L,N,F,z,$,O,j,J,H,V,X,te,Q,Y,ae,se,ve,ge,k,K,ne,U,G=0,q=new a.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return f;(S=R.state).mode===12&&(S.mode=13),F=R.next_out,L=R.output,$=R.avail_out,N=R.next_in,B=R.input,z=R.avail_in,O=S.hold,j=S.bits,J=z,H=$,K=d;e:for(;;)switch(S.mode){case p:if(S.wrap===0){S.mode=13;break}for(;j<16;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(2&S.wrap&&O===35615){q[S.check=0]=255&O,q[1]=O>>>8&255,S.check=o(S.check,q,2,0),j=O=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&O)<<8)+(O>>8))%31){R.msg="incorrect header check",S.mode=30;break}if((15&O)!=8){R.msg="unknown compression method",S.mode=30;break}if(j-=4,k=8+(15&(O>>>=4)),S.wbits===0)S.wbits=k;else if(k>S.wbits){R.msg="invalid window size",S.mode=30;break}S.dmax=1<<k,R.adler=S.check=1,S.mode=512&O?10:12,j=O=0;break;case 2:for(;j<16;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(S.flags=O,(255&S.flags)!=8){R.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){R.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=O>>8&1),512&S.flags&&(q[0]=255&O,q[1]=O>>>8&255,S.check=o(S.check,q,2,0)),j=O=0,S.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}S.head&&(S.head.time=O),512&S.flags&&(q[0]=255&O,q[1]=O>>>8&255,q[2]=O>>>16&255,q[3]=O>>>24&255,S.check=o(S.check,q,4,0)),j=O=0,S.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}S.head&&(S.head.xflags=255&O,S.head.os=O>>8),512&S.flags&&(q[0]=255&O,q[1]=O>>>8&255,S.check=o(S.check,q,2,0)),j=O=0,S.mode=5;case 5:if(1024&S.flags){for(;j<16;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}S.length=O,S.head&&(S.head.extra_len=O),512&S.flags&&(q[0]=255&O,q[1]=O>>>8&255,S.check=o(S.check,q,2,0)),j=O=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(z<(V=S.length)&&(V=z),V&&(S.head&&(k=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),a.arraySet(S.head.extra,B,N,V,k)),512&S.flags&&(S.check=o(S.check,B,V,N)),z-=V,N+=V,S.length-=V),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(z===0)break e;for(V=0;k=B[N+V++],S.head&&k&&S.length<65536&&(S.head.name+=String.fromCharCode(k)),k&&V<z;);if(512&S.flags&&(S.check=o(S.check,B,V,N)),z-=V,N+=V,k)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(z===0)break e;for(V=0;k=B[N+V++],S.head&&k&&S.length<65536&&(S.head.comment+=String.fromCharCode(k)),k&&V<z;);if(512&S.flags&&(S.check=o(S.check,B,V,N)),z-=V,N+=V,k)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;j<16;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(O!==(65535&S.check)){R.msg="header crc mismatch",S.mode=30;break}j=O=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),R.adler=S.check=0,S.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}R.adler=S.check=v(O),j=O=0,S.mode=11;case 11:if(S.havedict===0)return R.next_out=F,R.avail_out=$,R.next_in=N,R.avail_in=z,S.hold=O,S.bits=j,2;R.adler=S.check=1,S.mode=12;case 12:if(I===5||I===6)break e;case 13:if(S.last){O>>>=7&j,j-=7&j,S.mode=27;break}for(;j<3;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}switch(S.last=1&O,j-=1,3&(O>>>=1)){case 0:S.mode=14;break;case 1:if(P(S),S.mode=20,I!==6)break;O>>>=2,j-=2;break e;case 2:S.mode=17;break;case 3:R.msg="invalid block type",S.mode=30}O>>>=2,j-=2;break;case 14:for(O>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if((65535&O)!=(O>>>16^65535)){R.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&O,j=O=0,S.mode=15,I===6)break e;case 15:S.mode=16;case 16:if(V=S.length){if(z<V&&(V=z),$<V&&(V=$),V===0)break e;a.arraySet(L,B,N,V,F),z-=V,N+=V,$-=V,F+=V,S.length-=V;break}S.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(S.nlen=257+(31&O),O>>>=5,j-=5,S.ndist=1+(31&O),O>>>=5,j-=5,S.ncode=4+(15&O),O>>>=4,j-=4,286<S.nlen||30<S.ndist){R.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;j<3;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}S.lens[oe[S.have++]]=7&O,O>>>=3,j-=3}for(;S.have<19;)S.lens[oe[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ne={bits:S.lenbits},K=u(0,S.lens,0,19,S.lencode,0,S.work,ne),S.lenbits=ne.bits,K){R.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Y=(G=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,ae=65535&G,!((Q=G>>>24)<=j);){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(ae<16)O>>>=Q,j-=Q,S.lens[S.have++]=ae;else{if(ae===16){for(U=Q+2;j<U;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(O>>>=Q,j-=Q,S.have===0){R.msg="invalid bit length repeat",S.mode=30;break}k=S.lens[S.have-1],V=3+(3&O),O>>>=2,j-=2}else if(ae===17){for(U=Q+3;j<U;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}j-=Q,k=0,V=3+(7&(O>>>=Q)),O>>>=3,j-=3}else{for(U=Q+7;j<U;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}j-=Q,k=0,V=11+(127&(O>>>=Q)),O>>>=7,j-=7}if(S.have+V>S.nlen+S.ndist){R.msg="invalid bit length repeat",S.mode=30;break}for(;V--;)S.lens[S.have++]=k}}if(S.mode===30)break;if(S.lens[256]===0){R.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ne={bits:S.lenbits},K=u(c,S.lens,0,S.nlen,S.lencode,0,S.work,ne),S.lenbits=ne.bits,K){R.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ne={bits:S.distbits},K=u(h,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ne),S.distbits=ne.bits,K){R.msg="invalid distances set",S.mode=30;break}if(S.mode=20,I===6)break e;case 20:S.mode=21;case 21:if(6<=z&&258<=$){R.next_out=F,R.avail_out=$,R.next_in=N,R.avail_in=z,S.hold=O,S.bits=j,l(R,H),F=R.next_out,L=R.output,$=R.avail_out,N=R.next_in,B=R.input,z=R.avail_in,O=S.hold,j=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;Y=(G=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,ae=65535&G,!((Q=G>>>24)<=j);){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(Y&&!(240&Y)){for(se=Q,ve=Y,ge=ae;Y=(G=S.lencode[ge+((O&(1<<se+ve)-1)>>se)])>>>16&255,ae=65535&G,!(se+(Q=G>>>24)<=j);){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}O>>>=se,j-=se,S.back+=se}if(O>>>=Q,j-=Q,S.back+=Q,S.length=ae,Y===0){S.mode=26;break}if(32&Y){S.back=-1,S.mode=12;break}if(64&Y){R.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Y,S.mode=22;case 22:if(S.extra){for(U=S.extra;j<U;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}S.length+=O&(1<<S.extra)-1,O>>>=S.extra,j-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Y=(G=S.distcode[O&(1<<S.distbits)-1])>>>16&255,ae=65535&G,!((Q=G>>>24)<=j);){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(!(240&Y)){for(se=Q,ve=Y,ge=ae;Y=(G=S.distcode[ge+((O&(1<<se+ve)-1)>>se)])>>>16&255,ae=65535&G,!(se+(Q=G>>>24)<=j);){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}O>>>=se,j-=se,S.back+=se}if(O>>>=Q,j-=Q,S.back+=Q,64&Y){R.msg="invalid distance code",S.mode=30;break}S.offset=ae,S.extra=15&Y,S.mode=24;case 24:if(S.extra){for(U=S.extra;j<U;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}S.offset+=O&(1<<S.extra)-1,O>>>=S.extra,j-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){R.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if($===0)break e;if(V=H-$,S.offset>V){if((V=S.offset-V)>S.whave&&S.sane){R.msg="invalid distance too far back",S.mode=30;break}X=V>S.wnext?(V-=S.wnext,S.wsize-V):S.wnext-V,V>S.length&&(V=S.length),te=S.window}else te=L,X=F-S.offset,V=S.length;for($<V&&(V=$),$-=V,S.length-=V;L[F++]=te[X++],--V;);S.length===0&&(S.mode=21);break;case 26:if($===0)break e;L[F++]=S.length,$--,S.mode=21;break;case 27:if(S.wrap){for(;j<32;){if(z===0)break e;z--,O|=B[N++]<<j,j+=8}if(H-=$,R.total_out+=H,S.total+=H,H&&(R.adler=S.check=S.flags?o(S.check,L,H,F-H):s(S.check,L,H,F-H)),H=$,(S.flags?O:v(O))!==S.check){R.msg="incorrect data check",S.mode=30;break}j=O=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;j<32;){if(z===0)break e;z--,O+=B[N++]<<j,j+=8}if(O!==(4294967295&S.total)){R.msg="incorrect length check",S.mode=30;break}j=O=0}S.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;case 32:default:return f}return R.next_out=F,R.avail_out=$,R.next_in=N,R.avail_in=z,S.hold=O,S.bits=j,(S.wsize||H!==R.avail_out&&S.mode<30&&(S.mode<27||I!==4))&&M(R,R.output,R.next_out,H-R.avail_out)?(S.mode=31,-4):(J-=R.avail_in,H-=R.avail_out,R.total_in+=J,R.total_out+=H,S.total+=H,S.wrap&&H&&(R.adler=S.check=S.flags?o(S.check,L,H,R.next_out-H):s(S.check,L,H,R.next_out-H)),R.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(J==0&&H===0||I===4)&&K===d&&(K=-5),K)},i.inflateEnd=function(R){if(!R||!R.state)return f;var I=R.state;return I.window&&(I.window=null),R.state=null,d},i.inflateGetHeader=function(R,I){var S;return R&&R.state&&2&(S=R.state).wrap?((S.head=I).done=!1,d):f},i.inflateSetDictionary=function(R,I){var S,B=I.length;return R&&R.state?(S=R.state).wrap!==0&&S.mode!==11?f:S.mode===11&&s(1,I,B,0)!==S.check?-3:M(R,I,B,B)?(S.mode=31,-4):(S.havedict=1,d):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,h,d,f,p,g,m,v){var y,b,x,w,E,_,T,C,P,M=v.bits,R=0,I=0,S=0,B=0,L=0,N=0,F=0,z=0,$=0,O=0,j=null,J=0,H=new a.Buf16(16),V=new a.Buf16(16),X=null,te=0;for(R=0;R<=15;R++)H[R]=0;for(I=0;I<f;I++)H[h[d+I]]++;for(L=M,B=15;1<=B&&H[B]===0;B--);if(B<L&&(L=B),B===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(S=1;S<B&&H[S]===0;S++);for(L<S&&(L=S),R=z=1;R<=15;R++)if(z<<=1,(z-=H[R])<0)return-1;if(0<z&&(c===0||B!==1))return-1;for(V[1]=0,R=1;R<15;R++)V[R+1]=V[R]+H[R];for(I=0;I<f;I++)h[d+I]!==0&&(m[V[h[d+I]]++]=I);if(_=c===0?(j=X=m,19):c===1?(j=s,J-=257,X=o,te-=257,256):(j=l,X=u,-1),R=S,E=g,F=I=O=0,x=-1,w=($=1<<(N=L))-1,c===1&&852<$||c===2&&592<$)return 1;for(;;){for(T=R-F,P=m[I]<_?(C=0,m[I]):m[I]>_?(C=X[te+m[I]],j[J+m[I]]):(C=96,0),y=1<<R-F,S=b=1<<N;p[E+(O>>F)+(b-=y)]=T<<24|C<<16|P|0,b!==0;);for(y=1<<R-1;O&y;)y>>=1;if(y!==0?(O&=y-1,O+=y):O=0,I++,--H[R]==0){if(R===B)break;R=h[d+m[I]]}if(L<R&&(O&w)!==x){for(F===0&&(F=L),E+=S,z=1<<(N=R-F);N+F<B&&!((z-=H[N+F])<=0);)N++,z<<=1;if($+=1<<N,c===1&&852<$||c===2&&592<$)return 1;p[x=O&w]=L<<24|N<<16|E-g|0}}return O!==0&&(p[E+O]=R-F<<24|64<<16|0),v.bits=L,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),s=0,o=1;function l(G){for(var q=G.length;0<=--q;)G[q]=0}var u=0,c=29,h=256,d=h+1+c,f=30,p=19,g=2*d+1,m=15,v=16,y=7,b=256,x=16,w=17,E=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(d+2));l(M);var R=new Array(2*f);l(R);var I=new Array(512);l(I);var S=new Array(256);l(S);var B=new Array(c);l(B);var L,N,F,z=new Array(f);function $(G,q,oe,re,Z){this.static_tree=G,this.extra_bits=q,this.extra_base=oe,this.elems=re,this.max_length=Z,this.has_stree=G&&G.length}function O(G,q){this.dyn_tree=G,this.max_code=0,this.stat_desc=q}function j(G){return G<256?I[G]:I[256+(G>>>7)]}function J(G,q){G.pending_buf[G.pending++]=255&q,G.pending_buf[G.pending++]=q>>>8&255}function H(G,q,oe){G.bi_valid>v-oe?(G.bi_buf|=q<<G.bi_valid&65535,J(G,G.bi_buf),G.bi_buf=q>>v-G.bi_valid,G.bi_valid+=oe-v):(G.bi_buf|=q<<G.bi_valid&65535,G.bi_valid+=oe)}function V(G,q,oe){H(G,oe[2*q],oe[2*q+1])}function X(G,q){for(var oe=0;oe|=1&G,G>>>=1,oe<<=1,0<--q;);return oe>>>1}function te(G,q,oe){var re,Z,ee=new Array(m+1),ue=0;for(re=1;re<=m;re++)ee[re]=ue=ue+oe[re-1]<<1;for(Z=0;Z<=q;Z++){var fe=G[2*Z+1];fe!==0&&(G[2*Z]=X(ee[fe]++,fe))}}function Q(G){var q;for(q=0;q<d;q++)G.dyn_ltree[2*q]=0;for(q=0;q<f;q++)G.dyn_dtree[2*q]=0;for(q=0;q<p;q++)G.bl_tree[2*q]=0;G.dyn_ltree[2*b]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function Y(G){8<G.bi_valid?J(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function ae(G,q,oe,re){var Z=2*q,ee=2*oe;return G[Z]<G[ee]||G[Z]===G[ee]&&re[q]<=re[oe]}function se(G,q,oe){for(var re=G.heap[oe],Z=oe<<1;Z<=G.heap_len&&(Z<G.heap_len&&ae(q,G.heap[Z+1],G.heap[Z],G.depth)&&Z++,!ae(q,re,G.heap[Z],G.depth));)G.heap[oe]=G.heap[Z],oe=Z,Z<<=1;G.heap[oe]=re}function ve(G,q,oe){var re,Z,ee,ue,fe=0;if(G.last_lit!==0)for(;re=G.pending_buf[G.d_buf+2*fe]<<8|G.pending_buf[G.d_buf+2*fe+1],Z=G.pending_buf[G.l_buf+fe],fe++,re===0?V(G,Z,q):(V(G,(ee=S[Z])+h+1,q),(ue=_[ee])!==0&&H(G,Z-=B[ee],ue),V(G,ee=j(--re),oe),(ue=T[ee])!==0&&H(G,re-=z[ee],ue)),fe<G.last_lit;);V(G,b,q)}function ge(G,q){var oe,re,Z,ee=q.dyn_tree,ue=q.stat_desc.static_tree,fe=q.stat_desc.has_stree,ce=q.stat_desc.elems,W=-1;for(G.heap_len=0,G.heap_max=g,oe=0;oe<ce;oe++)ee[2*oe]!==0?(G.heap[++G.heap_len]=W=oe,G.depth[oe]=0):ee[2*oe+1]=0;for(;G.heap_len<2;)ee[2*(Z=G.heap[++G.heap_len]=W<2?++W:0)]=1,G.depth[Z]=0,G.opt_len--,fe&&(G.static_len-=ue[2*Z+1]);for(q.max_code=W,oe=G.heap_len>>1;1<=oe;oe--)se(G,ee,oe);for(Z=ce;oe=G.heap[1],G.heap[1]=G.heap[G.heap_len--],se(G,ee,1),re=G.heap[1],G.heap[--G.heap_max]=oe,G.heap[--G.heap_max]=re,ee[2*Z]=ee[2*oe]+ee[2*re],G.depth[Z]=(G.depth[oe]>=G.depth[re]?G.depth[oe]:G.depth[re])+1,ee[2*oe+1]=ee[2*re+1]=Z,G.heap[1]=Z++,se(G,ee,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],function(ie,de){var le,he,Ee,pe,Se,Be,je=de.dyn_tree,De=de.max_code,Ve=de.stat_desc.static_tree,We=de.stat_desc.has_stree,Ue=de.stat_desc.extra_bits,lt=de.stat_desc.extra_base,ut=de.stat_desc.max_length,cr=0;for(pe=0;pe<=m;pe++)ie.bl_count[pe]=0;for(je[2*ie.heap[ie.heap_max]+1]=0,le=ie.heap_max+1;le<g;le++)ut<(pe=je[2*je[2*(he=ie.heap[le])+1]+1]+1)&&(pe=ut,cr++),je[2*he+1]=pe,De<he||(ie.bl_count[pe]++,Se=0,lt<=he&&(Se=Ue[he-lt]),Be=je[2*he],ie.opt_len+=Be*(pe+Se),We&&(ie.static_len+=Be*(Ve[2*he+1]+Se)));if(cr!==0){do{for(pe=ut-1;ie.bl_count[pe]===0;)pe--;ie.bl_count[pe]--,ie.bl_count[pe+1]+=2,ie.bl_count[ut]--,cr-=2}while(0<cr);for(pe=ut;pe!==0;pe--)for(he=ie.bl_count[pe];he!==0;)De<(Ee=ie.heap[--le])||(je[2*Ee+1]!==pe&&(ie.opt_len+=(pe-je[2*Ee+1])*je[2*Ee],je[2*Ee+1]=pe),he--)}}(G,q),te(ee,W,G.bl_count)}function k(G,q,oe){var re,Z,ee=-1,ue=q[1],fe=0,ce=7,W=4;for(ue===0&&(ce=138,W=3),q[2*(oe+1)+1]=65535,re=0;re<=oe;re++)Z=ue,ue=q[2*(re+1)+1],++fe<ce&&Z===ue||(fe<W?G.bl_tree[2*Z]+=fe:Z!==0?(Z!==ee&&G.bl_tree[2*Z]++,G.bl_tree[2*x]++):fe<=10?G.bl_tree[2*w]++:G.bl_tree[2*E]++,ee=Z,W=(fe=0)===ue?(ce=138,3):Z===ue?(ce=6,3):(ce=7,4))}function K(G,q,oe){var re,Z,ee=-1,ue=q[1],fe=0,ce=7,W=4;for(ue===0&&(ce=138,W=3),re=0;re<=oe;re++)if(Z=ue,ue=q[2*(re+1)+1],!(++fe<ce&&Z===ue)){if(fe<W)for(;V(G,Z,G.bl_tree),--fe!=0;);else Z!==0?(Z!==ee&&(V(G,Z,G.bl_tree),fe--),V(G,x,G.bl_tree),H(G,fe-3,2)):fe<=10?(V(G,w,G.bl_tree),H(G,fe-3,3)):(V(G,E,G.bl_tree),H(G,fe-11,7));ee=Z,W=(fe=0)===ue?(ce=138,3):Z===ue?(ce=6,3):(ce=7,4)}}l(z);var ne=!1;function U(G,q,oe,re){H(G,(u<<1)+(re?1:0),3),function(Z,ee,ue,fe){Y(Z),J(Z,ue),J(Z,~ue),a.arraySet(Z.pending_buf,Z.window,ee,ue,Z.pending),Z.pending+=ue}(G,q,oe)}i._tr_init=function(G){ne||(function(){var q,oe,re,Z,ee,ue=new Array(m+1);for(Z=re=0;Z<c-1;Z++)for(B[Z]=re,q=0;q<1<<_[Z];q++)S[re++]=Z;for(S[re-1]=Z,Z=ee=0;Z<16;Z++)for(z[Z]=ee,q=0;q<1<<T[Z];q++)I[ee++]=Z;for(ee>>=7;Z<f;Z++)for(z[Z]=ee<<7,q=0;q<1<<T[Z]-7;q++)I[256+ee++]=Z;for(oe=0;oe<=m;oe++)ue[oe]=0;for(q=0;q<=143;)M[2*q+1]=8,q++,ue[8]++;for(;q<=255;)M[2*q+1]=9,q++,ue[9]++;for(;q<=279;)M[2*q+1]=7,q++,ue[7]++;for(;q<=287;)M[2*q+1]=8,q++,ue[8]++;for(te(M,d+1,ue),q=0;q<f;q++)R[2*q+1]=5,R[2*q]=X(q,5);L=new $(M,_,h+1,d,m),N=new $(R,T,0,f,m),F=new $(new Array(0),C,0,p,y)}(),ne=!0),G.l_desc=new O(G.dyn_ltree,L),G.d_desc=new O(G.dyn_dtree,N),G.bl_desc=new O(G.bl_tree,F),G.bi_buf=0,G.bi_valid=0,Q(G)},i._tr_stored_block=U,i._tr_flush_block=function(G,q,oe,re){var Z,ee,ue=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=function(fe){var ce,W=4093624447;for(ce=0;ce<=31;ce++,W>>>=1)if(1&W&&fe.dyn_ltree[2*ce]!==0)return s;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return o;for(ce=32;ce<h;ce++)if(fe.dyn_ltree[2*ce]!==0)return o;return s}(G)),ge(G,G.l_desc),ge(G,G.d_desc),ue=function(fe){var ce;for(k(fe,fe.dyn_ltree,fe.l_desc.max_code),k(fe,fe.dyn_dtree,fe.d_desc.max_code),ge(fe,fe.bl_desc),ce=p-1;3<=ce&&fe.bl_tree[2*P[ce]+1]===0;ce--);return fe.opt_len+=3*(ce+1)+5+5+4,ce}(G),Z=G.opt_len+3+7>>>3,(ee=G.static_len+3+7>>>3)<=Z&&(Z=ee)):Z=ee=oe+5,oe+4<=Z&&q!==-1?U(G,q,oe,re):G.strategy===4||ee===Z?(H(G,2+(re?1:0),3),ve(G,M,R)):(H(G,4+(re?1:0),3),function(fe,ce,W,ie){var de;for(H(fe,ce-257,5),H(fe,W-1,5),H(fe,ie-4,4),de=0;de<ie;de++)H(fe,fe.bl_tree[2*P[de]+1],3);K(fe,fe.dyn_ltree,ce-1),K(fe,fe.dyn_dtree,W-1)}(G,G.l_desc.max_code+1,G.d_desc.max_code+1,ue+1),ve(G,G.dyn_ltree,G.dyn_dtree)),Q(G),re&&Y(G)},i._tr_tally=function(G,q,oe){return G.pending_buf[G.d_buf+2*G.last_lit]=q>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&q,G.pending_buf[G.l_buf+G.last_lit]=255&oe,G.last_lit++,q===0?G.dyn_ltree[2*oe]++:(G.matches++,q--,G.dyn_ltree[2*(S[oe]+h+1)]++,G.dyn_dtree[2*j(q)]++),G.last_lit===G.lit_bufsize-1},i._tr_align=function(G){H(G,2,3),V(G,b,M),function(q){q.bi_valid===16?(J(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(G)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,h,d=1,f={},p=!1,g=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,l={}.toString.call(s.process)==="[object process]"?function(x){process.nextTick(function(){y(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,w=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=w,x}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",b,!1):s.attachEvent("onmessage",b),function(x){s.postMessage(h+x,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){y(x.data)},function(x){c.port2.postMessage(x)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(x){var w=g.createElement("script");w.onreadystatechange=function(){y(x),w.onreadystatechange=null,u.removeChild(w),w=null},u.appendChild(w)}):function(x){setTimeout(y,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var w=new Array(arguments.length-1),E=0;E<w.length;E++)w[E]=arguments[E+1];var _={callback:x,args:w};return f[d]=_,l(d),d++},m.clearImmediate=v}function v(x){delete f[x]}function y(x){if(p)setTimeout(y,0,x);else{var w=f[x];if(w){p=!0;try{(function(E){var _=E.callback,T=E.args;switch(T.length){case 0:_();break;case 1:_(T[0]);break;case 2:_(T[0],T[1]);break;case 3:_(T[0],T[1],T[2]);break;default:_.apply(o,T)}})(w)}finally{v(x),p=!1}}}}function b(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(h)===0&&y(+x.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(FU);var Yre=FU.exports;const zU=Rl(Yre);var jU={exports:{}};(function(t,e){(function(r,n){n()})(ir,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,h){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){l(d.response,c,h)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ir=="object"&&ir.global===ir?ir:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,h){var d=s.URL||s.webkitURL,f=document.createElement("a");c=c||u.name||"download",f.download=c,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?a(f):i(f.href)?n(u,c,h):a(f,f.target="_blank")):(f.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(f.href)},4e4),setTimeout(function(){a(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),c);else if(i(u))n(u,c,h);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){a(d)})}}:function(u,c,h,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,h);var f=u.type==="application/octet-stream",p=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||f&&p||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var b=m.result;b=g?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=b:location=b,d=null},m.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,y=v.createObjectURL(u);d?d.location=y:location.href=y,d=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});s.saveAs=l.saveAs=l,t.exports=l})})(jU);var Kre=jU.exports;const Zre={[Ht.WhiteSpace]:/^\s+/,[Ht.LeftBracket]:/^\[/,[Ht.RightBracket]:/^]/,[Ht.Identifier]:/^#\w+/,[Ht.String]:/^"([^"]*)"/,[Ht.Number]:/^[-]?\d+/,[Ht.Comma]:/^,/,[Ht.Colon]:/^:/};function Qre(t){const e=[];let r=0,n=Yk(t,r);for(;n;)e.push(n),t=t.slice(n.fullMatch.length,t.length),r+=n.fullMatch.length,n=Yk(t,r);const i={tokens:e.filter(a=>a.type!==Ht.WhiteSpace)};return t!==""&&(i.errorIndex=r),i}function Yk(t,e){const r=Object.entries(Zre);for(const[n,i]of r){const a=t.match(i);if(!a)continue;const s=a[0];let o=s;const l=parseInt(n);return l===Ht.String&&(o=a[1]),{index:e,type:l,fullMatch:s,groupMatch:o}}return null}function lR(t){let e=t[0];switch(e.type){case Ht.LeftBracket:return t[1].type===Ht.Identifier&&t[2].type===Ht.Colon?Jre(t):ene(t);case Ht.Identifier:return[{value:e.fullMatch,type:ye.Identifier},t.slice(1)];case Ht.String:return[{value:e.groupMatch,type:ye.String},t.slice(1)];case Ht.Number:return[{value:Number(e.fullMatch),type:ye.Number},t.slice(1)];default:throw new Error("Unexpected token type: "+e.type)}}function Jre(t){let e=[];for(t=t.slice(1);t[0].type!==Ht.RightBracket;){let r=t[0];t=t.slice(2);let[n,i]=lR(t);e.push({key:{value:r.fullMatch,type:ye.Identifier},value:n}),t=i,t[0].type===Ht.Comma&&(t=t.slice(1))}return[{properties:e,type:ye.Object},t.slice(1)]}function ene(t){let e=[];for(t=t.slice(1);t[0].type!==Ht.RightBracket;){let[r,n]=lR(t);e.push(r),t=n,t[0].type===Ht.Comma&&(t=t.slice(1))}return[{children:e,type:ye.Array},t.slice(1)]}function tne(t){const e=Qre(t),r={value:{children:[],type:ye.Array}};if(e.errorIndex&&(r.lexError="Error lexing character at index: "+e.errorIndex),e.tokens.length)try{r.value=lR(e.tokens)[0]}catch(n){r.parseError=n}return r}function rne(t){const e=tne(t);if(e.value.type===ye.Array)return nne(e.value)}function nne(t){const e={metadata:{dataType:yf.Metadata,roomid:"",roomStatus:0},objects:[]};for(const r of t.children)r.type===ye.Object&&(r.properties.some(n=>n.key.value.includes("roomid"))?e.metadata=ine(r):e.objects.push(dne(r)));return e}function ine(t){const e={dataType:yf.Metadata,roomid:"",roomStatus:0};for(const r of t.properties){const n=r.key.value,i=r.value;n==="#roomid"&&i.type==ye.String&&(e.roomid=i.value),n==="#roomStatus"&&i.type===ye.Number&&(e.roomStatus=i.value)}return e}function ane(t){const e={U:0,d:0,L:0,R:0,COND:Pn.Auto,TIMEA:0,TIMEB:0};for(const r of t.properties){const n=r.key.value,i=r.value;if(i.type===ye.Number)switch(n){case"#U":e.U=i.value;break;case"#d":e.d=i.value;break;case"#L":e.L=i.value;break;case"#R":e.R=i.value;break;case"#COND":e.COND=i.value;break;case"#TIMEA":e.TIMEA=i.value;break;case"#TIMEB":e.TIMEB=i.value;break}}return e}function sne(t){const e={item:{name:"",type:bt.FLOR,visi:{visiObj:"",visiAct:"",inviObj:"",inviAct:""},COND:[]},move:{U:0,d:0,L:0,R:0,COND:Pn.Auto,TIMEA:0,TIMEB:0},message:[]};for(const r of t.properties){const n=r.key.value,i=r.value;n==="#message"&&i.type===ye.Array&&(e.message=cne(i)),n==="#move"&&i.type===ye.Object&&(e.move=ane(i)),n==="#item"&&i.type===ye.Object&&(e.item=one(i))}return e}function one(t){const e={name:"",type:bt.ITEM,visi:{visiObj:"",visiAct:"",inviObj:"",inviAct:""},COND:[]};for(const r of t.properties){const n=r.key.value,i=r.value;n==="#name"&&i.type===ye.String&&(e.name=i.value),n==="#type"&&i.type===ye.Identifier&&(e.type=i.value),n==="#visi"&&i.type===ye.Object&&(e.visi=lne(i)),n==="#COND"&&i.type===ye.Array&&(e.COND=une(i))}return e}function lne(t){const e={visiObj:"",visiAct:"",inviObj:"",inviAct:""};for(const r of t.properties){const n=r.key.value,i=r.value;n==="#visiObj"&&i.type===ye.String&&(e.visiObj=i.value),n==="#visiAct"&&i.type===ye.String&&(e.visiAct=i.value),n==="#inviObj"&&i.type===ye.String&&(e.inviObj=i.value),n==="#inviAct"&&i.type===ye.String&&(e.inviAct=i.value)}return e}function une(t){const e=[];for(const r of t.children){if(r.type!==ye.Object)continue;const n=r,i={hasObj:"",hasAct:"",giveObj:"",giveAct:""};for(const a of n.properties){const s=a.key.value,o=a.value;if(o.type===ye.String)switch(s){case"#hasObj":i.hasObj=o.value;break;case"#hasAct":i.hasAct=o.value;break;case"#giveObj":i.giveObj=o.value;break;case"#giveAct":i.giveAct=o.value;break}}e.push(i)}return e}function cne(t){const e=[];for(const r of t.children){if(r.type!==ye.Object)continue;const n={text:"",plrObj:"",plrAct:""};for(const i of r.properties){const a=i.key.value,s=i.value;s.type===ye.String&&(a==="#text"&&(n.text=s.value),a==="#plrObj"&&(n.plrObj=s.value),a==="#plrAct"&&(n.plrAct=s.value))}e.push(n)}return e}function hne(t){const e={x:0,y:0};for(const[r,n]of t.children.entries())n.type===ye.Number&&(r===0&&(e.x=n.value),r===1&&(e.y=n.value));return e}function dne(t){const e=DU();for(const r of t.properties){const n=r.key.value,i=r.value;switch(i.type){case ye.Identifier:{switch(n){case"#type":e.type=i.value;break}break}case ye.String:{switch(n){case"#member":e.member=i.value;break}break}case ye.Number:{switch(n){case"#width":e.width=i.value;break;case"#height":e.height=i.value;break;case"#WSHIFT":e.WSHIFT=i.value;break;case"#HSHIFT":e.HSHIFT=i.value;break}break}case ye.Array:{switch(n){case"#location":e.location=hne(i);break}break}case ye.Object:{switch(n){case"#data":e.data=sne(i);break}break}}}return e}const UU="map-o-matic.json",$U="map.data";function fne(t){const e=new zU;e.file(UU,JSON.stringify(t.metadata));for(const r of t.maps){if(!r.data)continue;const n=NU(r.data),i=vm(n,!1,!1),a=`${$U}/${r.filename}.txt`;e.file(a,i)}for(const r of t.images)e.file(r.path+r.filename+".png",r.originalData);e.generateAsync({type:"blob"}).then(r=>{Kre.saveAs(r,t.metadata.name+".zip")})}async function pne(t){const r=await(await fetch(t)).blob();return await GU(r)}async function vne(t){return await GU(t)}async function GU(t){const e=await zU.loadAsync(t),r=iR();r.metadata.name="",r.metadata.author="";const n=e.file(UU);if(n){const i=await n.async("text");r.metadata=JSON.parse(i)}return r.maps=await Promise.all(Object.entries(e.files).sort(([i],[a])=>i.localeCompare(a)).filter(([i,a])=>i.includes($U)&&!a.dir&&!i.includes("__MACOSX")&&!i.includes(".DS_Store")).map(async([i,a])=>{var u;const s=await a.async("text"),o=rne(s.trim()),l=OU();return l.filename=(u=i.split("/").at(-1))==null?void 0:u.split(".").slice(0,-1).join("."),l.file_text=s,o&&(l.data=o),l})),r.images=await Promise.all(e.file(/\.png$/).filter(i=>!i.name.includes("__MACOSX")).map(async i=>{const a=await i.async("blob"),s=await HU(a),o=wre(i.name);return{data:s,originalData:a,filename:o.split(".png").at(0)??"",path:i.name.replace(o,""),randomId:crypto.randomUUID()}})),r}async function HU(t){const e=new Image;return e.src=URL.createObjectURL(t),new Promise((r,n)=>{e.onload=()=>{const i=document.createElement("canvas"),a=i.getContext("2d");i.width=e.width,i.height=e.height,a.drawImage(e,0,0);const s=a.getImageData(0,0,i.width,i.height),o=s.data;for(let l=0;l<o.length;l+=4)o[l]===255&&o[l+1]===255&&o[l+2]===255&&(o[l+3]=0);a.putImageData(s,0,0),i.toBlob(l=>{l?r(l):n(new Error("Blob creation failed."))},"image/png")},e.onerror=i=>{n(i)}})}const mne=[{title:"Episode 1: Pool Problems",filename:"1.zip"},{title:"Episode 2: Tennis Menace",filename:"2.zip"},{title:"Episode 3: Vivian vs. the Volcano",filename:"3.zip"},{title:"Episode 4: Disco Dilemma",filename:"4.zip"},{title:"Scooby Doo and the Hollywood Horror: Part 1",filename:"scooby-1.zip"},{title:"Scooby Doo and the Hollywood Horror: Part 2",filename:"scooby-2.zip"}],gne=mne.map(t=>({label:t.title,value:t.filename}));function Kk(){const[t,{open:e,close:r}]=Zs(!1),{project:n,updateProject:i}=Gi(),a=Kg();function s(){fne(n)}function o(c){c.value&&pne(c.value).then(h=>{var d;h.metadata.author="Funny Garbage",h.metadata.name=c.label,h.maps.filter(f=>f.filename.length!==4).forEach(f=>f.render.showMap=!1),h.state.selectedMap=((d=h.maps.at(0))==null?void 0:d.random_id)??null,i(h,!0),r(),a(Zm.MapEditor)})}function l(c){c&&vne(c).then(h=>{var d;h.state.selectedMap=((d=h.maps.at(0))==null?void 0:d.random_id)??null,i(h,!0),r(),a(Zm.MapEditor)})}function u(){confirm("Are you sure you want to erase all data and start new?")&&i(iR(),!0)}return A.jsx(A.Fragment,{children:A.jsxs("div",{children:[A.jsxs(zr,{children:[A.jsxs(at,{gap:10,children:[A.jsx(ei,{color:"gray",onClick:e,rightSection:A.jsx(dte,{}),children:"Load Project"}),A.jsx(ei,{color:"green",onClick:s,rightSection:A.jsx(Kee,{}),children:"Save Project"}),A.jsx(ei,{onClick:u,rightSection:A.jsx(vU,{}),children:"New Project"})]}),A.jsxs("div",{children:[A.jsx(Dt.Wrapper,{label:"Project Name",children:A.jsx(Dt,{value:n.metadata.name,onChange:c=>i({...n,metadata:{...n.metadata,name:c.target.value}},!1,!1)})}),A.jsx(Dt.Wrapper,{label:"Author",children:A.jsx(Dt,{value:n.metadata.author,onChange:c=>i({...n,metadata:{...n.metadata,author:c.target.value}},!1,!1)})})]})]}),A.jsx(Wr,{size:"xl",opened:t,onClose:r,title:"Load Project",children:A.jsxs(at,{grow:!0,justify:"center",children:[A.jsx("div",{children:A.jsx(dc,{label:"Choose from an Existing Project",placeholder:"Select a project",data:gne,onChange:(c,h)=>o(h)})}),A.jsx("div",{children:A.jsx(RQ,{label:"Or Upload .ZIP File",multiple:!1,accept:".zip",placeholder:"Select ZIP Project File",onChange:l})})]})})]})})}var Bl=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Bl||{}),VU=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(VU||{}),PC=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(PC||{}),He=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(He||{}),da=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(da||{}),_e=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(_e||{}),Hu=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Hu||{}),Fe=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Fe||{}),Pe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Pe||{}),fa=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(fa||{}),Js=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Js||{}),_a=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(_a||{}),dn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(dn||{}),oa=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(oa||{}),uR=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(uR||{}),Kn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Kn||{}),Jt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Jt||{}),qt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qt||{}),xa=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(xa||{});const yne={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Ae={ADAPTER:yne,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var q0=/iPhone/i,Zk=/iPod/i,Qk=/iPad/i,Jk=/\biOS-universal(?:.+)Mac\b/i,X0=/\bAndroid(?:.+)Mobile\b/i,eM=/Android/i,Kl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,dp=/Silk/i,ka=/Windows Phone/i,tM=/\bWindows(?:.+)ARM\b/i,rM=/BlackBerry/i,nM=/BB10/i,iM=/Opera Mini/i,aM=/\b(CriOS|Chrome)(?:.+)Mobile/i,sM=/Mobile(?:.+)Firefox\b/i,oM=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function bne(t){return function(e){return e.test(t)}}function lM(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=bne(r),a={apple:{phone:i(q0)&&!i(ka),ipod:i(Zk),tablet:!i(q0)&&(i(Qk)||oM(e))&&!i(ka),universal:i(Jk),device:(i(q0)||i(Zk)||i(Qk)||i(Jk)||oM(e))&&!i(ka)},amazon:{phone:i(Kl),tablet:!i(Kl)&&i(dp),device:i(Kl)||i(dp)},android:{phone:!i(ka)&&i(Kl)||!i(ka)&&i(X0),tablet:!i(ka)&&!i(Kl)&&!i(X0)&&(i(dp)||i(eM)),device:!i(ka)&&(i(Kl)||i(dp)||i(X0)||i(eM))||i(/\bokhttp\b/i)},windows:{phone:i(ka),tablet:i(tM),device:i(ka)||i(tM)},other:{blackberry:i(rM),blackberry10:i(nM),opera:i(iM),firefox:i(sM),chrome:i(aM),device:i(rM)||i(nM)||i(iM)||i(sM)||i(aM)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const xne=lM.default??lM,Ua=xne(globalThis.navigator);Ae.RETINA_PREFIX=/@([0-9\.]+)x/;Ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var WU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},o.prototype.listenerCount=function(u){var c=r?r+u:u,h=this._events[c];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,c,h,d,f,p){var g=r?r+u:u;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,y,b;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,h),!0;case 4:return m.fn.call(m.context,c,h,d),!0;case 5:return m.fn.call(m.context,c,h,d,f),!0;case 6:return m.fn.call(m.context,c,h,d,f,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];m.fn.apply(m.context,y)}else{var x=m.length,w;for(b=0;b<x;b++)switch(m[b].once&&this.removeListener(u,m[b].fn,void 0,!0),v){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,c);break;case 3:m[b].fn.call(m[b].context,c,h);break;case 4:m[b].fn.call(m[b].context,c,h,d);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];m[b].fn.apply(m[b].context,y)}}return!0},o.prototype.on=function(u,c,h){return a(this,u,c,h,!1)},o.prototype.once=function(u,c,h){return a(this,u,c,h,!0)},o.prototype.removeListener=function(u,c,h,d){var f=r?r+u:u;if(!this._events[f])return this;if(!c)return s(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&s(this,f);else{for(var g=0,m=[],v=p.length;g<v;g++)(p[g].fn!==c||d&&!p[g].once||h&&p[g].context!==h)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(WU);var wne=WU.exports;const xf=Rl(wne);var cR={exports:{}};cR.exports=ty;cR.exports.default=ty;function ty(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=qU(t,0,i,r,!0),s=[];if(!a||a.next===a.prev)return s;var o,l,u,c,h,d,f;if(n&&(a=Tne(t,e,a,r)),t.length>80*r){o=u=t[0],l=c=t[1];for(var p=r;p<i;p+=r)h=t[p],d=t[p+1],h<o&&(o=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-o,c-l),f=f!==0?32767/f:0}return Fd(a,s,r,o,l,f,0),s}function qU(t,e,r,n,i){var a,s;if(i===MC(t,e,r,n)>0)for(a=e;a<r;a+=n)s=uM(a,t[a],t[a+1],s);else for(a=r-n;a>=e;a-=n)s=uM(a,t[a],t[a+1],s);return s&&ry(s,s.next)&&(jd(s),s=s.next),s}function yl(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(ry(r,r.next)||Mt(r.prev,r,r.next)===0)){if(jd(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Fd(t,e,r,n,i,a,s){if(t){!s&&a&&kne(t,n,i,a);for(var o=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,a?Ene(t,n,i,a):_ne(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),jd(t),t=u.next,o=u.next;continue}if(t=u,t===o){s?s===1?(t=Sne(yl(t),e,r),Fd(t,e,r,n,i,a,2)):s===2&&Cne(t,e,r,n,i,a):Fd(yl(t),e,r,n,i,a,1);break}}}}function _ne(t){var e=t.prev,r=t,n=t.next;if(Mt(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,s=n.x,o=e.y,l=r.y,u=n.y,c=i<a?i<s?i:s:a<s?a:s,h=o<l?o<u?o:u:l<u?l:u,d=i>a?i>s?i:s:a>s?a:s,f=o>l?o>u?o:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Ru(i,o,a,l,s,u,p.x,p.y)&&Mt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ene(t,e,r,n){var i=t.prev,a=t,s=t.next;if(Mt(i,a,s)>=0)return!1;for(var o=i.x,l=a.x,u=s.x,c=i.y,h=a.y,d=s.y,f=o<l?o<u?o:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,g=o>l?o>u?o:u:l>u?l:u,m=c>h?c>d?c:d:h>d?h:d,v=IC(f,p,e,r,n),y=IC(g,m,e,r,n),b=t.prevZ,x=t.nextZ;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=g&&b.y>=p&&b.y<=m&&b!==i&&b!==s&&Ru(o,c,l,h,u,d,b.x,b.y)&&Mt(b.prev,b,b.next)>=0||(b=b.prevZ,x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==i&&x!==s&&Ru(o,c,l,h,u,d,x.x,x.y)&&Mt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=g&&b.y>=p&&b.y<=m&&b!==i&&b!==s&&Ru(o,c,l,h,u,d,b.x,b.y)&&Mt(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==i&&x!==s&&Ru(o,c,l,h,u,d,x.x,x.y)&&Mt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Sne(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!ry(i,a)&&XU(i,n,n.next,a)&&zd(i,a)&&zd(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),jd(n),jd(n.next),n=t=a),n=n.next}while(n!==t);return yl(n)}function Cne(t,e,r,n,i,a){var s=t;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&One(s,o)){var l=YU(s,o);s=yl(s,s.next),l=yl(l,l.next),Fd(s,e,r,n,i,a,0),Fd(l,e,r,n,i,a,0);return}o=o.next}s=s.next}while(s!==t)}function Tne(t,e,r,n){var i=[],a,s,o,l,u;for(a=0,s=e.length;a<s;a++)o=e[a]*n,l=a<s-1?e[a+1]*n:t.length,u=qU(t,o,l,n,!1),u===u.next&&(u.steiner=!0),i.push(Dne(u));for(i.sort(Ane),a=0;a<i.length;a++)r=Rne(i[a],r);return r}function Ane(t,e){return t.x-e.x}function Rne(t,e){var r=Pne(t,e);if(!r)return e;var n=YU(r,t);return yl(n,n.next),yl(r,r.next)}function Pne(t,e){var r=e,n=t.x,i=t.y,a=-1/0,s;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>a&&(a=o,s=r.x<r.next.x?r:r.next,o===n))return s}r=r.next}while(r!==e);if(!s)return null;var l=s,u=s.x,c=s.y,h=1/0,d;r=s;do n>=r.x&&r.x>=u&&n!==r.x&&Ru(i<c?n:a,i,u,c,i<c?a:n,i,r.x,r.y)&&(d=Math.abs(i-r.y)/(n-r.x),zd(r,t)&&(d<h||d===h&&(r.x>s.x||r.x===s.x&&Ine(s,r)))&&(s=r,h=d)),r=r.next;while(r!==l);return s}function Ine(t,e){return Mt(t.prev,t,e.prev)<0&&Mt(e.next,t,t.next)<0}function kne(t,e,r,n){var i=t;do i.z===0&&(i.z=IC(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Mne(i)}function Mne(t){var e,r,n,i,a,s,o,l,u=1;do{for(r=t,t=null,a=null,s=0;r;){for(s++,n=r,o=0,e=0;e<u&&(o++,n=n.nextZ,!!n);e++);for(l=u;o>0||l>0&&n;)o!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,o--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,u*=2}while(s>1);return t}function IC(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Dne(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ru(t,e,r,n,i,a,s,o){return(i-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(n-o)>=(r-s)*(e-o)&&(r-s)*(a-o)>=(i-s)*(n-o)}function One(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Nne(t,e)&&(zd(t,e)&&zd(e,t)&&Lne(t,e)&&(Mt(t.prev,t,e.prev)||Mt(t,e.prev,e))||ry(t,e)&&Mt(t.prev,t,t.next)>0&&Mt(e.prev,e,e.next)>0)}function Mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function ry(t,e){return t.x===e.x&&t.y===e.y}function XU(t,e,r,n){var i=pp(Mt(t,e,r)),a=pp(Mt(t,e,n)),s=pp(Mt(r,n,t)),o=pp(Mt(r,n,e));return!!(i!==a&&s!==o||i===0&&fp(t,r,e)||a===0&&fp(t,n,e)||s===0&&fp(r,t,n)||o===0&&fp(r,e,n))}function fp(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function pp(t){return t>0?1:t<0?-1:0}function Nne(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&XU(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function zd(t,e){return Mt(t.prev,t,t.next)<0?Mt(t,e,t.next)>=0&&Mt(t,t.prev,e)>=0:Mt(t,e,t.prev)<0||Mt(t,t.next,e)<0}function Lne(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function YU(t,e){var r=new kC(t.i,t.x,t.y),n=new kC(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function uM(t,e,r,n){var i=new kC(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function jd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kC(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ty.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,s=Math.abs(MC(t,0,a,r));if(i)for(var o=0,l=e.length;o<l;o++){var u=e[o]*r,c=o<l-1?e[o+1]*r:t.length;s-=Math.abs(MC(t,u,c,r))}var h=0;for(o=0;o<n.length;o+=3){var d=n[o]*r,f=n[o+1]*r,p=n[o+2]*r;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return s===0&&h===0?0:Math.abs((h-s)/s)};function MC(t,e,r,n){for(var i=0,a=e,s=r-n;a<r;a+=n)i+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return i}ty.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var s=0;s<e;s++)r.vertices.push(t[i][a][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Bne=cR.exports;const Fne=Rl(Bne);var mm={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */mm.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof ir=="object"&&ir;(a.global===a||a.window===a||a.self===a)&&(r=a);var s,o=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,g="-",m=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,w=Math.floor,E=String.fromCharCode,_;function T($){throw new RangeError(b[$])}function C($,O){for(var j=$.length,J=[];j--;)J[j]=O($[j]);return J}function P($,O){var j=$.split("@"),J="";j.length>1&&(J=j[0]+"@",$=j[1]),$=$.replace(y,".");var H=$.split("."),V=C(H,O).join(".");return J+V}function M($){for(var O=[],j=0,J=$.length,H,V;j<J;)H=$.charCodeAt(j++),H>=55296&&H<=56319&&j<J?(V=$.charCodeAt(j++),(V&64512)==56320?O.push(((H&1023)<<10)+(V&1023)+65536):(O.push(H),j--)):O.push(H);return O}function R($){return C($,function(O){var j="";return O>65535&&(O-=65536,j+=E(O>>>10&1023|55296),O=56320|O&1023),j+=E(O),j}).join("")}function I($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:l}function S($,O){return $+22+75*($<26)-((O!=0)<<5)}function B($,O,j){var J=0;for($=j?w($/d):$>>1,$+=w($/O);$>x*c>>1;J+=l)$=w($/x);return w(J+(x+1)*$/($+h))}function L($){var O=[],j=$.length,J,H=0,V=p,X=f,te,Q,Y,ae,se,ve,ge,k,K;for(te=$.lastIndexOf(g),te<0&&(te=0),Q=0;Q<te;++Q)$.charCodeAt(Q)>=128&&T("not-basic"),O.push($.charCodeAt(Q));for(Y=te>0?te+1:0;Y<j;){for(ae=H,se=1,ve=l;Y>=j&&T("invalid-input"),ge=I($.charCodeAt(Y++)),(ge>=l||ge>w((o-H)/se))&&T("overflow"),H+=ge*se,k=ve<=X?u:ve>=X+c?c:ve-X,!(ge<k);ve+=l)K=l-k,se>w(o/K)&&T("overflow"),se*=K;J=O.length+1,X=B(H-ae,J,ae==0),w(H/J)>o-V&&T("overflow"),V+=w(H/J),H%=J,O.splice(H++,0,V)}return R(O)}function N($){var O,j,J,H,V,X,te,Q,Y,ae,se,ve=[],ge,k,K,ne;for($=M($),ge=$.length,O=p,j=0,V=f,X=0;X<ge;++X)se=$[X],se<128&&ve.push(E(se));for(J=H=ve.length,H&&ve.push(g);J<ge;){for(te=o,X=0;X<ge;++X)se=$[X],se>=O&&se<te&&(te=se);for(k=J+1,te-O>w((o-j)/k)&&T("overflow"),j+=(te-O)*k,O=te,X=0;X<ge;++X)if(se=$[X],se<O&&++j>o&&T("overflow"),se==O){for(Q=j,Y=l;ae=Y<=V?u:Y>=V+c?c:Y-V,!(Q<ae);Y+=l)ne=Q-ae,K=l-ae,ve.push(E(S(ae+ne%K,0))),Q=w(ne/K);ve.push(E(S(Q,0))),V=B(j,k,J==H),j=0,++J}++j,++O}return ve.join("")}function F($){return P($,function(O){return m.test(O)?L(O.slice(4).toLowerCase()):O})}function z($){return P($,function(O){return v.test(O)?"xn--"+N(O):O})}if(s={version:"1.4.1",ucs2:{decode:M,encode:R},decode:L,encode:N,toASCII:z,toUnicode:F},n&&i)if(t.exports==n)i.exports=s;else for(_ in s)s.hasOwnProperty(_)&&(n[_]=s[_]);else r.punycode=s})(ir)})(mm,mm.exports);var zne=mm.exports,jne=Error,Une=EvalError,$ne=RangeError,Gne=ReferenceError,KU=SyntaxError,wf=TypeError,Hne=URIError,Vne=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},cM=typeof Symbol<"u"&&Symbol,Wne=Vne,qne=function(){return typeof cM!="function"||typeof Symbol!="function"||typeof cM("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Wne()},Y0={__proto__:null,foo:{}},Xne=Object,Yne=function(){return{__proto__:Y0}.foo===Y0.foo&&!(Y0 instanceof Xne)},Kne="Function.prototype.bind called on incompatible ",Zne=Object.prototype.toString,Qne=Math.max,Jne="[object Function]",hM=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},eie=function(e,r){for(var n=[],i=r,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},tie=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},rie=function(e){var r=this;if(typeof r!="function"||Zne.apply(r)!==Jne)throw new TypeError(Kne+r);for(var n=eie(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,hM(n,arguments));return Object(c)===c?c:this}return r.apply(e,hM(n,arguments))},s=Qne(0,r.length-n.length),o=[],l=0;l<s;l++)o[l]="$"+l;if(i=Function("binder","return function ("+tie(o,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},nie=rie,hR=Function.prototype.bind||nie,iie=Function.prototype.call,aie=Object.prototype.hasOwnProperty,sie=hR,oie=sie.call(iie,aie),Qe,lie=jne,uie=Une,cie=$ne,hie=Gne,vc=KU,Vu=wf,die=Hne,ZU=Function,K0=function(t){try{return ZU('"use strict"; return ('+t+").constructor;")()}catch{}},sl=Object.getOwnPropertyDescriptor;if(sl)try{sl({},"")}catch{sl=null}var Z0=function(){throw new Vu},fie=sl?function(){try{return arguments.callee,Z0}catch{try{return sl(arguments,"callee").get}catch{return Z0}}}():Z0,Zl=qne(),pie=Yne(),vr=Object.getPrototypeOf||(pie?function(t){return t.__proto__}:null),lu={},vie=typeof Uint8Array>"u"||!vr?Qe:vr(Uint8Array),ol={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Qe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Qe:ArrayBuffer,"%ArrayIteratorPrototype%":Zl&&vr?vr([][Symbol.iterator]()):Qe,"%AsyncFromSyncIteratorPrototype%":Qe,"%AsyncFunction%":lu,"%AsyncGenerator%":lu,"%AsyncGeneratorFunction%":lu,"%AsyncIteratorPrototype%":lu,"%Atomics%":typeof Atomics>"u"?Qe:Atomics,"%BigInt%":typeof BigInt>"u"?Qe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Qe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Qe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Qe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":lie,"%eval%":eval,"%EvalError%":uie,"%Float32Array%":typeof Float32Array>"u"?Qe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Qe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Qe:FinalizationRegistry,"%Function%":ZU,"%GeneratorFunction%":lu,"%Int8Array%":typeof Int8Array>"u"?Qe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Qe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Qe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zl&&vr?vr(vr([][Symbol.iterator]())):Qe,"%JSON%":typeof JSON=="object"?JSON:Qe,"%Map%":typeof Map>"u"?Qe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zl||!vr?Qe:vr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Qe:Promise,"%Proxy%":typeof Proxy>"u"?Qe:Proxy,"%RangeError%":cie,"%ReferenceError%":hie,"%Reflect%":typeof Reflect>"u"?Qe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Qe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zl||!vr?Qe:vr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Qe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zl&&vr?vr(""[Symbol.iterator]()):Qe,"%Symbol%":Zl?Symbol:Qe,"%SyntaxError%":vc,"%ThrowTypeError%":fie,"%TypedArray%":vie,"%TypeError%":Vu,"%Uint8Array%":typeof Uint8Array>"u"?Qe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Qe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Qe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Qe:Uint32Array,"%URIError%":die,"%WeakMap%":typeof WeakMap>"u"?Qe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Qe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Qe:WeakSet};if(vr)try{null.error}catch(t){var mie=vr(vr(t));ol["%Error.prototype%"]=mie}var gie=function t(e){var r;if(e==="%AsyncFunction%")r=K0("async function () {}");else if(e==="%GeneratorFunction%")r=K0("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=K0("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&vr&&(r=vr(i.prototype))}return ol[e]=r,r},dM={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_f=hR,gm=oie,yie=_f.call(Function.call,Array.prototype.concat),bie=_f.call(Function.apply,Array.prototype.splice),fM=_f.call(Function.call,String.prototype.replace),ym=_f.call(Function.call,String.prototype.slice),xie=_f.call(Function.call,RegExp.prototype.exec),wie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_ie=/\\(\\)?/g,Eie=function(e){var r=ym(e,0,1),n=ym(e,-1);if(r==="%"&&n!=="%")throw new vc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new vc("invalid intrinsic syntax, expected opening `%`");var i=[];return fM(e,wie,function(a,s,o,l){i[i.length]=o?fM(l,_ie,"$1"):s||a}),i},Sie=function(e,r){var n=e,i;if(gm(dM,n)&&(i=dM[n],n="%"+i[0]+"%"),gm(ol,n)){var a=ol[n];if(a===lu&&(a=gie(n)),typeof a>"u"&&!r)throw new Vu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new vc("intrinsic "+e+" does not exist!")},Nc=function(e,r){if(typeof e!="string"||e.length===0)throw new Vu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vu('"allowMissing" argument must be a boolean');if(xie(/^%?[^%]*%?$/,e)===null)throw new vc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Eie(e),i=n.length>0?n[0]:"",a=Sie("%"+i+"%",r),s=a.name,o=a.value,l=!1,u=a.alias;u&&(i=u[0],bie(n,yie([0,1],u)));for(var c=1,h=!0;c<n.length;c+=1){var d=n[c],f=ym(d,0,1),p=ym(d,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new vc("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(l=!0),i+="."+d,s="%"+i+"%",gm(ol,s))o=ol[s];else if(o!=null){if(!(d in o)){if(!r)throw new Vu("base intrinsic for "+e+" exists, but the property is not available.");return}if(sl&&c+1>=n.length){var g=sl(o,d);h=!!g,h&&"get"in g&&!("originalValue"in g.get)?o=g.get:o=o[d]}else h=gm(o,d),o=o[d];h&&!l&&(ol[s]=o)}}return o},QU={exports:{}},Q0,pM;function dR(){if(pM)return Q0;pM=1;var t=Nc,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Q0=e,Q0}var Cie=Nc,fv=Cie("%Object.getOwnPropertyDescriptor%",!0);if(fv)try{fv([],"length")}catch{fv=null}var JU=fv,vM=dR(),Tie=KU,Ql=wf,mM=JU,Aie=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ql("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ql("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ql("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ql("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ql("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ql("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,l=!!mM&&mM(e,r);if(vM)vM(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:a===null&&l?l.writable:!a});else if(o||!i&&!a&&!s)e[r]=n;else throw new Tie("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},DC=dR(),e$=function(){return!!DC};e$.hasArrayLengthDefineBug=function(){if(!DC)return null;try{return DC([],"length",{value:1}).length!==1}catch{return!0}};var Rie=e$,Pie=Nc,gM=Aie,Iie=Rie(),yM=JU,bM=wf,kie=Pie("%Math.floor%"),Mie=function(e,r){if(typeof e!="function")throw new bM("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||kie(r)!==r)throw new bM("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&yM){var s=yM(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(a=!1)}return(i||a||!n)&&(Iie?gM(e,"length",r,!0,!0):gM(e,"length",r)),e};(function(t){var e=hR,r=Nc,n=Mie,i=wf,a=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(s,a),l=dR(),u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var f=o(e,s,arguments);return n(f,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return o(e,a,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(QU);var Die=QU.exports,t$=Nc,r$=Die,Oie=r$(t$("String.prototype.indexOf")),Nie=function(e,r){var n=t$(e,!!r);return typeof n=="function"&&Oie(e,".prototype.")>-1?r$(n):n};const Lie={},Bie=Object.freeze(Object.defineProperty({__proto__:null,default:Lie},Symbol.toStringTag,{value:"Module"})),Fie=H9(Bie);var fR=typeof Map=="function"&&Map.prototype,J0=Object.getOwnPropertyDescriptor&&fR?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bm=fR&&J0&&typeof J0.get=="function"?J0.get:null,xM=fR&&Map.prototype.forEach,pR=typeof Set=="function"&&Set.prototype,e1=Object.getOwnPropertyDescriptor&&pR?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,xm=pR&&e1&&typeof e1.get=="function"?e1.get:null,wM=pR&&Set.prototype.forEach,zie=typeof WeakMap=="function"&&WeakMap.prototype,rd=zie?WeakMap.prototype.has:null,jie=typeof WeakSet=="function"&&WeakSet.prototype,nd=jie?WeakSet.prototype.has:null,Uie=typeof WeakRef=="function"&&WeakRef.prototype,_M=Uie?WeakRef.prototype.deref:null,$ie=Boolean.prototype.valueOf,Gie=Object.prototype.toString,Hie=Function.prototype.toString,Vie=String.prototype.match,vR=String.prototype.slice,Fs=String.prototype.replace,Wie=String.prototype.toUpperCase,EM=String.prototype.toLowerCase,n$=RegExp.prototype.test,SM=Array.prototype.concat,la=Array.prototype.join,qie=Array.prototype.slice,CM=Math.floor,OC=typeof BigInt=="function"?BigInt.prototype.valueOf:null,t1=Object.getOwnPropertySymbols,NC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,mc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",$r=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===mc||!0)?Symbol.toStringTag:null,i$=Object.prototype.propertyIsEnumerable,TM=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function AM(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||n$.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-CM(-t):CM(t);if(n!==t){var i=String(n),a=vR.call(e,i.length+1);return Fs.call(i,r,"$&_")+"."+Fs.call(Fs.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Fs.call(e,r,"$&_")}var LC=Fie,RM=LC.custom,PM=s$(RM)?RM:null,Xie=function t(e,r,n,i){var a=r||{};if(Ts(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ts(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Ts(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ts(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ts(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return l$(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return o?AM(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return o?AM(e,u):u}var c=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return BC(e)?"[Array]":"[Object]";var h=dae(a,n);if(typeof i>"u")i=[];else if(o$(i,e)>=0)return"[Circular]";function d(I,S,B){if(S&&(i=qie.call(i),i.push(S)),B){var L={depth:a.depth};return Ts(a,"quoteStyle")&&(L.quoteStyle=a.quoteStyle),t(I,L,n+1,i)}return t(I,a,n+1,i)}if(typeof e=="function"&&!IM(e)){var f=nae(e),p=vp(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+la.call(p,", ")+" }":"")}if(s$(e)){var g=mc?Fs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):NC.call(e);return typeof e=="object"&&!mc?vh(g):g}if(uae(e)){for(var m="<"+EM.call(String(e.nodeName)),v=e.attributes||[],y=0;y<v.length;y++)m+=" "+v[y].name+"="+a$(Yie(v[y].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+EM.call(String(e.nodeName))+">",m}if(BC(e)){if(e.length===0)return"[]";var b=vp(e,d);return h&&!hae(b)?"["+FC(b,h)+"]":"[ "+la.call(b,", ")+" ]"}if(Zie(e)){var x=vp(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!i$.call(e,"cause")?"{ ["+String(e)+"] "+la.call(SM.call("[cause]: "+d(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+la.call(x,", ")+" }"}if(typeof e=="object"&&s){if(PM&&typeof e[PM]=="function"&&LC)return LC(e,{depth:c-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(iae(e)){var w=[];return xM&&xM.call(e,function(I,S){w.push(d(S,e,!0)+" => "+d(I,e))}),kM("Map",bm.call(e),w,h)}if(oae(e)){var E=[];return wM&&wM.call(e,function(I){E.push(d(I,e))}),kM("Set",xm.call(e),E,h)}if(aae(e))return r1("WeakMap");if(lae(e))return r1("WeakSet");if(sae(e))return r1("WeakRef");if(Jie(e))return vh(d(Number(e)));if(tae(e))return vh(d(OC.call(e)));if(eae(e))return vh($ie.call(e));if(Qie(e))return vh(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof ir<"u"&&e===ir)return"{ [object globalThis] }";if(!Kie(e)&&!IM(e)){var _=vp(e,d),T=TM?TM(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",P=!T&&$r&&Object(e)===e&&$r in e?vR.call(wo(e),8,-1):C?"Object":"",M=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",R=M+(P||C?"["+la.call(SM.call([],P||[],C||[]),": ")+"] ":"");return _.length===0?R+"{}":h?R+"{"+FC(_,h)+"}":R+"{ "+la.call(_,", ")+" }"}return String(e)};function a$(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Yie(t){return Fs.call(String(t),/"/g,"&quot;")}function BC(t){return wo(t)==="[object Array]"&&(!$r||!(typeof t=="object"&&$r in t))}function Kie(t){return wo(t)==="[object Date]"&&(!$r||!(typeof t=="object"&&$r in t))}function IM(t){return wo(t)==="[object RegExp]"&&(!$r||!(typeof t=="object"&&$r in t))}function Zie(t){return wo(t)==="[object Error]"&&(!$r||!(typeof t=="object"&&$r in t))}function Qie(t){return wo(t)==="[object String]"&&(!$r||!(typeof t=="object"&&$r in t))}function Jie(t){return wo(t)==="[object Number]"&&(!$r||!(typeof t=="object"&&$r in t))}function eae(t){return wo(t)==="[object Boolean]"&&(!$r||!(typeof t=="object"&&$r in t))}function s$(t){if(mc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!NC)return!1;try{return NC.call(t),!0}catch{}return!1}function tae(t){if(!t||typeof t!="object"||!OC)return!1;try{return OC.call(t),!0}catch{}return!1}var rae=Object.prototype.hasOwnProperty||function(t){return t in this};function Ts(t,e){return rae.call(t,e)}function wo(t){return Gie.call(t)}function nae(t){if(t.name)return t.name;var e=Vie.call(Hie.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function o$(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function iae(t){if(!bm||!t||typeof t!="object")return!1;try{bm.call(t);try{xm.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function aae(t){if(!rd||!t||typeof t!="object")return!1;try{rd.call(t,rd);try{nd.call(t,nd)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function sae(t){if(!_M||!t||typeof t!="object")return!1;try{return _M.call(t),!0}catch{}return!1}function oae(t){if(!xm||!t||typeof t!="object")return!1;try{xm.call(t);try{bm.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function lae(t){if(!nd||!t||typeof t!="object")return!1;try{nd.call(t,nd);try{rd.call(t,rd)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function uae(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function l$(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return l$(vR.call(t,0,e.maxStringLength),e)+n}var i=Fs.call(Fs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,cae);return a$(i,"single",e)}function cae(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Wie.call(e.toString(16))}function vh(t){return"Object("+t+")"}function r1(t){return t+" { ? }"}function kM(t,e,r,n){var i=n?FC(r,n):la.call(r,", ");return t+" ("+e+") {"+i+"}"}function hae(t){for(var e=0;e<t.length;e++)if(o$(t[e],`
`)>=0)return!1;return!0}function dae(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=la.call(Array(t.indent+1)," ");else return null;return{base:r,prev:la.call(Array(e+1),r)}}function FC(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+la.call(t,","+r)+`
`+e.prev}function vp(t,e){var r=BC(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ts(t,i)?e(t[i],t):""}var a=typeof t1=="function"?t1(t):[],s;if(mc){s={};for(var o=0;o<a.length;o++)s["$"+a[o]]=a[o]}for(var l in t)Ts(t,l)&&(r&&String(Number(l))===l&&l<t.length||mc&&s["$"+l]instanceof Symbol||(n$.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof t1=="function")for(var u=0;u<a.length;u++)i$.call(t,a[u])&&n.push("["+e(a[u])+"]: "+e(t[a[u]],t));return n}var u$=Nc,Lc=Nie,fae=Xie,pae=wf,mp=u$("%WeakMap%",!0),gp=u$("%Map%",!0),vae=Lc("WeakMap.prototype.get",!0),mae=Lc("WeakMap.prototype.set",!0),gae=Lc("WeakMap.prototype.has",!0),yae=Lc("Map.prototype.get",!0),bae=Lc("Map.prototype.set",!0),xae=Lc("Map.prototype.has",!0),mR=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},wae=function(t,e){var r=mR(t,e);return r&&r.value},_ae=function(t,e,r){var n=mR(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Eae=function(t,e){return!!mR(t,e)},Sae=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new pae("Side channel does not contain "+fae(a))},get:function(a){if(mp&&a&&(typeof a=="object"||typeof a=="function")){if(e)return vae(e,a)}else if(gp){if(r)return yae(r,a)}else if(n)return wae(n,a)},has:function(a){if(mp&&a&&(typeof a=="object"||typeof a=="function")){if(e)return gae(e,a)}else if(gp){if(r)return xae(r,a)}else if(n)return Eae(n,a);return!1},set:function(a,s){mp&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new mp),mae(e,a,s)):gp?(r||(r=new gp),bae(r,a,s)):(n||(n={key:{},next:null}),_ae(n,a,s))}};return i},Cae=String.prototype.replace,Tae=/%20/g,n1={RFC1738:"RFC1738",RFC3986:"RFC3986"},gR={default:n1.RFC3986,formatters:{RFC1738:function(t){return Cae.call(t,Tae,"+")},RFC3986:function(t){return String(t)}},RFC1738:n1.RFC1738,RFC3986:n1.RFC3986},Aae=gR,i1=Object.prototype.hasOwnProperty,qo=Array.isArray,Ki=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Rae=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(qo(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},c$=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Pae=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(qo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!i1.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return qo(e)&&!qo(r)&&(i=c$(e,n)),qo(e)&&qo(r)?(r.forEach(function(a,s){if(i1.call(e,s)){var o=e[s];o&&typeof o=="object"&&a&&typeof a=="object"?e[s]=t(o,a,n):e.push(a)}else e[s]=a}),e):Object.keys(r).reduce(function(a,s){var o=r[s];return i1.call(a,s)?a[s]=t(a[s],o,n):a[s]=o,a},i)},Iae=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},kae=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},a1=1024,Mae=function(e,r,n,i,a){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var o="",l=0;l<s.length;l+=a1){for(var u=s.length>=a1?s.slice(l,l+a1):s,c=[],h=0;h<u.length;++h){var d=u.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===Aae.RFC1738&&(d===40||d===41)){c[c.length]=u.charAt(h);continue}if(d<128){c[c.length]=Ki[d];continue}if(d<2048){c[c.length]=Ki[192|d>>6]+Ki[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=Ki[224|d>>12]+Ki[128|d>>6&63]+Ki[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|u.charCodeAt(h)&1023),c[c.length]=Ki[240|d>>18]+Ki[128|d>>12&63]+Ki[128|d>>6&63]+Ki[128|d&63]}o+=c.join("")}return o},Dae=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],o=Object.keys(s),l=0;l<o.length;++l){var u=o[l],c=s[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:s,prop:u}),n.push(c))}return Rae(r),e},Oae=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Nae=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Lae=function(e,r){return[].concat(e,r)},Bae=function(e,r){if(qo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},h$={arrayToObject:c$,assign:Iae,combine:Lae,compact:Dae,decode:kae,encode:Mae,isBuffer:Nae,isRegExp:Oae,maybeMap:Bae,merge:Pae},d$=Sae,pv=h$,id=gR,Fae=Object.prototype.hasOwnProperty,f$={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},sa=Array.isArray,zae=Array.prototype.push,p$=function(t,e){zae.apply(t,sa(e)?e:[e])},jae=Date.prototype.toISOString,MM=id.default,Qt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pv.encode,encodeValuesOnly:!1,format:MM,formatter:id.formatters[MM],indices:!1,serializeDate:function(e){return jae.call(e)},skipNulls:!1,strictNullHandling:!1},Uae=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},s1={},$ae=function t(e,r,n,i,a,s,o,l,u,c,h,d,f,p,g,m,v,y){for(var b=e,x=y,w=0,E=!1;(x=x.get(s1))!==void 0&&!E;){var _=x.get(e);if(w+=1,typeof _<"u"){if(_===w)throw new RangeError("Cyclic object value");E=!0}typeof x.get(s1)>"u"&&(w=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=f(b):n==="comma"&&sa(b)&&(b=pv.maybeMap(b,function($){return $ instanceof Date?f($):$})),b===null){if(s)return u&&!m?u(r,Qt.encoder,v,"key",p):r;b=""}if(Uae(b)||pv.isBuffer(b)){if(u){var T=m?r:u(r,Qt.encoder,v,"key",p);return[g(T)+"="+g(u(b,Qt.encoder,v,"value",p))]}return[g(r)+"="+g(String(b))]}var C=[];if(typeof b>"u")return C;var P;if(n==="comma"&&sa(b))m&&u&&(b=pv.maybeMap(b,u)),P=[{value:b.length>0?b.join(",")||null:void 0}];else if(sa(c))P=c;else{var M=Object.keys(b);P=h?M.sort(h):M}var R=l?r.replace(/\./g,"%2E"):r,I=i&&sa(b)&&b.length===1?R+"[]":R;if(a&&sa(b)&&b.length===0)return I+"[]";for(var S=0;S<P.length;++S){var B=P[S],L=typeof B=="object"&&typeof B.value<"u"?B.value:b[B];if(!(o&&L===null)){var N=d&&l?B.replace(/\./g,"%2E"):B,F=sa(b)?typeof n=="function"?n(I,N):I:I+(d?"."+N:"["+N+"]");y.set(e,w);var z=d$();z.set(s1,y),p$(C,t(L,F,n,i,a,s,o,l,n==="comma"&&m&&sa(b)?null:u,c,h,d,f,p,g,m,v,z))}}return C},Gae=function(e){if(!e)return Qt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Qt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=id.default;if(typeof e.format<"u"){if(!Fae.call(id.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=id.formatters[n],a=Qt.filter;(typeof e.filter=="function"||sa(e.filter))&&(a=e.filter);var s;if(e.arrayFormat in f$?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Qt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Qt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Qt.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Qt.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Qt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Qt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Qt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Qt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Qt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Qt.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Qt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Qt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Qt.strictNullHandling}},Hae=function(t,e){var r=t,n=Gae(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):sa(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var o=f$[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=d$(),c=0;c<i.length;++c){var h=i[c];n.skipNulls&&r[h]===null||p$(s,$ae(r[h],h,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=s.join(n.delimiter),f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""},gc=h$,zC=Object.prototype.hasOwnProperty,Vae=Array.isArray,Ft={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:gc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Wae=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},v$=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},qae="utf8=%26%2310003%3B",Xae="utf8=%E2%9C%93",Yae=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),o=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===Xae?u="utf-8":s[l]===qae&&(u="iso-8859-1"),o=l,l=s.length);for(l=0;l<s.length;++l)if(l!==o){var c=s[l],h=c.indexOf("]="),d=h===-1?c.indexOf("="):h+1,f,p;d===-1?(f=r.decoder(c,Ft.decoder,u,"key"),p=r.strictNullHandling?null:""):(f=r.decoder(c.slice(0,d),Ft.decoder,u,"key"),p=gc.maybeMap(v$(c.slice(d+1),r),function(m){return r.decoder(m,Ft.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=Wae(p)),c.indexOf("[]=")>-1&&(p=Vae(p)?[p]:p);var g=zC.call(n,f);g&&r.duplicates==="combine"?n[f]=gc.combine(n[f],p):(!g||r.duplicates==="last")&&(n[f]=p)}return n},Kae=function(t,e,r,n){for(var i=n?e:v$(e,r),a=t.length-1;a>=0;--a){var s,o=t[a];if(o==="[]"&&r.parseArrays)s=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,c=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(c)&&o!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},Zae=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(a),u=l?a.slice(0,l.index):a,c=[];if(u){if(!n.plainObjects&&zC.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var h=0;n.depth>0&&(l=o.exec(a))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&zC.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+a.slice(l.index)+"]")}return Kae(c,r,n,i)}},Qae=function(e){if(!e)return Ft;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ft.charset:e.charset,n=typeof e.duplicates>"u"?Ft.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ft.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ft.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ft.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ft.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ft.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ft.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ft.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ft.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ft.decoder,delimiter:typeof e.delimiter=="string"||gc.isRegExp(e.delimiter)?e.delimiter:Ft.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ft.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ft.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ft.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ft.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ft.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ft.strictNullHandling}},Jae=function(t,e){var r=Qae(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Yae(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var o=a[s],l=Zae(o,n[o],r,typeof t=="string");i=gc.merge(i,l,r)}return r.allowSparse===!0?i:gc.compact(i)},ese=Hae,tse=Jae,rse=gR,nse={formats:rse,parse:tse,stringify:ese},ise=zne;function qa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ase=/^([a-z0-9.+-]+:)/i,sse=/:[0-9]*$/,ose=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,lse=["<",">",'"',"`"," ","\r",`
`,"	"],use=["{","}","|","\\","^","`"].concat(lse),jC=["'"].concat(use),DM=["%","/","?",";","#"].concat(jC),OM=["/","?","#"],cse=255,NM=/^[+a-z0-9A-Z_-]{0,63}$/,hse=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,dse={javascript:!0,"javascript:":!0},UC={javascript:!0,"javascript:":!0},Wu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$C=nse;function fse(t,e,r){if(t&&typeof t=="object"&&t instanceof qa)return t;var n=new qa;return n.parse(t,e,r),n}qa.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),s=/\\/g;a[0]=a[0].replace(s,"/"),t=a.join(i);var o=t;if(o=o.trim(),!r&&t.split("#").length===1){var l=ose.exec(o);if(l)return this.path=o,this.href=o,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=$C.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=ase.exec(o);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@/]+@[^@/]+/)){var h=o.substr(0,2)==="//";h&&!(u&&UC[u])&&(o=o.substr(2),this.slashes=!0)}if(!UC[u]&&(h||u&&!Wu[u])){for(var d=-1,f=0;f<OM.length;f++){var p=o.indexOf(OM[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var g,m;d===-1?m=o.lastIndexOf("@"):m=o.lastIndexOf("@",d),m!==-1&&(g=o.slice(0,m),o=o.slice(m+1),this.auth=decodeURIComponent(g)),d=-1;for(var f=0;f<DM.length;f++){var p=o.indexOf(DM[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=o.length),this.host=o.slice(0,d),o=o.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var y=this.hostname.split(/\./),f=0,b=y.length;f<b;f++){var x=y[f];if(x&&!x.match(NM)){for(var w="",E=0,_=x.length;E<_;E++)x.charCodeAt(E)>127?w+="x":w+=x[E];if(!w.match(NM)){var T=y.slice(0,f),C=y.slice(f+1),P=x.match(hse);P&&(T.push(P[1]),C.unshift(P[2])),C.length&&(o="/"+C.join(".")+o),this.hostname=T.join(".");break}}}this.hostname.length>cse?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=ise.toASCII(this.hostname));var M=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+M,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!dse[c])for(var f=0,b=jC.length;f<b;f++){var I=jC[f];if(o.indexOf(I)!==-1){var S=encodeURIComponent(I);S===I&&(S=escape(I)),o=o.split(I).join(S)}}var B=o.indexOf("#");B!==-1&&(this.hash=o.substr(B),o=o.slice(0,B));var L=o.indexOf("?");if(L!==-1?(this.search=o.substr(L),this.query=o.substr(L+1),e&&(this.query=$C.parse(this.query)),o=o.slice(0,L)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Wu[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",N=this.search||"";this.path=M+N}return this.href=this.format(),this};qa.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=$C.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Wu[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),s=s.replace("#","%23"),e+i+r+s+n};qa.prototype.resolve=function(t){return this.resolveObject(fse(t,!1,!0)).format()};qa.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new qa;e.parse(t,!1,!0),t=e}for(var r=new qa,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var l=s[o];l!=="protocol"&&(r[l]=t[l])}return Wu[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Wu[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!UC[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",f=r.search||"";r.path=d+f}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",g=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=g||p||r.host&&t.pathname,v=m,y=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Wu[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),m=m&&(b[0]===""||y[0]==="")),g)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=b;else if(b.length)y||(y=[]),y.pop(),y=y.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=y.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=y.slice(-1)[0],_=(r.host||t.host||y.length>1)&&(E==="."||E==="..")||E==="",T=0,C=y.length;C>=0;C--)E=y[C],E==="."?y.splice(C,1):E===".."?(y.splice(C,1),T++):T&&(y.splice(C,1),T--);if(!m&&!v)for(;T--;T)y.unshift("..");m&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),_&&y.join("/").substr(-1)!=="/"&&y.push("");var P=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){r.hostname=P?"":y.length?y.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return m=m||r.host&&y.length,m&&!P&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};qa.prototype.parseHost=function(){var t=this.host,e=sse.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const LM={};function Ke(t,e,r=3){if(LM[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),LM[e]=!0}function vi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function mh(t){return t.split("?")[0].split("#")[0]}function pse(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vse(t,e,r){return t.replace(new RegExp(pse(e),"g"),r)}function mse(t,e){let r="",n=0,i=-1,a=0,s=-1;for(let o=0;o<=t.length;++o){if(o<t.length)s=t.charCodeAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=o,a=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,o)}`:r=t.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a!==-1?++a:a=-1}return r}const wr={toPosix(t){return vse(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){vi(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(vi(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=mh(this.toPosix(e??Ae.ADAPTER.getBaseUrl())),i=mh(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?wr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(vi(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=mse(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return vi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(vi(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(vi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const a=this.getProtocol(t),s=t;t=t.slice(a.length);for(let o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),e===47){if(!i){n=o;break}}else i=!1;return n===-1?r?"/":this.isUrl(s)?a+t:a:r&&n===1?"//":a+t.slice(0,n)},rootname(t){vi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){vi(t),e&&vi(e),t=mh(this.toPosix(t));let r=0,n=-1,i=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let s=e.length-1,o=-1;for(a=t.length-1;a>=0;--a){const l=t.charCodeAt(a);if(l===47){if(!i){r=a+1;break}}else o===-1&&(i=!1,o=a+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=a):(s=-1,n=o))}return r===n?n=o:n===-1&&(n=t.length),t.slice(r,n)}for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!i){r=a+1;break}}else n===-1&&(i=!1,n=a+1);return n===-1?"":t.slice(r,n)},extname(t){vi(t),t=mh(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,a=0;for(let s=t.length-1;s>=0;--s){const o=t.charCodeAt(s);if(o===47){if(!i){r=s+1;break}continue}n===-1&&(i=!1,n=s+1),o===46?e===-1?e=s:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){vi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=mh(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let a=-1,s=0,o=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){s=u+1;break}continue}o===-1&&(l=!1,o=u+1),r===46?a===-1?a=u:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||o===-1||c===0||c===1&&a===o-1&&a===s+1?o!==-1&&(s===0&&n?e.base=e.name=t.slice(1,o):e.base=e.name=t.slice(s,o)):(s===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,o)):(e.name=t.slice(s,a),e.base=t.slice(s,o)),e.ext=t.slice(a,o)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let o1;async function gse(){return o1??(o1=(async()=>{var a;const t=document.createElement("canvas").getContext("webgl");if(!t)return dn.UNPACK;const e=await new Promise(s=>{const o=document.createElement("video");o.onloadeddata=()=>s(o),o.onerror=()=>s(null),o.autoplay=!1,o.crossOrigin="anonymous",o.preload="auto",o.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",o.load()});if(!e)return dn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(a=t.getExtension("WEBGL_lose_context"))==null||a.loseContext(),i[0]<=i[3]?dn.PMA:dn.UNPACK})()),o1}let l1;function yse(){return typeof l1>"u"&&(l1=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:Ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Ae.ADAPTER.getWebGLRenderingContext())return!1;const r=Ae.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),l1}var bse={grad:.9,turn:360,rad:360/(2*Math.PI)},Ma=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},gr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Zn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},m$=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},BM=function(t){return{r:Zn(t.r,0,255),g:Zn(t.g,0,255),b:Zn(t.b,0,255),a:Zn(t.a)}},u1=function(t){return{r:gr(t.r),g:gr(t.g),b:gr(t.b),a:gr(t.a,3)}},xse=/^#([0-9a-f]{3,8})$/i,yp=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},g$=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=Math.max(e,r,n),s=a-Math.min(e,r,n),o=s?a===e?(r-n)/s:a===r?2+(n-e)/s:4+(e-r)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:i}},y$=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),s=n*(1-r),o=n*(1-(e-a)*r),l=n*(1-(1-e+a)*r),u=a%6;return{r:255*[n,o,s,s,l,n][u],g:255*[l,n,n,o,s,s][u],b:255*[s,s,l,n,n,o][u],a:i}},FM=function(t){return{h:m$(t.h),s:Zn(t.s,0,100),l:Zn(t.l,0,100),a:Zn(t.a)}},zM=function(t){return{h:gr(t.h),s:gr(t.s),l:gr(t.l),a:gr(t.a,3)}},jM=function(t){return y$((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},ad=function(t){return{h:(e=g$(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},wse=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_se=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ese=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sse=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,GC={string:[[function(t){var e=xse.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?gr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?gr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Ese.exec(t)||Sse.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:BM({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=wse.exec(t)||_se.exec(t);if(!e)return null;var r,n,i=FM({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(bse[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return jM(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=i===void 0?1:i;return Ma(e)&&Ma(r)&&Ma(n)?BM({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,a=i===void 0?1:i;if(!Ma(e)||!Ma(r)||!Ma(n))return null;var s=FM({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return jM(s)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,a=i===void 0?1:i;if(!Ma(e)||!Ma(r)||!Ma(n))return null;var s=function(o){return{h:m$(o.h),s:Zn(o.s,0,100),v:Zn(o.v,0,100),a:Zn(o.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return y$(s)},"hsv"]]},UM=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Cse=function(t){return typeof t=="string"?UM(t.trim(),GC.string):typeof t=="object"&&t!==null?UM(t,GC.object):[null,void 0]},c1=function(t,e){var r=ad(t);return{h:r.h,s:Zn(r.s+100*e,0,100),l:r.l,a:r.a}},h1=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},$M=function(t,e){var r=ad(t);return{h:r.h,s:r.s,l:Zn(r.l+100*e,0,100),a:r.a}},HC=function(){function t(e){this.parsed=Cse(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return gr(h1(this.rgba),2)},t.prototype.isDark=function(){return h1(this.rgba)<.5},t.prototype.isLight=function(){return h1(this.rgba)>=.5},t.prototype.toHex=function(){return e=u1(this.rgba),r=e.r,n=e.g,i=e.b,s=(a=e.a)<1?yp(gr(255*a)):"","#"+yp(r)+yp(n)+yp(i)+s;var e,r,n,i,a,s},t.prototype.toRgb=function(){return u1(this.rgba)},t.prototype.toRgbString=function(){return e=u1(this.rgba),r=e.r,n=e.g,i=e.b,(a=e.a)<1?"rgba("+r+", "+n+", "+i+", "+a+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,a},t.prototype.toHsl=function(){return zM(ad(this.rgba))},t.prototype.toHslString=function(){return e=zM(ad(this.rgba)),r=e.h,n=e.s,i=e.l,(a=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+a+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,a},t.prototype.toHsv=function(){return e=g$(this.rgba),{h:gr(e.h),s:gr(e.s),v:gr(e.v),a:gr(e.a,3)};var e},t.prototype.invert=function(){return Ji({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ji(c1(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ji(c1(this.rgba,-e))},t.prototype.grayscale=function(){return Ji(c1(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ji($M(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ji($M(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ji({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):gr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=ad(this.rgba);return typeof e=="number"?Ji({h:e,s:r.s,l:r.l,a:r.a}):gr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Ji(e).toHex()},t}(),Ji=function(t){return t instanceof HC?t:new HC(t)},GM=[],Tse=function(t){t.forEach(function(e){GM.indexOf(e)<0&&(e(HC,GC),GM.push(e))})};function Ase(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var a={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,l,u=n[this.toHex()];if(u)return u;if(s!=null&&s.closest){var c=this.toRgb(),h=1/0,d="black";if(!a.length)for(var f in r)a[f]=new t(r[f]).toRgb();for(var p in r){var g=(o=c,l=a[p],Math.pow(o.r-l.r,2)+Math.pow(o.g-l.g,2)+Math.pow(o.b-l.b,2));g<h&&(h=g,d=p)}return d}},e.string.push([function(s){var o=s.toLowerCase(),l=o==="transparent"?"#0000":r[o];return l?new t(l).toRgb():null},"name"])}Tse([Ase]);const uu=class vv{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof vv)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,a)=>i===r[a]);if(e!==null&&r!==null){const i=Object.keys(e),a=Object.keys(r);return i.length!==a.length?!1:i.every(s=>e[s]===r[s])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,a]=vv.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,a=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,a=a*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,a]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=a,e}normalize(e){let r,n,i,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;r=(s>>16&255)/255,n=(s>>8&255)/255,i=(s&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,a=255]=e,r/=255,n/=255,i/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const o=vv.HEX_PATTERN.exec(e);o&&(e=`#${o[2]}`)}const s=Ji(e);s.isValid()&&({r,g:n,b:i,a}=s.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,a)=>{e[a]=Math.min(Math.max(i,r),n)}),e)}};uu.shared=new uu,uu.temp=new uu,uu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let St=uu;function Rse(t){return Ke("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),St.shared.setValue(t).toHex()}function Pse(t){return Ke("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),St.shared.setValue(t).toNumber()}function Ise(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[He.NORMAL_NPM]=He.NORMAL,t[He.ADD_NPM]=He.ADD,t[He.SCREEN_NPM]=He.SCREEN,e[He.NORMAL]=He.NORMAL_NPM,e[He.ADD]=He.ADD_NPM,e[He.SCREEN]=He.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const b$=Ise();function x$(t,e){return b$[e?1:0][t]}function kse(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function w$(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function wm(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function HM(t){return!(t&t-1)&&!!t}function VM(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function qu(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}function zs(t){return t===0?0:t<0?-1:1}let Mse=0;function bl(){return++Mse}const VC=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};VC.EMPTY=new VC(0,0,0,0);let WM=VC;const qM={},Gn=Object.create(null),ys=Object.create(null);class Dse{constructor(e,r,n){this._canvas=Ae.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Ae.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function XM(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function YM(t,e,r,n,i){const a=4*e;for(let s=n,o=n*a+4*r;s<=i;++s,o+=a)if(t[o+3]!==0)return!1;return!0}function Ose(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let a=0,s=0,o=e-1,l=r-1;for(;s<r&&XM(i,e,s);)++s;if(s===r)return WM.EMPTY;for(;XM(i,e,l);)--l;for(;YM(i,e,a,s,l);)++a;for(;YM(i,e,o,s,l);)--o;return++o,++l,new WM(a,s,o,l)}function Nse(t){const e=Ose(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const a=t.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");i=a.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function Lse(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ts(t,e=1){var n;const r=(n=Ae.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var Te=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Te||{});const WC=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},KM=(t,e)=>WC(t).priority??e,Oe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(WC).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(WC).forEach(e=>{e.type.forEach(r=>{var a,s;const n=this._addHandlers,i=this._queue;n[r]?(a=n[r])==null||a.call(n,e):(i[r]=i[r]||[],(s=i[r])==null||s.push(e))})}),this},handle(t,e,r){var s;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const a=this._queue;return a[t]&&((s=a[t])==null||s.forEach(o=>e(o)),delete a[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,a)=>KM(a,r)-KM(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class qC{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Bse=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Fse(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function zse(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Bse.replace(/%forloop%/gi,Fse(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const d1=0,f1=1,p1=2,v1=3,m1=4,g1=5;class Ca{constructor(){this.data=0,this.blendMode=He.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<d1)}set blend(e){!!(this.data&1<<d1)!==e&&(this.data^=1<<d1)}get offsets(){return!!(this.data&1<<f1)}set offsets(e){!!(this.data&1<<f1)!==e&&(this.data^=1<<f1)}get culling(){return!!(this.data&1<<p1)}set culling(e){!!(this.data&1<<p1)!==e&&(this.data^=1<<p1)}get depthTest(){return!!(this.data&1<<v1)}set depthTest(e){!!(this.data&1<<v1)!==e&&(this.data^=1<<v1)}get depthMask(){return!!(this.data&1<<g1)}set depthMask(e){!!(this.data&1<<g1)!==e&&(this.data^=1<<g1)}get clockwiseFrontFace(){return!!(this.data&1<<m1)}set clockwiseFrontFace(e){!!(this.data&1<<m1)!==e&&(this.data^=1<<m1)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==He.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ca;return e.depthTest=!1,e.blend=!0,e}}Ca.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const XC=[];function _$(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=XC.length-1;n>=0;--n){const i=XC[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ni{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,a,s,o,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,r,n,i,a,s,o,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ni.prototype,{dispatch:{value:Ni.prototype.emit},run:{value:Ni.prototype.emit}});class Ud{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ni("setRealSize"),this.onUpdate=new Ni("update"),this.onError=new Ni("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class ny extends Ud{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===dn.UNPACK);const a=r.realWidth,s=r.realHeight;return n.width===a&&n.height===s?i.texSubImage2D(r.target,0,0,0,a,s,r.format,n.type,this.data):(n.width=a,n.height=s,i.texImage2D(r.target,0,n.internalFormat,a,s,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const jse={scaleMode:fa.NEAREST,alphaMode:dn.NPM},YC=class cu extends xf{constructor(e=null,r=null){super(),r=Object.assign({},cu.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:a,scaleMode:s,width:o,height:l,wrapMode:u,format:c,type:h,target:d,resolution:f,resourceOptions:p}=r;e&&!(e instanceof Ud)&&(e=_$(e,p),e.internal=!0),this.resolution=f||Ae.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=a,this._wrapMode=u,this._scaleMode=s,this.format=c,this.type=h,this.target=d,this.alphaMode=n,this.uid=bl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=HM(this.realWidth)&&HM(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ys[this.cacheId],delete Gn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),cu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=Ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let a=null;if(i)a=e;else{if(!e._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${bl()}`}a=e._pixiId}let s=ys[a];if(i&&n&&!s)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return s||(s=new cu(e,r),s.cacheId=a,cu.addToCache(s,a)),s}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const a=new ny(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let s,o;return e instanceof Float32Array?(s=_e.RGBA,o=Fe.FLOAT):e instanceof Int32Array?(s=_e.RGBA_INTEGER,o=Fe.INT):e instanceof Uint32Array?(s=_e.RGBA_INTEGER,o=Fe.UNSIGNED_INT):e instanceof Int16Array?(s=_e.RGBA_INTEGER,o=Fe.SHORT):e instanceof Uint16Array?(s=_e.RGBA_INTEGER,o=Fe.UNSIGNED_SHORT):e instanceof Int8Array?(s=_e.RGBA,o=Fe.BYTE):(s=_e.RGBA,o=Fe.UNSIGNED_BYTE),a.internal=!0,new cu(a,Object.assign({},jse,{type:o,format:s},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ys[r]&&ys[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),ys[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ys[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ys[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ys[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};YC.defaultOptions={mipmap:_a.POW2,anisotropicLevel:0,scaleMode:fa.LINEAR,wrapMode:Js.CLAMP,alphaMode:dn.UNPACK,target:Hu.TEXTURE_2D,format:_e.RGBA,type:Fe.UNSIGNED_BYTE},YC._globalBatch=0;let Ye=YC;class KC{constructor(){this.texArray=null,this.blend=0,this.type=da.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Use=0,nr=class E${constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Use++,this.disposeRunner=new Ni("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?xa.ELEMENT_ARRAY_BUFFER:xa.ARRAY_BUFFER}get index(){return this.type===xa.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new E$(e)}};class _m{constructor(e,r=0,n=!1,i=Fe.FLOAT,a,s,o,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=s,this.instance=o,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,a){return new _m(e,r,n,i,a)}}const $se={Float32Array,Uint32Array,Int32Array,Uint8Array};function Gse(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const a=new ArrayBuffer(r*4);let s=null,o=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=w$(c);i[h]||(i[h]=new $se[h](a)),s=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*n+o,p=d%u;s[f+p]=c[d]}o+=u}return new Float32Array(a)}const ZM={5126:4,5123:2,5121:1};let Hse=0;const Vse={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class so{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Hse++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ni("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,a,s,o,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof nr||(r instanceof Array&&(r=new Float32Array(r)),r=new nr(r));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],r,n,i,a);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new _m(c,n,i,a,s,o,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof nr||(e instanceof Array&&(e=new Uint16Array(e)),e=new nr(e)),e.type=xa.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new nr;let i;for(i in this.attributes){const a=this.attributes[i],s=this.buffers[a.buffer];e.push(s.data),r.push(a.size*ZM[a.type]/4),a.buffer=0}for(n.data=Gse(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new so;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new nr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new _m(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=xa.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new so,n=[],i=[],a=[];let s;for(let o=0;o<e.length;o++){s=e[o];for(let l=0;l<s.buffers.length;l++)i[l]=i[l]||0,i[l]+=s.buffers[l].data.length,a[l]=0}for(let o=0;o<s.buffers.length;o++)n[o]=new Vse[w$(s.buffers[o].data)](i[o]),r.buffers[o]=new nr(n[o]);for(let o=0;o<e.length;o++){s=e[o];for(let l=0;l<s.buffers.length;l++)n[l].set(s.buffers[l].data,a[l]),a[l]+=s.buffers[l].data.length}if(r.attributes=s.attributes,s.indexBuffer){r.indexBuffer=r.buffers[s.buffers.indexOf(s.indexBuffer)],r.indexBuffer.type=xa.ELEMENT_ARRAY_BUFFER;let o=0,l=0,u=0,c=0;for(let h=0;h<s.buffers.length;h++)if(s.buffers[h]!==s.indexBuffer){c=h;break}for(const h in s.attributes){const d=s.attributes[h];(d.buffer|0)===c&&(l+=d.size*ZM[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)r.indexBuffer.data[f+u]+=o;o+=e[h].buffers[c].data.length/l,u+=d.length}}return r}}class S$ extends so{constructor(e=!1){super(),this._buffer=new nr(null,e,!1),this._indexBuffer=new nr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Fe.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Fe.FLOAT).addAttribute("aColor",this._buffer,4,!0,Fe.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Fe.FLOAT).addIndex(this._indexBuffer)}}const Em=Math.PI*2,Wse=180/Math.PI,qse=Math.PI/180;var Tr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Tr||{});class $e{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new $e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}$e.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const bp=[new $e,new $e,new $e,new $e];class qe{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Tr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new qe(0,0,0,0)}clone(){return new qe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const T=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=T)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const n=this.left,i=this.right,a=this.top,s=this.bottom;if(i<=n||s<=a)return!1;const o=bp[0].set(e.left,e.top),l=bp[1].set(e.left,e.bottom),u=bp[2].set(e.right,e.top),c=bp[3].set(e.right,e.bottom);if(u.x<=o.x||l.y<=o.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(o,o),r.apply(l,l),r.apply(u,u),r.apply(c,c),Math.max(o.x,l.x,u.x,c.x)<=n||Math.min(o.x,l.x,u.x,c.x)>=i||Math.max(o.y,l.y,u.y,c.y)<=a||Math.min(o.y,l.y,u.y,c.y)>=s))return!1;const d=h*(l.y-o.y),f=h*(o.x-l.x),p=d*n+f*a,g=d*i+f*a,m=d*n+f*s,v=d*i+f*s;if(Math.max(p,g,m,v)<=d*o.x+f*o.y||Math.min(p,g,m,v)>=d*c.x+f*c.y)return!1;const y=h*(o.y-u.y),b=h*(u.x-o.x),x=y*n+b*a,w=y*i+b*a,E=y*n+b*s,_=y*i+b*s;return!(Math.max(x,w,E,_)<=y*o.x+b*o.y||Math.min(x,w,E,_)>=y*c.x+b*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this}}qe.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class iy{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Tr.CIRC}clone(){return new iy(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n}getBounds(){return new qe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}iy.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class ay{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Tr.ELIP}clone(){return new ay(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new qe(this.x-this.width,this.y-this.height,this.width,this.height)}}ay.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ll{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,a=r.length;i<a;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Tr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new ll(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let a=0,s=i-1;a<i;s=a++){const o=this.points[a*2],l=this.points[a*2+1],u=this.points[s*2],c=this.points[s*2+1];l>r!=c>r&&e<(u-o)*((r-l)/(c-l))+o&&(n=!n)}return n}}ll.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class sy{constructor(e=0,r=0,n=0,i=0,a=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=Tr.RREC}clone(){return new sy(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),a=r-(this.y+n);const s=n*n;if(i*i+a*a<=s||(i=e-(this.x+this.width-n),i*i+a*a<=s)||(a=r-(this.y+this.height-n),i*i+a*a<=s)||(i=e-(this.x+n),i*i+a*a<=s))return!0}return!1}}sy.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class At{constructor(e=1,r=0,n=0,i=1,a=0,s=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,a,s){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=s,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new $e;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new $e;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,s=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=s*r-this.ty*n,this.ty=s*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this}setTransform(e,r,n,i,a,s,o,l,u){return this.a=Math.cos(o+u)*a,this.b=Math.sin(o+u)*a,this.c=-Math.sin(o-l)*s,this.d=Math.cos(o-l)*s,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,a=this.d,s=e.pivot,o=-Math.atan2(-i,a),l=Math.atan2(n,r),u=Math.abs(o+l);return u<1e-5||Math.abs(Em-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(s.x*r+s.y*i),e.position.y=this.ty+(s.x*n+s.y*a),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,s=e*i-r*n;return this.a=i/s,this.b=-r/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-i*a)/s,this.ty=-(e*this.ty-r*a)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new At;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new At}static get TEMP_MATRIX(){return new At}}At.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Oo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],No=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Lo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Bo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ZC=[],C$=[],xp=Math.sign;function Xse(){for(let t=0;t<16;t++){const e=[];ZC.push(e);for(let r=0;r<16;r++){const n=xp(Oo[t]*Oo[r]+Lo[t]*No[r]),i=xp(No[t]*Oo[r]+Bo[t]*No[r]),a=xp(Oo[t]*Lo[r]+Lo[t]*Bo[r]),s=xp(No[t]*Lo[r]+Bo[t]*Bo[r]);for(let o=0;o<16;o++)if(Oo[o]===n&&No[o]===i&&Lo[o]===a&&Bo[o]===s){e.push(o);break}}}for(let t=0;t<16;t++){const e=new At;e.set(Oo[t],No[t],Lo[t],Bo[t],0,0),C$.push(e)}}Xse();const It={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Oo[t],uY:t=>No[t],vX:t=>Lo[t],vY:t=>Bo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>ZC[t][e],sub:(t,e)=>ZC[t][It.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?It.S:It.N:Math.abs(e)*2<=Math.abs(t)?t>0?It.E:It.W:e>0?t>0?It.SE:It.SW:t>0?It.NE:It.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=C$[It.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class $a{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new $a(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}$a.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const QC=class{constructor(){this.worldTransform=new At,this.localTransform=new At,this.position=new $a(this.onChange,this,0,0),this.scale=new $a(this.onChange,this,1,1),this.pivot=new $a(this.onChange,this,0,0),this.skew=new $a(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};QC.IDENTITY=new QC;let oy=QC;oy.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Yse=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Kse=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function QM(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function y1(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function T$(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return y1(2*e);case"bvec3":return y1(3*e);case"bvec4":return y1(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Xu=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Zse={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Qse={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Jse(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const a=e[i];if(!a){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const s=t.uniforms[i];let o=!1;for(let l=0;l<Xu.length;l++)if(Xu[l].test(a,s)){r.push(Xu[l].code(i,s)),o=!0;break}if(!o){const l=(a.size===1&&!a.isArray?Zse:Qse)[a.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const A$={};let Jl=A$;function eoe(){if(Jl===A$||Jl!=null&&Jl.isContextLost()){const t=Ae.ADAPTER.createCanvas();let e;Ae.PREFER_ENV>=Bl.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Jl=e}return Jl}let wp;function toe(){if(!wp){wp=Kn.MEDIUM;const t=eoe();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(wp=e.precision?Kn.HIGH:Kn.MEDIUM)}}return wp}function JM(t,e){const r=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},s=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!a[u]?(a[u]=!0,!0):!1),o=[""];s.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);o[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}function roe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||JM(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||JM(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const noe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function R$(t){return noe[t]}let _p=null;const eD={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function P$(t,e){if(!_p){const r=Object.keys(eD);_p={};for(let n=0;n<r.length;++n){const i=r[n];_p[t[i]]=eD[i]}}return _p[e]}function tD(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Kn.HIGH&&r!==Kn.HIGH&&(n=Kn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Kn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let gh;function ioe(){if(typeof gh=="boolean")return gh;try{gh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{gh=!1}return gh}let aoe=0;const Ep={},JC=class hu{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=aoe++,this.vertexSrc=e||hu.defaultVertexSrc,this.fragmentSrc=r||hu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Ep[n]?(Ep[n]++,n+=`-${Ep[n]}`):Ep[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=tD(this.vertexSrc,hu.defaultVertexPrecision,Kn.HIGH),this.fragmentSrc=tD(this.fragmentSrc,hu.defaultFragmentPrecision,toe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Kse}static get defaultFragmentSrc(){return Yse}static from(e,r,n){const i=e+r;let a=qM[i];return a||(qM[i]=a=new hu(e,r,n)),a}};JC.defaultVertexPrecision=Kn.HIGH,JC.defaultFragmentPrecision=Ua.apple.device?Kn.HIGH:Kn.MEDIUM;let Ga=JC,soe=0;class Li{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=soe++,this.static=!!r,this.ubo=!!n,e instanceof nr?(this.buffer=e,this.buffer.type=xa.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new nr(new Float32Array(1)),this.buffer.type=xa.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Li(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Li(e,r,n)}static uboFrom(e,r){return new Li(e,r??!0,!0)}}class wa{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Li?this.uniformGroup=r:this.uniformGroup=new Li(r):this.uniformGroup=new Li({}),this.disposeRunner=new Ni("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Ga.from(e,r);return new wa(i,n)}}class ooe{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let a=0;a<e;a++)n[a]=a;this.defaultGroupCache[e]=Li.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ga(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new At,default:this.defaultGroupCache[e]};return new wa(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class eT{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function loe(){return!Ua.apple.device}function uoe(t){let e=!0;const r=Ae.ADAPTER.getNavigator();if(Ua.tablet||Ua.phone){if(Ua.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ua.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class ly{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var coe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,hoe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const kh=class gi extends ly{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=S$,this.vertexSize=6,this.state=Ca.for2d(),this.size=gi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??uoe(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??loe(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ke("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return hoe}static get defaultFragmentTemplate(){return coe}setShaderGenerator({vertex:e=gi.defaultVertexSrc,fragment:r=gi.defaultFragmentTemplate}={}){this.shaderGenerator=new ooe(e,r)}contextChange(){const e=this.renderer.gl;Ae.PREFER_ENV===Bl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),gi.defaultMaxTextures),this.maxTextures=zse(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=gi,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new KC);for(;r.length<i;)r.push(new eT);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=gi._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Ye._globalBatch,l=0,u=n[0],c=0;i.copyBoundTextures(a,r);for(let h=0;h<this._bufferSize;++h){const d=e[h];e[h]=null,d._batchEnabled!==o&&(u.count>=r&&(i.boundArray(u,a,o,r),this.buildDrawCalls(u,c,h),c=h,u=n[++l],++o),d._batchEnabled=o,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(i.boundArray(u,a,o,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++o);for(let h=0;h<a.length;h++)a[h]=null;Ye._globalBatch=o}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:a,_indexBuffer:s,vertexSize:o}=this,l=gi._drawCallPool;let u=this._dcIndex,c=this._aIndex,h=this._iIndex,d=l[u];d.start=this._iIndex,d.texArray=e;for(let f=r;f<n;++f){const p=i[f],g=p._texture.baseTexture,m=b$[g.alphaMode?1:0][p.blendMode];i[f]=null,r<f&&d.blend!==m&&(d.size=h-d.start,r=f,d=l[++u],d.texArray=e,d.start=h),this.packInterleavedGeometry(p,a,s,c,h),c+=p.vertexData.length/2*o,h+=p.indices.length,d.blend=m}r<n&&(d.size=h-d.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;gi.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=gi._drawCallPool;let a=null;for(let s=0;s<e;s++){const{texArray:o,type:l,size:u,start:c,blend:h}=i[s];a!==o&&(a=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,n.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),gi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=wm(Math.ceil(e/8)),n=VM(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._aBuffers[i];return a||(this._aBuffers[i]=a=new qC(i*this.vertexSize*4)),a}getIndexBuffer(e){const r=wm(Math.ceil(e/12)),n=VM(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._iBuffers[n];return a||(this._iBuffers[n]=a=new Uint16Array(i)),a}packInterleavedGeometry(e,r,n,i,a){const{uint32View:s,float32View:o}=r,l=i/this.vertexSize,u=e.uvs,c=e.indices,h=e.vertexData,d=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=St.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0);for(let g=0;g<h.length;g+=2)o[i++]=h[g],o[i++]=h[g+1],o[i++]=u[g],o[i++]=u[g+1],s[i++]=p,o[i++]=d;for(let g=0;g<c.length;g++)n[a++]=l+c[g]}};kh.defaultBatchSize=4096,kh.extension={name:"batch",type:Te.RendererPlugin},kh._drawCallPool=[],kh._textureArrayPool=[];let Fo=kh;Oe.add(Fo);var doe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,foe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const tT=class Mh extends wa{constructor(e,r,n){const i=Ga.from(e||Mh.defaultVertexSrc,r||Mh.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Mh.defaultResolution,this.multisample=Mh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ca}apply(e,r,n,i,a){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return foe}static get defaultFragmentSrc(){return doe}};tT.defaultResolution=1,tT.defaultMultisample=qt.NONE;let tn=tT;class Sm{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new St(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,a=n??r;a!==void 0&&(this.color=a),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Sm.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Sm.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"background"};Oe.add(Sm);class I${constructor(e){this.renderer=e,this.emptyRenderer=new ly(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:a,ids:s,count:o}=e;let l=0;for(let u=0;u<o;u++){const c=a[u],h=c._batchLocation;if(h>=0&&h<i&&r[h]===c){s[u]=h;continue}for(;l<i;){const d=r[l];if(d&&d._batchEnabled===n&&d._batchLocation===l){l++;continue}s[u]=l,c._batchLocation=l,r[l]=c;break}}}destroy(){this.renderer=null}}I$.extension={type:Te.RendererSystem,name:"batch"};Oe.add(I$);let rD=0;class Cm{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=rD++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=rD++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(Ae.PREFER_ENV>=Bl.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Cm.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Cm.extension={type:Te.RendererSystem,name:"context"};Oe.add(Cm);class rT{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ni("disposeFramebuffer"),this.multisample=qt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ye(null,{scaleMode:fa.NEAREST,resolution:1,mipmap:_a.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ye(null,{scaleMode:fa.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_a.OFF,format:_e.DEPTH_COMPONENT,type:Fe.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class k$ extends Ye{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],a=arguments[3];e={width:r,height:n,scaleMode:i,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=qt.NONE),super(null,e),this.mipmap=_a.OFF,this.valid=!0,this._clear=new St([0,0,0,0]),this.framebuffer=new rT(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class rs extends Ud{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=Lse(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const a=e.gl,s=r.realWidth,o=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===dn.UNPACK),!this.noSubImage&&r.target===a.TEXTURE_2D&&n.width===s&&n.height===o?a.texSubImage2D(a.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=s,n.height=o,a.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class M$ extends rs{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;rs.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??Ae.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const a=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?a():(i.onload=a,i.onerror=s=>{n(s),this.onError.emit(s)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===dn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const a=r._glTextures;for(const s in a){const o=a[s];if(o!==n&&o.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class yR{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,a=r.height;if(n){const s=e.width/2/i,o=e.height/2/a,l=e.x/i+s,u=e.y/a+o;n=It.add(n,It.NW),this.x0=l+s*It.uX(n),this.y0=u+o*It.uY(n),n=It.add(n,2),this.x1=l+s*It.uX(n),this.y1=u+o*It.uY(n),n=It.add(n,2),this.x2=l+s*It.uX(n),this.y2=u+o*It.uY(n),n=It.add(n,2),this.x3=l+s*It.uX(n),this.y3=u+o*It.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}yR.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const nD=new yR;function Sp(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Me extends xf{constructor(e,r,n,i,a,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new qe(0,0,1,1)),e instanceof Me&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=nD,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new $e(s.x,s.y):new $e(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Gn[r.url]&&Me.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Me.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new Me(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===nD&&(this._uvs=new yR),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=Ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let a=null;if(i)a=e;else if(e instanceof Ye){if(!e.cacheId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${o}-${bl()}`,Ye.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const o=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${bl()}`}a=e._pixiId}let s=Gn[a];if(i&&n&&!s)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!s&&!(e instanceof Ye)?(r.resolution||(r.resolution=ts(e)),s=new Me(new Ye(e,r)),s.baseTexture.cacheId=a,Ye.addToCache(s.baseTexture,a),Me.addToCache(s,a)):!s&&e instanceof Ye&&(s=new Me(e),Me.addToCache(s,a)),s}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=Me.from(e,Object.assign({resourceOptions:n},r),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new Me(Ye.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const a=new Ye(e,Object.assign({scaleMode:Ye.defaultOptions.scaleMode,resolution:ts(r)},i)),{resource:s}=a;s instanceof M$&&(s.url=r);const o=new Me(a);return n||(n=r),Ye.addToCache(o.baseTexture,n),Me.addToCache(o,n),n!==r&&(Ye.addToCache(o.baseTexture,r),Me.addToCache(o,r)),o.baseTexture.valid?Promise.resolve(o):new Promise(l=>{o.baseTexture.once("loaded",()=>l(o))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Gn[r]&&Gn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Gn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Gn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Gn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Gn[e.textureCacheIds[r]]===e&&delete Gn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:a}=e,s=r+i>this.baseTexture.width,o=n+a>this.baseTexture.height;if(s||o){const l=s&&o?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,c=`Y: ${n} + ${a} = ${n+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Me._EMPTY||(Me._EMPTY=new Me(new Ye),Sp(Me._EMPTY),Sp(Me._EMPTY.baseTexture)),Me._EMPTY}static get WHITE(){if(!Me._WHITE){const e=Ae.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Me._WHITE=new Me(Ye.from(e)),Sp(Me._WHITE),Sp(Me._WHITE.baseTexture)}return Me._WHITE}}class ns extends Me{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,a=Math.round(e*i)/i,s=Math.round(r*i)/i;this.valid=a>0&&s>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=s,n&&this.baseTexture.resize(a,s),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ns(new k$(e))}}class D${constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=qt.NONE){const i=new k$(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ns(i)}getOptimalTexture(e,r,n=1,i=qt.NONE){let a;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=wm(e),r=wm(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);let s=this.texturePool[a].pop();return s||(s=this.createTexture(e,r,i)),s.filterPoolKey=a,s.setResolution(n),s}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||qt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}D$.SCREEN_KEY=-1;class poe extends so{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class O$ extends so{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new nr(this.vertices),this.uvBuffer=new nr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class voe{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new qe,this.destinationFrame=new qe,this.bindingSourceFrame=new qe,this.bindingDestinationFrame=new qe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Cp=[new $e,new $e,new $e,new $e],b1=new At;class N${constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new D$,this.statePool=[],this.quad=new poe,this.quadUv=new O$,this.tempRect=new qe,this.activeState={},this.globalUniforms=new Li({outputFrame:new qe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,a=this.statePool.pop()||new voe,s=n.renderTexture;let o,l;if(s.current){const m=s.current;o=m.resolution,l=m.multisample}else o=n.resolution,l=n.multisample;let u=r[0].resolution||o,c=r[0].multisample??l,h=r[0].padding,d=r[0].autoFit,f=r[0].legacy??!0;for(let m=1;m<r.length;m++){const v=r[m];u=Math.min(u,v.resolution||o),c=Math.min(c,v.multisample??l),h=this.useMaxPadding?Math.max(h,v.padding):h+v.padding,d=d&&v.autoFit,f=f||(v.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=s.current),i.push(a),a.resolution=u,a.multisample=c,a.legacy=f,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(h);const p=this.tempRect.copyFrom(s.sourceFrame);n.projection.transform&&this.transformAABB(b1.copyFrom(n.projection.transform).invert(),p),d?(a.sourceFrame.fit(p),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(p)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,c),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=a.sourceFrame.width,g.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(s.sourceFrame),a.bindingDestinationFrame.copyFrom(s.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,s.bind(a.renderTexture,a.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const a=i.inputSize,s=i.inputPixel,o=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],s[0]=Math.round(a[0]*r.resolution),s[1]=Math.round(a[1]*r.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=r.sourceFrame.width*a[2]-.5*s[2],o[3]=r.sourceFrame.height*a[3]-.5*s[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,oa.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),n[h].apply(this,u,c,oa.CLEAR,r);const d=u;u=c,c=d}n[h].apply(this,u,l.renderTexture,oa.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=oa.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,n.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=i.stateId&1||this.forceClear;(r===oa.CLEAR||r===oa.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(da.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(da.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:a}=r._texture,s=e.set(i.width,0,0,i.height,n.x,n.y),o=r.worldTransform.copyTo(At.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/a.width,1/a.height),s.translate(r.anchor.x,r.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=qt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const a=e;e=r,r=a}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||qt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Cp[0],i=Cp[1],a=Cp[2],s=Cp[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),s.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(s,s);const o=Math.min(n.x,i.x,a.x,s.x),l=Math.min(n.y,i.y,a.y,s.y),u=Math.max(n.x,i.x,a.x,s.x),c=Math.max(n.y,i.y,a.y,s.y);r.x=o,r.y=l,r.width=u-o,r.height=c-l}roundFrame(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){const{a:s,b:o,c:l,d:u}=a;if((Math.abs(o)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(u)>1e-4))return}a=a?b1.copyFrom(a):b1.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}}}N$.extension={type:Te.RendererSystem,name:"filter"};Oe.add(N$);class moe{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const goe=new qe;class L${constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new rT(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new qe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ae.PREFER_ENV===Bl.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let s=0;s<e.colorTextures.length;s++){const o=e.colorTextures[s];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const s=r.width>>n,o=r.height>>n,l=s/r.width;this.setViewport(r.x*l,r.y*l,s,o)}else{const s=e.width>>n,o=e.height>>n;this.setViewport(0,0,s,o)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,a=PC.COLOR|PC.DEPTH){const{gl:s}=this;s.clearColor(e,r,n,i),s.clear(a)}initFramebuffer(e){const{gl:r}=this,n=new moe(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let s;this.renderer.context.webGLVersion===1?s=r.DEPTH_STENCIL:e.depth&&e.stencil?s=r.DEPTH24_STENCIL8:e.depth?s=r.DEPTH_COMPONENT24:s=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,s,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,s,e.width,e.height)}const i=e.colorTextures;let a=i.length;r.drawBuffers||(a=Math.min(a,1));for(let s=0;s<a;s++){const o=i[s],l=o.parentTextureArray||o;this.renderer.texture.bind(l,0),s===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let s=a.length;n.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const o=[];for(let l=0;l<s;l++){const u=a[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,r),o.push(n.COLOR_ATTACHMENT0+l))}if(o.length>1&&n.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH_STENCIL):e.depth&&e.stencil?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH24_STENCIL8):e.depth?(l=n.DEPTH_ATTACHMENT,u=n.DEPTH_COMPONENT24):(l=n.STENCIL_ATTACHMENT,u=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,u,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,l,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=qt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=qt.NONE),n}blit(e,r,n){const{current:i,renderer:a,gl:s,CONTEXT_UID:o}=this;if(a.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[o];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new rT(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=goe,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,a=this.gl,s=r.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,s);let o,l;this.renderer.context.webGLVersion===1?(o=a.DEPTH_STENCIL_ATTACHMENT,l=a.DEPTH_STENCIL):e.depth?(o=a.DEPTH_STENCIL_ATTACHMENT,l=a.DEPTH24_STENCIL8):(o=a.STENCIL_ATTACHMENT,l=a.STENCIL_INDEX8),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,l,n,i):a.renderbufferStorage(a.RENDERBUFFER,l,n,i),a.framebufferRenderbuffer(a.FRAMEBUFFER,o,a.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new qe}destroy(){this.renderer=null}}L$.extension={type:Te.RendererSystem,name:"framebuffer"};Oe.add(L$);const x1={5126:4,5123:2,5121:1};class B${constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Ae.PREFER_ENV===Bl.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,a)=>n.vertexAttribDivisorANGLE(i,a),e.drawElementsInstanced=(i,a,s,o,l)=>n.drawElementsInstancedANGLE(i,a,s,o,l),e.drawArraysInstanced=(i,a,s,o)=>n.drawArraysInstancedANGLE(i,a,s,o)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);const s=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?n.bindVertexArray(s):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const a in i)if(!n[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,a=["g",e.id];for(const s in n)i[s]&&a.push(s,i[s].location);return a.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,a=this.CONTEXT_UID,s=this.renderer.buffer,o=r.program;o.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,o);const l=this.getSignature(e,o),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[o.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const g in h)f[g]=0,p[g]=0;for(const g in d)!d[g].size&&o.attributeData[g]?d[g].size=o.attributeData[g].size:d[g].size||console.warn(`PIXI Geometry attribute '${g}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[g].buffer]+=d[g].size*x1[d[g].type];for(const g in d){const m=d[g],v=m.size;m.stride===void 0&&(f[m.buffer]===v*x1[m.type]?m.stride=0:m.stride=f[m.buffer]),m.start===void 0&&(m.start=p[m.buffer],p[m.buffer]+=v*x1[m.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let g=0;g<h.length;g++){const m=h[g];s.bind(m),n&&m._glBuffers[a].refCount++}return this.activateVao(e,o),u[o.id]=c,u[l]=c,i.bindVertexArray(null),s.unbind(xa.ARRAY_BUFFER),c}disposeGeometry(e,r){var o;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,a=e.buffers,s=(o=this.renderer)==null?void 0:o.buffer;if(e.disposeRunner.remove(this),!!n){if(s)for(let l=0;l<a.length;l++){const u=a[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,s=e.buffers,o=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let l=null;for(const u in o){const c=o[u],h=s[c.buffer],d=h._glBuffers[i];if(r.attributeData[u]){l!==d&&(a.bind(h),l=d);const f=r.attributeData[u].location;if(n.enableVertexAttribArray(f),n.vertexAttribPointer(f,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:a}=this,s=this._activeGeometry;if(s.indexBuffer){const o=s.indexBuffer.data.BYTES_PER_ELEMENT,l=o===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?s.instanced?a.drawElementsInstanced(e,r||s.indexBuffer.data.length,l,(n||0)*o,i||1):a.drawElements(e,r||s.indexBuffer.data.length,l,(n||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?a.drawArraysInstanced(e,n,r||s.getSize(),i||1):a.drawArrays(e,n,r||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}B$.extension={type:Te.RendererSystem,name:"geometry"};Oe.add(B$);const iD=new At;class bR{constructor(e,r){this._texture=e,this.mapCoord=new At,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const a=e[i],s=e[i+1];r[i]=a*n.a+s*n.c+n.tx,r[i+1]=a*n.b+s*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,a=r.trim;a&&(iD.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(iD));const s=r.baseTexture,o=this.uClampFrame,l=this.clampMargin/s.resolution,u=this.clampOffset;return o[0]=(r._frame.x+l+u)/s.width,o[1]=(r._frame.y+l+u)/s.height,o[2]=(r._frame.x+r._frame.width-l+u)/s.width,o[3]=(r._frame.y+r._frame.height-l+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,this.isSimple=r._frame.width===s.width&&r._frame.height===s.height&&r.rotate===0,!0}}var yoe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,boe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class xoe extends tn{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||boe,r||yoe,n),this.maskSprite=i,this.maskMatrix=new At}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const a=this._maskSprite,s=a._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new bR(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class woe{constructor(e=null){this.type=Jt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=tn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Jt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class F${constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const a=this.maskDataPool.pop()||new woe;a.pooled=!0,a.maskObject=r,n=a}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Jt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Jt.SCISSOR:this.renderer.scissor.push(n);break;case Jt.STENCIL:this.renderer.stencil.push(n);break;case Jt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Jt.COLOR:this.pushColorMask(n);break}n.type===Jt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Jt.SCISSOR:this.renderer.scissor.pop(r);break;case Jt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Jt.SPRITE:this.popSpriteMask(r);break;case Jt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Jt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Jt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Jt.SCISSOR:e.type=Jt.STENCIL:e.type=Jt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new xoe])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const a=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}F$.extension={type:Te.RendererSystem,name:"mask"};Oe.add(F$);class z${constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const aD=new At,sD=[],j$=class mv extends z${constructor(e){super(e),this.glConst=Ae.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,a=i.renderTexture,s=n.getBounds(!0,sD.pop()??new qe);this.roundFrameToPixels(s,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),r&&s.fit(r),e._scissorRectLocal=s}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:a}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||mv.isMatrixRotated(r.worldTransform)||mv.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,a){mv.isMatrixRotated(a)||(a=a?aD.copyFrom(a):aD.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(a,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&sD.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};j$.extension={type:Te.RendererSystem,name:"scissor"};let _oe=j$;Oe.add(_oe);class U$ extends z${constructor(e){super(e),this.glConst=Ae.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(e._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}U$.extension={type:Te.RendererSystem,name:"stencil"};Oe.add(U$);class $${constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ke("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ke("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ke("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}$$.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"_plugin"};Oe.add($$);class G${constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new At,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const a=this.projectionMatrix,s=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=s*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-s-r.y*a.d}setTransform(e){}destroy(){this.renderer=null}}G$.extension={type:Te.RendererSystem,name:"projection"};Oe.add(G$);const Eoe=new oy,oD=new qe;class H${constructor(e){this.renderer=e,this._tempMatrix=new At}generateTexture(e,r){const{region:n,...i}=r||{},a=(n==null?void 0:n.copyTo(oD))||e.getLocalBounds(oD,!0),s=i.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/s),a.height=Math.max(a.height,1/s),i.width=a.width,i.height=a.height,i.resolution=s,i.multisample??(i.multisample=this.renderer.multisample);const o=ns.create(i);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const l=e.transform;return e.transform=Eoe,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}}H$.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"textureGenerator"};Oe.add(H$);const Ao=new qe,yh=new qe;class V${constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new qe,this.destinationFrame=new qe,this.viewportFrame=new qe}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let a,s,o;e?(a=e.baseTexture,o=a.resolution,r||(Ao.width=e.frame.width,Ao.height=e.frame.height,r=Ao),n||(yh.x=e.frame.x,yh.y=e.frame.y,yh.width=r.width,yh.height=r.height,n=yh),s=a.framebuffer):(o=i.resolution,r||(Ao.width=i._view.screen.width,Ao.height=i._view.screen.height,r=Ao),n||(n=Ao,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*o,l.y=n.y*o,l.width=n.width*o,l.height=n.height*o,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(n,r,o,!s),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=St.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const a=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer._view.screen,o=a.width!==s.width||a.height!==s.height;if(o){let{x:l,y:u,width:c,height:h}=this.viewportFrame;l=Math.round(l),u=Math.round(u),c=Math.round(c),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,c,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}V$.extension={type:Te.RendererSystem,name:"renderTexture"};Oe.add(V$);class Soe{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Coe(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=e.getActiveAttrib(t,i);if(a.name.startsWith("gl_"))continue;const s=P$(e,a.type),o={type:s,name:a.name,size:R$(s),location:e.getAttribLocation(t,a.name)};r[a.name]=o}return r}function Toe(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const a=e.getActiveUniform(t,i),s=a.name.replace(/\[.*?\]$/,""),o=!!a.name.match(/\[.*?\]$/),l=P$(e,a.type);r[s]={name:s,index:i,type:l,size:a.size,isArray:o,value:T$(l,a.size)}}return r}function Aoe(t,e){var o;const r=QM(t,t.VERTEX_SHADER,e.vertexSrc),n=QM(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const a=(o=e.extra)==null?void 0:o.transformFeedbackVaryings;if(a&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,a.names,a.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||roe(t,i,r,n),e.attributeData=Coe(i,t),e.uniformData=Toe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,c)=>u>c?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(i,u,l[u]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const s={};for(const l in e.uniformData){const u=e.uniformData[l];s[l]={location:t.getUniformLocation(i,l),value:T$(u.type,u.size)}}return new Soe(i,s)}function Roe(t,e,r,n,i){r.buffer.update(i)}const Poe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},W$={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Ioe(t){const e=t.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let a=0;a<e.length;a++){const s=e[a];if(r=W$[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,n%r!==0&&n<16){const o=n%r%16;n+=o,i+=o}n+r>16?(i=Math.ceil(i/16)*16,s.offset=i,i+=r,n=r):(s.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function koe(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function Moe(t,e){if(!t.autoManage)return{size:0,syncFunc:Roe};const r=koe(t.uniforms,e),{uboElements:n,size:i}=Ioe(r),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let s=0;s<n.length;s++){const o=n[s],l=t.uniforms[o.data.name],u=o.data.name;let c=!1;for(let h=0;h<Xu.length;h++){const d=Xu[h];if(d.codeUbo&&d.test(o.data,l)){a.push(`offset = ${o.offset/4};`,Xu[h].codeUbo(o.data.name,l)),c=!0;break}}if(!c)if(o.data.size>1){const h=R$(o.data.type),d=Math.max(W$[o.data.type]/16,1),f=h/d,p=(4-f%4)%4;a.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${o.offset/4};

                t = 0;

                for(var i=0; i < ${o.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=Poe[o.data.type];a.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${o.offset/4};
                ${h};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let Doe=0;const Tp={textureCount:0,uboCount:0};class q${constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Doe++}systemCheck(){if(!ioe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Tp.textureCount=0,Tp.uboCount=0,this.syncUniformGroup(e.uniformGroup,Tp)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Jse(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Tp,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const s=this.getSignature(e,this.shader.program.uniformData,"ubo");let o=this._uboCache[s];if(o||(o=this._uboCache[s]=Moe(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(o.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=o.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,a=[`${n}-`];for(const s in i)a.push(s),r[s]&&a.push(r[s].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=Aoe(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}q$.extension={type:Te.RendererSystem,name:"shader"};Oe.add(q$);class Tm{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Tm.defaultOptions={hello:!1},Tm.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"startup"};Oe.add(Tm);function Ooe(t,e=[]){return e[He.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.ADD]=[t.ONE,t.ONE],e[He.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.NONE]=[0,0],e[He.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[He.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[He.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[He.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[He.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[He.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[He.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[He.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[He.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[He.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[He.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Noe=0,Loe=1,Boe=2,Foe=3,zoe=4,joe=5,X$=class nT{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=He.NONE,this._blendEq=!1,this.map=[],this.map[Noe]=this.setBlend,this.map[Loe]=this.setOffset,this.map[Boe]=this.setCullFace,this.map[Foe]=this.setDepthTest,this.map[zoe]=this.setFrontFace,this.map[joe]=this.setDepthMask,this.checks=[],this.defaultState=new Ca,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Ooe(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(nT.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(nT.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};X$.extension={type:Te.RendererSystem,name:"state"};let Uoe=X$;Oe.add(Uoe);class $oe extends xf{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ni(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const a=n.find(s=>this._systemsHash[s]===i);i[e.name](r[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Dh=class gv{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=gv.defaultMaxIdle,this.checkCountMax=gv.defaultCheckCountMax,this.mode=gv.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==uR.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const a=r[i];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){let i=0;for(let a=0;a<r.length;a++)r[a]!==null&&(r[i++]=r[a]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Dh.defaultMode=uR.AUTO,Dh.defaultMaxIdle=60*60,Dh.defaultCheckCountMax=60*10,Dh.extension={type:Te.RendererSystem,name:"textureGC"};let zo=Dh;Oe.add(zo);class w1{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Fe.UNSIGNED_BYTE,this.internalFormat=_e.RGBA,this.samplerType=0}}function Goe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Pe.FLOAT,[t.RGBA]:Pe.FLOAT,[t.ALPHA]:Pe.FLOAT,[t.LUMINANCE]:Pe.FLOAT,[t.LUMINANCE_ALPHA]:Pe.FLOAT,[t.R8]:Pe.FLOAT,[t.R8_SNORM]:Pe.FLOAT,[t.RG8]:Pe.FLOAT,[t.RG8_SNORM]:Pe.FLOAT,[t.RGB8]:Pe.FLOAT,[t.RGB8_SNORM]:Pe.FLOAT,[t.RGB565]:Pe.FLOAT,[t.RGBA4]:Pe.FLOAT,[t.RGB5_A1]:Pe.FLOAT,[t.RGBA8]:Pe.FLOAT,[t.RGBA8_SNORM]:Pe.FLOAT,[t.RGB10_A2]:Pe.FLOAT,[t.RGB10_A2UI]:Pe.FLOAT,[t.SRGB8]:Pe.FLOAT,[t.SRGB8_ALPHA8]:Pe.FLOAT,[t.R16F]:Pe.FLOAT,[t.RG16F]:Pe.FLOAT,[t.RGB16F]:Pe.FLOAT,[t.RGBA16F]:Pe.FLOAT,[t.R32F]:Pe.FLOAT,[t.RG32F]:Pe.FLOAT,[t.RGB32F]:Pe.FLOAT,[t.RGBA32F]:Pe.FLOAT,[t.R11F_G11F_B10F]:Pe.FLOAT,[t.RGB9_E5]:Pe.FLOAT,[t.R8I]:Pe.INT,[t.R8UI]:Pe.UINT,[t.R16I]:Pe.INT,[t.R16UI]:Pe.UINT,[t.R32I]:Pe.INT,[t.R32UI]:Pe.UINT,[t.RG8I]:Pe.INT,[t.RG8UI]:Pe.UINT,[t.RG16I]:Pe.INT,[t.RG16UI]:Pe.UINT,[t.RG32I]:Pe.INT,[t.RG32UI]:Pe.UINT,[t.RGB8I]:Pe.INT,[t.RGB8UI]:Pe.UINT,[t.RGB16I]:Pe.INT,[t.RGB16UI]:Pe.UINT,[t.RGB32I]:Pe.INT,[t.RGB32UI]:Pe.UINT,[t.RGBA8I]:Pe.INT,[t.RGBA8UI]:Pe.UINT,[t.RGBA16I]:Pe.INT,[t.RGBA16UI]:Pe.UINT,[t.RGBA32I]:Pe.INT,[t.RGBA32UI]:Pe.UINT,[t.DEPTH_COMPONENT16]:Pe.FLOAT,[t.DEPTH_COMPONENT24]:Pe.FLOAT,[t.DEPTH_COMPONENT32F]:Pe.FLOAT,[t.DEPTH_STENCIL]:Pe.FLOAT,[t.DEPTH24_STENCIL8]:Pe.FLOAT,[t.DEPTH32F_STENCIL8]:Pe.FLOAT}:e={[t.RGB]:Pe.FLOAT,[t.RGBA]:Pe.FLOAT,[t.ALPHA]:Pe.FLOAT,[t.LUMINANCE]:Pe.FLOAT,[t.LUMINANCE_ALPHA]:Pe.FLOAT,[t.DEPTH_STENCIL]:Pe.FLOAT},e}function Hoe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Fe.UNSIGNED_BYTE]:{[_e.RGBA]:t.RGBA8,[_e.RGB]:t.RGB8,[_e.RG]:t.RG8,[_e.RED]:t.R8,[_e.RGBA_INTEGER]:t.RGBA8UI,[_e.RGB_INTEGER]:t.RGB8UI,[_e.RG_INTEGER]:t.RG8UI,[_e.RED_INTEGER]:t.R8UI,[_e.ALPHA]:t.ALPHA,[_e.LUMINANCE]:t.LUMINANCE,[_e.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Fe.BYTE]:{[_e.RGBA]:t.RGBA8_SNORM,[_e.RGB]:t.RGB8_SNORM,[_e.RG]:t.RG8_SNORM,[_e.RED]:t.R8_SNORM,[_e.RGBA_INTEGER]:t.RGBA8I,[_e.RGB_INTEGER]:t.RGB8I,[_e.RG_INTEGER]:t.RG8I,[_e.RED_INTEGER]:t.R8I},[Fe.UNSIGNED_SHORT]:{[_e.RGBA_INTEGER]:t.RGBA16UI,[_e.RGB_INTEGER]:t.RGB16UI,[_e.RG_INTEGER]:t.RG16UI,[_e.RED_INTEGER]:t.R16UI,[_e.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Fe.SHORT]:{[_e.RGBA_INTEGER]:t.RGBA16I,[_e.RGB_INTEGER]:t.RGB16I,[_e.RG_INTEGER]:t.RG16I,[_e.RED_INTEGER]:t.R16I},[Fe.UNSIGNED_INT]:{[_e.RGBA_INTEGER]:t.RGBA32UI,[_e.RGB_INTEGER]:t.RGB32UI,[_e.RG_INTEGER]:t.RG32UI,[_e.RED_INTEGER]:t.R32UI,[_e.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Fe.INT]:{[_e.RGBA_INTEGER]:t.RGBA32I,[_e.RGB_INTEGER]:t.RGB32I,[_e.RG_INTEGER]:t.RG32I,[_e.RED_INTEGER]:t.R32I},[Fe.FLOAT]:{[_e.RGBA]:t.RGBA32F,[_e.RGB]:t.RGB32F,[_e.RG]:t.RG32F,[_e.RED]:t.R32F,[_e.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Fe.HALF_FLOAT]:{[_e.RGBA]:t.RGBA16F,[_e.RGB]:t.RGB16F,[_e.RG]:t.RG16F,[_e.RED]:t.R16F},[Fe.UNSIGNED_SHORT_5_6_5]:{[_e.RGB]:t.RGB565},[Fe.UNSIGNED_SHORT_4_4_4_4]:{[_e.RGBA]:t.RGBA4},[Fe.UNSIGNED_SHORT_5_5_5_1]:{[_e.RGBA]:t.RGB5_A1},[Fe.UNSIGNED_INT_2_10_10_10_REV]:{[_e.RGBA]:t.RGB10_A2,[_e.RGBA_INTEGER]:t.RGB10_A2UI},[Fe.UNSIGNED_INT_10F_11F_11F_REV]:{[_e.RGB]:t.R11F_G11F_B10F},[Fe.UNSIGNED_INT_5_9_9_9_REV]:{[_e.RGB]:t.RGB9_E5},[Fe.UNSIGNED_INT_24_8]:{[_e.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Fe.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[_e.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Fe.UNSIGNED_BYTE]:{[_e.RGBA]:t.RGBA,[_e.RGB]:t.RGB,[_e.ALPHA]:t.ALPHA,[_e.LUMINANCE]:t.LUMINANCE,[_e.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Fe.UNSIGNED_SHORT_5_6_5]:{[_e.RGB]:t.RGB},[Fe.UNSIGNED_SHORT_4_4_4_4]:{[_e.RGBA]:t.RGBA},[Fe.UNSIGNED_SHORT_5_5_5_1]:{[_e.RGBA]:t.RGBA}},e}class Y${constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ye,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Hoe(e),this.samplerTypes=Goe(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new w1(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new w1(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let a=e-1;a>=0;--a){const s=r[a];s&&s._glTextures[i].samplerType!==Pe.FLOAT&&this.renderer.texture.unbind(s)}}initTexture(e){const r=new w1(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??Pe.FLOAT,this.webGLVersion===2&&e.type===Fe.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==Pe.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==a||r.height!==s||r.dirtyId<0)&&(r.width=a,r.height=s,o.texImage2D(e.target,0,r.internalFormat,a,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&qu(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===_a.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Js.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==_a.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===fa.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===fa.LINEAR){const a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===fa.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===fa.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}Y$.extension={type:Te.RendererSystem,name:"texture"};Oe.add(Y$);class K${constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,a=r.createTransformFeedback();e._glTransformFeedbacks[i]=a,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,a);for(let s=0;s<e.buffers.length;s++){const o=e.buffers[s];o&&(n.buffer.update(o),o._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,s,o._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let s=0;s<e.buffers.length;s++){const o=e.buffers[s];if(!o)continue;const l=o._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&a.dispose(o,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}K$.extension={type:Te.RendererSystem,name:"transformFeedback"};Oe.add(K$);class Am{constructor(e){this.renderer=e}init(e){this.screen=new qe(0,0,e.width,e.height),this.element=e.view||Ae.ADAPTER.createCanvas(),this.resolution=e.resolution||Ae.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Am.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Am.extension={type:[Te.RendererSystem,Te.CanvasRendererSystem],name:"_view"};Oe.add(Am);Ae.PREFER_ENV=Bl.WEBGL2;Ae.STRICT_TEXTURE_CACHE=!1;Ae.RENDER_OPTIONS={...Cm.defaultOptions,...Sm.defaultOptions,...Am.defaultOptions,...Tm.defaultOptions};Object.defineProperties(Ae,{WRAP_MODE:{get(){return Ye.defaultOptions.wrapMode},set(t){Ke("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ye.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ye.defaultOptions.scaleMode},set(t){Ke("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ye.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ye.defaultOptions.mipmap},set(t){Ke("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ye.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ye.defaultOptions.anisotropicLevel},set(t){Ke("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ye.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ke("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),tn.defaultResolution},set(t){tn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ke("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),tn.defaultMultisample},set(t){tn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Fo.defaultMaxTextures},set(t){Ke("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Fo.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Fo.defaultBatchSize},set(t){Ke("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Fo.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Fo.canUploadSameBuffer},set(t){Ke("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Fo.canUploadSameBuffer=t}},GC_MODE:{get(){return zo.defaultMode},set(t){Ke("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),zo.defaultMode=t}},GC_MAX_IDLE:{get(){return zo.defaultMaxIdle},set(t){Ke("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),zo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return zo.defaultCheckCountMax},set(t){Ke("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),zo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Ga.defaultVertexPrecision},set(t){Ke("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ga.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Ga.defaultFragmentPrecision},set(t){Ke("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ga.defaultFragmentPrecision=t}}});var xl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(xl||{});class _1{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Z$=class Tn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _1(null,null,1/0),this.deltaMS=1/Tn.targetFPMS,this.elapsedMS=1/Tn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=xl.NORMAL){return this._addListener(new _1(e,r,n))}addOnce(e,r,n=xl.NORMAL){return this._addListener(new _1(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Tn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Tn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Tn._shared){const e=Tn._shared=new Tn;e.autoStart=!0,e._protected=!0}return Tn._shared}static get system(){if(!Tn._system){const e=Tn._system=new Tn;e.autoStart=!0,e._protected=!0}return Tn._system}};Z$.targetFPMS=.06;let fn=Z$;Object.defineProperties(Ae,{TARGET_FPMS:{get(){return fn.targetFPMS},set(t){Ke("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),fn.targetFPMS=t}}});class Q${static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,xl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?fn.shared:new fn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Q$.extension=Te.Application;Oe.add(Q$);const J$=[];Oe.handleByList(Te.Renderer,J$);function Voe(t){for(const e of J$)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Woe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qoe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Xoe=Woe,e8=qoe;class t8{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=qt.HIGH?this.multisample=qt.HIGH:r>=qt.MEDIUM?this.multisample=qt.MEDIUM:r>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE}destroy(){}}t8.extension={type:Te.RendererSystem,name:"_multisample"};Oe.add(t8);class Yoe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class r8{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const a=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,a.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:a}=this;n=n||0;const s=e._glBuffers[a]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const a=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,a)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Yoe(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}r8.extension={type:Te.RendererSystem,name:"buffer"};Oe.add(r8);class n8{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,a,s,o;if(r&&(i=r.renderTexture,a=r.clear,s=r.transform,o=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=s,!n.context.isLost){if(i||(this.lastObjectRendered=e),!o){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(a??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}n8.extension={type:Te.RendererSystem,name:"objectRenderer"};Oe.add(n8);const yv=class iT extends $oe{constructor(e){super(),this.type=VU.WEBGL,e=Object.assign({},Ae.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Li({projectionMatrix:new At},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:iT.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ke("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=iT.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:yse()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ke("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ke("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ke("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ke("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};yv.extension={type:Te.Renderer,priority:1},yv.__plugins={},yv.__systems={};let xR=yv;Oe.handleByMap(Te.RendererPlugin,xR.__plugins);Oe.handleByMap(Te.RendererSystem,xR.__systems);Oe.add(xR);class i8 extends Ud{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const s=new Ye;this.items.push(s),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ud?this.addResourceAt(e[n],n):this.addResourceAt(_$(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class Koe extends i8{constructor(e,r){const{width:n,height:i}=r||{};let a,s;Array.isArray(e)?(a=e,s=e.length):s=e,super(s,{width:n,height:i}),a&&this.initFromArray(a,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Hu.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:a,items:s}=this,{gl:o}=e;n.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=s[l];a[l]<u.dirtyId&&(a[l]=u.dirtyId,u.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class Zoe extends rs{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const a8=class Oh extends i8{constructor(e,r){const{width:n,height:i,autoLoad:a,linkBaseTexture:s}=r||{};if(e&&e.length!==Oh.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let o=0;o<Oh.SIDES;o++)this.items[o].target=Hu.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,e&&this.initFromArray(e,r),a!==!1&&this.load()}bind(e){super.bind(e),e.target=Hu.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Hu.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let a=0;a<Oh.SIDES;a++){const s=this.items[a];(i[a]<s.dirtyId||n.dirtyId<r.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,n),i[a]=s.dirtyId):i[a]<-1&&(e.gl.texImage2D(s.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Oh.SIDES}};a8.SIDES=6;let Qoe=a8;class Pu extends rs{constructor(e,r){r=r||{};let n,i,a;typeof e=="string"?(n=Pu.EMPTY,i=e,a=!0):(n=e,i=null,a=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??a,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await Ae.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const a=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===dn.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Pu._EMPTY=Pu._EMPTY??Ae.ADAPTER.createCanvas(0,0),Pu._EMPTY}}const aT=class bv extends rs{constructor(e,r){r=r||{},super(Ae.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},bv.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;rs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,a=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,a=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),a=Math.round(a);const s=this.source;s.width=i,s.height=a,s._pixiId=`canvas_${bl()}`,s.getContext("2d").drawImage(e,0,0,r,n,0,0,i,a),this._resolve(),this._resolve=null}}static getSize(e){const r=bv.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&bv.SVG_XML.test(e)}};aT.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,aT.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let sT=aT;class Joe extends rs{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const oT=class lT extends rs{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];rs.crossOrigin(n,i,r.crossorigin);for(let a=0;a<e.length;++a){const s=document.createElement("source");let{src:o,mime:l}=e[a];if(o=o||e[a],o.startsWith("data:"))l=o.slice(5,o.indexOf(";"));else if(!o.startsWith("blob:")){const u=o.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);l=l||lT.MIME_TYPES[c]||`video/${c}`}s.src=o,l&&(s.type=l),n.appendChild(s)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=fn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(fn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(fn.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(fn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||lT.TYPES.includes(r)}};oT.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],oT.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let s8=oT;XC.push(Pu,M$,Zoe,s8,Joe,sT,ny,Qoe,Koe);class Rm{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?qe.EMPTY:(e=e||new qe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:a,d:s,tx:o,ty:l}=e,u=n*r.x+a*r.y+o,c=i*r.x+s*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,s=e[0],o=e[1];r=s<r?s:r,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,s=e[2],o=e[3],r=s<r?s:r,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,s=e[4],o=e[5],r=s<r?s:r,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,s=e[6],o=e[7],r=s<r?s:r,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a}addFrame(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)}addFrameMatrix(e,r,n,i,a){const s=e.a,o=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,g=this.maxY,m=s*r+l*n+c,v=o*r+u*n+h;d=m<d?m:d,f=v<f?v:f,p=m>p?m:p,g=v>g?v:g,m=s*i+l*n+c,v=o*i+u*n+h,d=m<d?m:d,f=v<f?v:f,p=m>p?m:p,g=v>g?v:g,m=s*r+l*a+c,v=o*r+u*a+h,d=m<d?m:d,f=v<f?v:f,p=m>p?m:p,g=v>g?v:g,m=s*i+l*a+c,v=o*i+u*a+h,d=m<d?m:d,f=v<f?v:f,p=m>p?m:p,g=v>g?v:g,this.minX=d,this.minY=f,this.maxX=p,this.maxY=g}addVertexData(e,r,n){let i=this.minX,a=this.minY,s=this.maxX,o=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,a=c<a?c:a,s=u>s?u:s,o=c>o?c:o}this.minX=i,this.minY=a,this.maxX=s,this.maxY=o}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,a=0,s=a){const o=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,g=this.maxX,m=this.maxY;for(let v=n;v<i;v+=2){const y=r[v],b=r[v+1],x=o*y+u*b+h,w=c*b+l*y+d;f=Math.min(f,x-a),g=Math.max(g,x+a),p=Math.min(p,w-s),m=Math.max(m,w+s)}this.minX=f,this.minY=p,this.maxX=g,this.maxY=m}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,s=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=s){const o=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=n<o?n:o,this.minY=i<l?i:l,this.maxX=a>u?a:u,this.maxY=s>c?s:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,s=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=s){const o=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=n<o?n:o,this.minY=i<l?i:l,this.maxX=a>u?a:u,this.maxY=s>c?s:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,a,s){e-=a,r-=s,n+=a,i+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Bt extends xf{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new oy,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Rm,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Bt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new qe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Rm);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const s=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-a,s}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,a=0,s=0,o=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=a,this.skew.x=s,this.skew.y=o,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new ele),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Wse}set angle(e){this.transform.rotation=e*qse}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class ele extends Bt{constructor(){super(...arguments),this.sortDirty=null}}Bt.prototype.displayObjectUpdateTransform=Bt.prototype.updateTransform;const tle=new At;function rle(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const o8=class uT extends Bt{constructor(){super(),this.children=[],this.sortableChildren=uT.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);qu(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,qu(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,qu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,a=i-n;let s;if(a>0&&a<=i){s=this.children.splice(n,a);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(rle),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,a=this.children.length;i<a;++i){const s=this.children[i];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==uT.prototype._render&&(n=this.getBounds(!0));const a=e.projection.transform;if(a&&(i?(i=tle.copyFrom(i),i.prepend(a)):i=a),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var a,s,o;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const i=r&&((a=this._enabledFilters)==null?void 0:a.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Jt.NONE));if(i&&e.batch.flush(),r&&((s=this._enabledFilters)!=null&&s.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};o8.defaultSortableChildren=!1;let _n=o8;_n.prototype.containerUpdateTransform=_n.prototype.updateTransform;Object.defineProperties(Ae,{SORTABLE_CHILDREN:{get(){return _n.defaultSortableChildren},set(t){Ke("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),_n.defaultSortableChildren=t}}});const bh=new $e,nle=new Uint16Array([0,1,2,0,2,3]);class Xn extends _n{constructor(e){super(),this._anchor=new $a(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new St(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=He.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Me.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=nle,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Ae.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=zs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=zs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,a=r.c,s=r.d,o=r.tx,l=r.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,g=0,m=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,m=c.y-d._y*h.height,g=m+c.height):(p=-d._x*h.width,f=p+h.width,m=-d._y*h.height,g=m+h.height),u[0]=n*p+a*m+o,u[1]=s*m+i*p+l,u[2]=n*f+a*m+o,u[3]=s*m+i*f+l,u[4]=n*f+a*g+o,u[5]=s*g+i*f+l,u[6]=n*p+a*g+o,u[7]=s*g+i*p+l,this._roundPixels){const v=Ae.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,a=this.transform.worldTransform,s=a.a,o=a.b,l=a.c,u=a.d,c=a.tx,h=a.ty,d=-i._x*n.width,f=d+n.width,p=-i._y*n.height,g=p+n.height;if(r[0]=s*d+l*p+c,r[1]=u*p+o*d+h,r[2]=s*f+l*p+c,r[3]=u*p+o*f+h,r[4]=s*f+l*g+c,r[5]=u*g+o*f+h,r[6]=s*d+l*g+c,r[7]=u*g+o*d+h,this._roundPixels){const m=Ae.RESOLUTION;for(let v=0;v<r.length;++v)r[v]=Math.round(r[v]*m)/m}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Rm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,bh);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let a=0;return bh.x>=i&&bh.x<i+r&&(a=-n*this.anchor.y,bh.y>=a&&bh.y<a+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof Me?e:Me.from(e,r);return new Xn(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=zs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=zs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const l8=new At;Bt.prototype._cacheAsBitmap=!1;Bt.prototype._cacheData=null;Bt.prototype._cacheAsBitmapResolution=null;Bt.prototype._cacheAsBitmapMultisample=null;class ile{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Bt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new ile),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Bt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Bt.prototype._initCachedDisplayObject=function(t){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new qe,!0);if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,l=ns.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${bl()}`;this._cacheData.textureCacheId=u,Ye.addToCache(l.baseTexture,u),Me.addToCache(l,u);const c=this.transform.localTransform.copyTo(l8).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(i,a,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new Xn(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};Bt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Bt.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(new qe,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,a=this.cacheAsBitmapResolution||t.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const s=ns.create({width:e.width,height:e.height,resolution:a}),o=`cacheAsBitmap_${bl()}`;this._cacheData.textureCacheId=o,Ye.addToCache(s.baseTexture,o),Me.addToCache(s,o);const l=l8;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Xn(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Bt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Bt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Bt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ye.removeFromCache(this._cacheData.textureCacheId),Me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Bt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Bt.prototype.name=null;_n.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const a=i.getChildByName(t,!0);if(a)return a}return null};Bt.prototype.getGlobalPosition=function(t=new $e,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ale=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class sle extends tn{constructor(e=1){super(Xoe,ale,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const ole={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},lle=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function ule(t){const e=ole[t],r=e.length;let n=lle,i="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let s;for(let o=0;o<t;o++){let l=a.replace("%index%",o.toString());s=o,o>=r&&(s=t-o-1),l=l.replace("%value%",e[s].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const cle=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function hle(t,e){const r=Math.ceil(t/2);let n=cle,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let s=0;s<t;s++){let o=a.replace("%index%",s.toString());o=o.replace("%sampleIndex%",`${s-(r-1)}.0`),i+=o,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class cT extends tn{constructor(e,r=8,n=4,i=tn.defaultResolution,a=5){const s=hle(a,e),o=ule(a);super(s,o),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const a=e.getFilterTexture(),s=e.renderer;let o=r,l=a;this.state.blend=!1,e.applyFilter(this,o,l,oa.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(o,oa.BLIT),this.uniforms.uSampler=l;const c=l;l=o,o=c,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class dle extends tn{constructor(e=8,r=4,n=tn.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new cT(!0,e,r,n,i),this.blurYFilter=new cT(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){const o=e.getFilterTexture();this.blurXFilter.apply(e,r,o,oa.CLEAR),this.blurYFilter.apply(e,o,n,i),e.returnFilterTexture(o)}else s?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var fle=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class hT extends tn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(e8,fle,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,a]=St.shared.setValue(e).toArray(),s=[n,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(s,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),a=Math.sqrt,s=1/3,o=a(s),l=n+(1-n)*s,u=s*(1-n)-o*i,c=s*(1-n)+o*i,h=s*(1-n)+o*i,d=n+s*(1-n),f=s*(1-n)-o*i,p=s*(1-n)-o*i,g=s*(1-n)+o*i,m=n+s*(1-n),v=[l,u,c,0,0,h,d,f,0,0,p,g,m,0,0,0,0,0,1,0];this._loadMatrix(v,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),a=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(a,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,a=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(a,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,a){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const s=St.shared,[o,l,u]=s.setValue(n).toArray(),[c,h,d]=s.setValue(i).toArray(),f=[.3,.59,.11,0,0,o,l,u,e,0,c,h,d,r,0,o-c,l-h,u-d,0,0];this._loadMatrix(f,a)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}hT.prototype.grayscale=hT.prototype.greyscale;var ple=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class mle extends tn{constructor(e,r){const n=new At;e.renderable=!1,super(vle,ple,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new $e(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),o=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&o!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/o,this.uniforms.rotation[3]=a.d/o),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var gle=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,yle=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class ble extends tn{constructor(){super(yle,gle)}}var xle=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class wle extends tn{constructor(e=.5,r=Math.random()){super(e8,xle,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const lD={AlphaFilter:sle,BlurFilter:dle,BlurFilterPass:cT,ColorMatrixFilter:hT,DisplacementFilter:mle,FXAAFilter:ble,NoiseFilter:wle};Object.entries(lD).forEach(([t,e])=>{Object.defineProperty(lD,t,{get(){return Ke("7.1.0",`filters.${t} has moved to ${t}`),e}})});class _le{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(fn.system.add(this.tickerUpdate,this,xl.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(fn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Ds=new _le;class Ef{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ef.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new $e,this.page=new $e,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Pm extends Ef{constructor(){super(...arguments),this.client=new $e,this.movement=new $e,this.offset=new $e,this.global=new $e,this.screen=new $e}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,a,s,o,l,u,c,h,d,f,p,g){throw new Error("Method not implemented.")}}class yi extends Pm{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Yu extends Pm{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Yu.DOM_DELTA_PIXEL=0,Yu.DOM_DELTA_LINE=1,Yu.DOM_DELTA_PAGE=2;const Ele=2048,Sle=new $e,E1=new $e;class Cle{constructor(e){this.dispatch=new xf,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Ds.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,Sle.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,a=n.length-1;i<a;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let a=n.length-1;a>=0;a--)i.forEach(s=>{e.currentTarget=n[a],this.notifyTarget(e,s)})}propagationPath(e){const r=[e];for(let n=0;n<Ele&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,a,s=!1){let o=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ds.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const d=c[h],f=this.hitTestMoveRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,a,s||a(e,n));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),o=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:o?this._hitElements:l&&!a(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,a){if(this._interactivePrune(e)||a(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ds.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const c=l[u],h=this.hitTestRecursive(c,this._isInteractive(r)?r:c.eventMode,n,i,a);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const d=e.isInteractive();return(h.length>0||d)&&h.push(e),h}}}const s=this._isInteractive(r),o=e.isInteractive();return s&&i(e,n)?o?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,E1),!e.hitArea.contains(E1.x,E1.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var a,s;r=r??e.type;const n=`on${r}`;(s=(a=e.currentTarget)[n])==null||s.call(a,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof yi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof yi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&a!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,a);if(this.dispatchEvent(h,"pointerout"),n&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(a)){const d=this.createPointerEvent(e,"pointerleave",a);for(d.eventPhase=d.AT_TARGET;d.target&&!r.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}if(a!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,c);this.dispatchEvent(h,"pointerover"),n&&this.dispatchEvent(h,"mouseover");let d=a==null?void 0:a.parent;for(;d&&d!==this.rootTarget.parent&&d!==r.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const f=this.clonePointerEvent(r,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==a&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}const s=[],o=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(r,"pointermove"),o&&s.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),o&&s.push("globaltouchmove")),n&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),o&&s.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),s.length>0&&this.all(r,s),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var s;if(!(e instanceof yi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(s=n.target)==null?void 0:s.cursor);const a=this.clonePointerEvent(n,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof yi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),a=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(a),n&&this.dispatchEvent(a,"mouseout");const s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;r.overTargets=null,this.freeEvent(a),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof yi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const o=n.button===2;this.dispatchEvent(n,o?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.pressTargetsByButton[e.button]);let s=a;if(a&&!n.composedPath().includes(a)){let o=a;for(;o&&!n.composedPath().includes(o);){if(n.currentTarget=o,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}o=o.parent}delete i.pressTargetsByButton[e.button],s=o}if(s){const o=this.clonePointerEvent(n,"click");o.target=s,o.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:o.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===o.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=o.target,l.timeStamp=r,o.detail=l.clickCount,o.pointerType==="mouse"){const u=o.button===2;this.dispatchEvent(o,u?"rightclick":"click")}else o.pointerType==="touch"&&this.dispatchEvent(o,"tap");this.dispatchEvent(o,"pointertap"),this.freeEvent(o)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof yi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let a=n;for(;a;)i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Yu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(yi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Yu);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(yi);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof yi&&r instanceof yi&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Pm&&r instanceof Pm&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,a=n.length;i<a&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const Tle=1,Ale={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},dT=class fT{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new Cle(null),Ds.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new yi(null),this.rootWheelEvent=new Yu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...fT.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,fT._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const a=r[n],s=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Ds.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const a=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let a=0,s=i.length;a<s;a++){const o=this.bootstrapEvent(this.rootPointerEvent,i[a]);o.type+=n,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const a=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Ds.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ds.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ds.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*a,e.y=(n-i.top)*(this.domElement.height/i.height)*a}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const a=e.changedTouches[n];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,r.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Tle),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Ale[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};dT.extension={name:"events",type:[Te.RendererSystem,Te.CanvasRendererSystem]},dT.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let pT=dT;Oe.add(pT);function uD(t){return t==="dynamic"||t==="static"}const Rle={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??uD(pT.defaultEventMode)},set interactive(t){Ke("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??pT.defaultEventMode},set eventMode(t){this._internalInteractive=uD(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,a=typeof r=="object"?r.once===!0:!1,s=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const o=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(t,o,s)}),a?l.once(t,o,s):l.on(t,o,s)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ef))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Bt.mixin(Rle);const Ple={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Bt.mixin(Ple);const Ile=9,Ap=100,kle=0,Mle=0,cD=2,hD=1,Dle=-1e3,Ole=-1e3,Nle=2;class u8{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ua.tablet||Ua.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Ap}px`,r.style.height=`${Ap}px`,r.style.position="absolute",r.style.top=`${kle}px`,r.style.left=`${Mle}px`,r.style.zIndex=cD.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${hD}px`,e.style.height=`${hD}px`,e.style.position="absolute",e.style.top=`${Dle}px`,e.style.left=`${Ole}px`,e.style.zIndex=Nle.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Ua.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:a}=this.renderer.view.getBoundingClientRect(),{width:s,height:o,resolution:l}=this.renderer,u=i/s*l,c=a/o*l;let h=this.div;h.style.left=`${r}px`,h.style.top=`${n}px`,h.style.width=`${s}px`,h.style.height=`${o}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,qu(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const g=f.worldTransform;f.hitArea?(h.style.left=`${(g.tx+p.x*g.a)*u}px`,h.style.top=`${(g.ty+p.y*g.d)*c}px`,h.style.width=`${p.width*g.a*u}px`,h.style.height=`${p.height*g.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Ap}px`,r.style.height=`${Ap}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=cD.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,a=Object.assign(new Ef(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(s=>i.dispatchEvent(a,s))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Ile&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}u8.extension={name:"accessibility",type:[Te.RendererPlugin,Te.CanvasRendererPlugin]};Oe.add(u8);const c8=class vT{constructor(e){this.stage=new _n,e=Object.assign({forceCanvas:!1},e),this.renderer=Voe(e),vT._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=vT._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};c8._plugins=[];let h8=c8;Oe.handleByList(Te.Application,h8._plugins);class d8{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:a}=this._resizeTo;r=i,n=a}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}d8.extension=Te.Application;Oe.add(d8);const dD={loader:Te.LoadParser,resolver:Te.ResolveParser,cache:Te.CacheParser,detection:Te.DetectionParser};Oe.handle(Te.Asset,t=>{const e=t.ref;Object.entries(dD).filter(([r])=>!!e[r]).forEach(([r,n])=>Oe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(dD).filter(r=>!!e[r]).forEach(r=>Oe.remove(e[r]))});class Lle{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Bc(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function _o(t,e){const r=t.split("?")[0],n=wr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Ii=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),mT=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function f8(t,e,r,n,i){const a=e[r];for(let s=0;s<a.length;s++){const o=a[s];r<e.length-1?f8(t.replace(n[r],o),e,r+1,n,i):i.push(t.replace(n[r],o))}}function Ble(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(a=>{const s=a.substring(1,a.length-1).split(",");i.push(s)}),f8(t,i,0,r,n)}else n.push(t);return n}const Im=t=>!Array.isArray(t);class Fle{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Ii(e);let i;for(let o=0;o<this.parsers.length;o++){const l=this.parsers[o];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(o=>{i[o]=r}));const a=Object.keys(i),s={cacheKeys:a,keys:n};if(n.forEach(o=>{this._cacheMap.set(o,s)}),a.forEach(o=>{this._cache.has(o)&&this._cache.get(o)!==r&&console.warn("[Cache] already has key:",o),this._cache.set(o,i[o])}),r instanceof Me){const o=r;n.forEach(l=>{o.baseTexture!==Me.EMPTY.baseTexture&&Ye.addToCache(o.baseTexture,l),Me.addToCache(o,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Xo=new Fle;class zle{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var s,o;let i=null,a=null;if(r.loadParser&&(a=this._parserHash[r.loadParser],a||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!a){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((s=u.test)!=null&&s.call(u,e,r,this))){a=u;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await a.load(e,r,this),n.parser=a;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((o=u.testParse)==null?void 0:o.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},a=Im(e),s=Ii(e,u=>({alias:[u],src:u})),o=s.length,l=s.map(async u=>{const c=wr.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,r&&r(++n/o)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),a?i[s[0].src]:i}async unload(e){const r=Ii(e,n=>({alias:[n],src:n})).map(async n=>{var s,o;const i=wr.toAbsolute(n.src),a=this.promiseCache[i];if(a){const l=await a.promise;delete this.promiseCache[i],(o=(s=a.parser)==null?void 0:s.unload)==null||o.call(s,l,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Hi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Hi||{});const jle=".json",Ule="application/json",$le={extension:{type:Te.LoadParser,priority:Hi.Low},name:"loadJson",test(t){return Bc(t,Ule)||_o(t,jle)},async load(t){return await(await Ae.ADAPTER.fetch(t)).json()}};Oe.add($le);const Gle=".txt",Hle="text/plain",Vle={name:"loadTxt",extension:{type:Te.LoadParser,priority:Hi.Low},test(t){return Bc(t,Hle)||_o(t,Gle)},async load(t){return await(await Ae.ADAPTER.fetch(t)).text()}};Oe.add(Vle);const Wle=["normal","bold","100","200","300","400","500","600","700","800","900"],qle=[".ttf",".otf",".woff",".woff2"],Xle=["font/ttf","font/otf","font/woff","font/woff2"],Yle=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Kle(t){const e=wr.extname(t),r=wr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let n=r.length>0;for(const a of r)if(!a.match(Yle)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const Zle=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Qle(t){return Zle.test(t)?t:encodeURI(t)}const Jle={extension:{type:Te.LoadParser,priority:Hi.Low},name:"loadWebFont",test(t){return Bc(t,Xle)||_o(t,qle)},async load(t,e){var n,i,a;const r=Ae.ADAPTER.getFontFaceSet();if(r){const s=[],o=((n=e.data)==null?void 0:n.family)??Kle(t),l=((a=(i=e.data)==null?void 0:i.weights)==null?void 0:a.filter(c=>Wle.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(o,`url(${Qle(t)})`,{...u,weight:h});await d.load(),r.add(d),s.push(d)}return s.length===1?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Ae.ADAPTER.getFontFaceSet().delete(e))}};Oe.add(Jle);const eue=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Ku=null,gT=class{constructor(){Ku||(Ku=URL.createObjectURL(new Blob([eue],{type:"application/javascript"}))),this.worker=new Worker(Ku)}};gT.revokeObjectURL=function(){Ku&&(URL.revokeObjectURL(Ku),Ku=null)};const tue=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Zu=null;class p8{constructor(){Zu||(Zu=URL.createObjectURL(new Blob([tue],{type:"application/javascript"}))),this.worker=new Worker(Zu)}}p8.revokeObjectURL=function(){Zu&&(URL.revokeObjectURL(Zu),Zu=null)};let fD=0,S1;class rue{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new gT;r.addEventListener("message",n=>{r.terminate(),gT.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){S1===void 0&&(S1=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<S1&&(this._createdWorkers++,e=new p8().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,a)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:a})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[fD]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:fD++,id:n})}}const pD=new rue;function Sf(t,e,r){t.resource.internal=!0;const n=new Me(t),i=()=>{delete e.promiseCache[r],Xo.has(r)&&Xo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const nue=[".jpeg",".jpg",".png",".webp",".avif"],iue=["image/jpeg","image/png","image/webp","image/avif"];async function aue(t){const e=await Ae.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const uy={name:"loadTextures",extension:{type:Te.LoadParser,priority:Hi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Bc(t,iue)||_o(t,nue)},async load(t,e,r){var o;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await pD.isImageBitmapSupported()?i=await pD.loadImageBitmap(t):i=await aue(t):i=await new Promise((l,u)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?l(c):(c.onload=()=>l(c),c.onerror=h=>u(h))});const a={...e.data};a.resolution??(a.resolution=ts(t)),n&&((o=a.resourceOptions)==null?void 0:o.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const s=new Ye(i,a);return s.resource.src=t,Sf(s,r,t)},unload(t){t.destroy(!0)}};Oe.add(uy);const sue=".svg",oue="image/svg+xml",lue={extension:{type:Te.LoadParser,priority:Hi.High},name:"loadSVG",test(t){return Bc(t,oue)||_o(t,sue)},async testParse(t){return sT.test(t)},async parse(t,e,r){var a;const n=new sT(t,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await n.load();const i=new Ye(n,{resolution:ts(t),...e==null?void 0:e.data});return i.resource.src=e.src,Sf(i,r,e.src)},async load(t,e){return(await Ae.ADAPTER.fetch(t)).text()},unload:uy.unload};Oe.add(lue);const uue=[".mp4",".m4v",".webm",".ogv"],cue=["video/mp4","video/webm","video/ogg"],hue={name:"loadVideo",extension:{type:Te.LoadParser,priority:Hi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return Bc(t,cue)||_o(t,uue)},async load(t,e,r){var s;let n;const i=await(await Ae.ADAPTER.fetch(t)).blob(),a=URL.createObjectURL(i);try{const o={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions,autoLoad:!0},l=new s8(a,o);await l.load();const u=new Ye(l,{alphaMode:await gse(),resolution:ts(t),...e==null?void 0:e.data});u.resource.src=t,n=Sf(u,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(o){throw URL.revokeObjectURL(a),o}return n},unload(t){t.destroy(!0)}};Oe.add(hue);class due{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:a}=e;return Ii(r||n||i||a,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>(o==null?void 0:o.src)??(o==null?void 0:o.srcs)??o):s!=null&&s.src||s!=null&&s.srcs?s.src??s.srcs:s,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const a=i.src??i.srcs,s=i.alias??i.name;let o;if(typeof s=="string"){const l=this._createBundleAssetId(e,s);n.push(l),o=[s,l]}else{const l=s.map(u=>this._createBundleAssetId(e,u));n.push(...l),o=[...s,...l]}this.add({...i,alias:o,src:a})}):Object.keys(r).forEach(i=>{const a=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:a,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:a,src:r[i]});else{const s=r[i],o=s.src??s.srcs;this.add({...s,alias:a,src:Array.isArray(o)?o:[o]})}n.push(...a)}),this._bundles[e]=n}add(e,r,n,i,a){const s=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ke("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),s.push({alias:e,src:r,data:n,format:i,loadParser:a})):Array.isArray(e)?s.push(...e):s.push(e);let o;o=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},Ii(s).forEach(l=>{const{src:u,srcs:c}=l;let{data:h,format:d,loadParser:f}=l;const p=Ii(u||c).map(v=>typeof v=="string"?Ble(v):Array.isArray(v)?v:[v]),g=this.getAlias(l);Array.isArray(g)?g.forEach(o):o(g);const m=[];p.forEach(v=>{v.forEach(y=>{let b={};if(typeof y!="object"){b.src=y;for(let x=0;x<this._parsers.length;x++){const w=this._parsers[x];if(w.test(y)){b=w.parse(y);break}}}else h=y.data??h,d=y.format??d,f=y.loadParser??f,b={...b,...y};if(!g)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this.buildResolvedAsset(b,{aliases:g,data:h,format:d,loadParser:f}),m.push(b)})}),g.forEach(v=>{this._assetMap[v]=m})})}resolveBundle(e){const r=Im(e);e=Ii(e);const n={};return e.forEach(i=>{const a=this._bundles[i];if(a){const s=this.resolve(a),o={};for(const l in s){const u=s[l];o[this._extractAssetIdFromBundle(i,l)]=u}n[i]=o}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Im(e);e=Ii(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let a=this._assetMap[i];const s=a[0],o=this._getPreferredOrder(a);o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=a.filter(h=>h[l]?h[l]===u:!1);c.length&&(a=c)})}),this._resolverHash[i]=a[0]??s}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(a=>a.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:a,format:s}=r;return(this._basePath||this._rootPath)&&(e.src=wr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=a??e.loadParser,e.format=s??e.format??wr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class fue{constructor(){this._detections=[],this._initialized=!1,this.resolver=new due,this.loader=new zle,this.cache=Xo,this._backgroundLoader=new Lle(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,s;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let o=e.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const r=((a=e.texturePreference)==null?void 0:a.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(s=e.texturePreference)==null?void 0:s.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,a){this.resolver.add(e,r,n,i,a)}async load(e,r){this._initialized||await this.init();const n=Im(e),i=Ii(e).map(o=>{if(typeof o!="string"){const l=this.resolver.getAlias(o);return l.some(u=>!this.resolver.hasKey(u))&&this.add(o),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(o)||this.add({alias:o,src:o}),o}),a=this.resolver.resolve(i),s=await this._mapLoadToResolve(a,r);return n?s[i[0]]:s}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),a={},s=Object.keys(i);let o=0,l=0;const u=()=>{r==null||r(++o/l)},c=s.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{a[h]=f})});return await Promise.all(c),n?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Xo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Xo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(n,r);this._backgroundLoader.active=!0;const s={};return n.forEach((o,l)=>{const u=a[o.src],c=[o.src];o.alias&&c.push(...o.alias),s[i[l]]=u,Xo.set(c,u)}),s}async unload(e){this._initialized||await this.init();const r=Ii(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Ii(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Xo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return uy.config.preferWorkers}set preferWorkers(e){Ke("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Rp=new fue;Oe.handleByList(Te.LoadParser,Rp.loader.parsers).handleByList(Te.ResolveParser,Rp.resolver.parsers).handleByList(Te.CacheParser,Rp.cache.parsers).handleByList(Te.DetectionParser,Rp.detections);const pue={extension:Te.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Me),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,a)=>{r[n+(a===0?"":a+1)]=i})}),r}};Oe.add(pue);async function v8(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const vue={extension:{type:Te.DetectionParser,priority:1},test:async()=>v8("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Oe.add(vue);const mue={extension:{type:Te.DetectionParser,priority:0},test:async()=>v8("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Oe.add(mue);const vD=["png","jpg","jpeg"],gue={extension:{type:Te.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...vD],remove:async t=>t.filter(e=>!vD.includes(e))};Oe.add(gue);const yue="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function wR(t){return yue?!1:document.createElement("video").canPlayType(t)!==""}const bue={extension:{type:Te.DetectionParser,priority:0},test:async()=>wR("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Oe.add(bue);const xue={extension:{type:Te.DetectionParser,priority:0},test:async()=>wR("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Oe.add(xue);const wue={extension:{type:Te.DetectionParser,priority:0},test:async()=>wR("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Oe.add(wue);const _ue={extension:Te.ResolveParser,test:uy.test,parse:t=>{var e;return{resolution:parseFloat(((e=Ae.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:wr.extname(t).slice(1),src:t}}};Oe.add(_ue);var Er=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Er||{});const km={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ea,du;function mD(){du={bptc:ea.getExtension("EXT_texture_compression_bptc"),astc:ea.getExtension("WEBGL_compressed_texture_astc"),etc:ea.getExtension("WEBGL_compressed_texture_etc"),s3tc:ea.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ea.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:ea.getExtension("WEBGL_compressed_texture_pvrtc")||ea.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:ea.getExtension("WEBGL_compressed_texture_etc1"),atc:ea.getExtension("WEBGL_compressed_texture_atc")}}const Eue={extension:{type:Te.DetectionParser,priority:2},test:async()=>{const t=Ae.ADAPTER.createCanvas().getContext("webgl");return t?(ea=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{du||mD();const e=[];for(const r in du)du[r]&&e.push(r);return[...e,...t]},remove:async t=>(du||mD(),t.filter(e=>!(e in du)))};Oe.add(Eue);class Sue extends ny{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new qC(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new qC(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class ul extends Sue{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ul._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ul._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let a=0,s=this.levels;a<s;a++){const{levelID:o,levelWidth:l,levelHeight:u,levelBuffer:c}=this._levelBuffers[a];i.compressedTexImage2D(i.TEXTURE_2D,o,this.format,l,u,0,c)}return!0}onBlobLoaded(){this._levelBuffers=ul._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,a,s,o){const l=new Array(n);let u=e.byteOffset,c=s,h=o,d=c+i-1&~(i-1),f=h+a-1&~(a-1),p=d*f*km[r];for(let g=0;g<n;g++)l[g]={levelID:g,levelWidth:n>1?c:d,levelHeight:n>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+a-1&~(a-1),p=d*f*km[r];return l}}const C1=4,Pp=124,Cue=32,gD=20,Tue=542327876,Ip={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Aue={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},kp={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Rue=1,Pue=2,Iue=4,kue=64,Mue=512,Due=131072,Oue=827611204,Nue=861165636,Lue=894720068,Bue=808540228,Fue=4,zue={[Oue]:Er.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Nue]:Er.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Lue]:Er.COMPRESSED_RGBA_S3TC_DXT5_EXT},jue={70:Er.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Er.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Er.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Er.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Er.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Er.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Er.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Er.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Er.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Er.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Er.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Er.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Er.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Uue(t){const e=new Uint32Array(t);if(e[0]!==Tue)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Pp/Uint32Array.BYTES_PER_ELEMENT),n=r[Ip.HEIGHT],i=r[Ip.WIDTH],a=r[Ip.MIPMAP_COUNT],s=new Uint32Array(t,Ip.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Cue/Uint32Array.BYTES_PER_ELEMENT),o=s[Rue];if(o&Iue){const l=s[Aue.FOURCC];if(l!==Bue){const y=zue[l],b=C1+Pp,x=new Uint8Array(t,b);return[new ul(x,{format:y,width:i,height:n,levels:a})]}const u=C1+Pp,c=new Uint32Array(e.buffer,u,gD/Uint32Array.BYTES_PER_ELEMENT),h=c[kp.DXGI_FORMAT],d=c[kp.RESOURCE_DIMENSION],f=c[kp.MISC_FLAG],p=c[kp.ARRAY_SIZE],g=jue[h];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(f===Fue)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const m=new Array,v=C1+Pp+gD;if(p===1)m.push(new Uint8Array(t,v));else{const y=km[g];let b=0,x=i,w=n;for(let _=0;_<a;_++){const T=Math.max(1,x+3&-4),C=Math.max(1,w+3&-4),P=T*C*y;b+=P,x=x>>>1,w=w>>>1}let E=v;for(let _=0;_<p;_++)m.push(new Uint8Array(t,E,b)),E+=b}return m.map(y=>new ul(y,{format:g,width:i,height:n,levels:a}))}throw o&kue?new Error("DDSParser does not support uncompressed texture data."):o&Mue?new Error("DDSParser does not supported YUV uncompressed texture data."):o&Due?new Error("DDSParser does not support single-channel (lumninance) texture data!"):o&Pue?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const yD=[171,75,84,88,32,49,49,187,13,10,26,10],$ue=67305985,mi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},yT=64,bD={[Fe.UNSIGNED_BYTE]:1,[Fe.UNSIGNED_SHORT]:2,[Fe.INT]:4,[Fe.UNSIGNED_INT]:4,[Fe.FLOAT]:4,[Fe.HALF_FLOAT]:8},Gue={[_e.RGBA]:4,[_e.RGB]:3,[_e.RG]:2,[_e.RED]:1,[_e.LUMINANCE]:1,[_e.LUMINANCE_ALPHA]:2,[_e.ALPHA]:1},Hue={[Fe.UNSIGNED_SHORT_4_4_4_4]:2,[Fe.UNSIGNED_SHORT_5_5_5_1]:2,[Fe.UNSIGNED_SHORT_5_6_5]:2};function Vue(t,e,r=!1){const n=new DataView(e);if(!Wue(t,n))return null;const i=n.getUint32(mi.ENDIANNESS,!0)===$ue,a=n.getUint32(mi.GL_TYPE,i),s=n.getUint32(mi.GL_FORMAT,i),o=n.getUint32(mi.GL_INTERNAL_FORMAT,i),l=n.getUint32(mi.PIXEL_WIDTH,i),u=n.getUint32(mi.PIXEL_HEIGHT,i)||1,c=n.getUint32(mi.PIXEL_DEPTH,i)||1,h=n.getUint32(mi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=n.getUint32(mi.NUMBER_OF_FACES,i),f=n.getUint32(mi.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(mi.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const g=4,m=4,v=l+3&-4,y=u+3&-4,b=new Array(h);let x=l*u;a===0&&(x=v*y);let w;if(a!==0?bD[a]?w=bD[a]*Gue[s]:w=Hue[a]:w=km[o],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=r?Xue(n,p,i):null;let _=x*w,T=l,C=u,P=v,M=y,R=yT+p;for(let I=0;I<f;I++){const S=n.getUint32(R,i);let B=R+4;for(let L=0;L<h;L++){let N=b[L];N||(N=b[L]=new Array(f)),N[I]={levelID:I,levelWidth:f>1||a!==0?T:P,levelHeight:f>1||a!==0?C:M,levelBuffer:new Uint8Array(e,B,_)},B+=_}R+=S+4,R=R%4!==0?R+4-R%4:R,T=T>>1||1,C=C>>1||1,P=T+g-1&~(g-1),M=C+m-1&~(m-1),_=P*M*w}return a!==0?{uncompressed:b.map(I=>{let S=I[0].levelBuffer,B=!1;return a===Fe.FLOAT?S=new Float32Array(I[0].levelBuffer.buffer,I[0].levelBuffer.byteOffset,I[0].levelBuffer.byteLength/4):a===Fe.UNSIGNED_INT?(B=!0,S=new Uint32Array(I[0].levelBuffer.buffer,I[0].levelBuffer.byteOffset,I[0].levelBuffer.byteLength/4)):a===Fe.INT&&(B=!0,S=new Int32Array(I[0].levelBuffer.buffer,I[0].levelBuffer.byteOffset,I[0].levelBuffer.byteLength/4)),{resource:new ny(S,{width:I[0].levelWidth,height:I[0].levelHeight}),type:a,format:B?que(s):s}}),kvData:E}:{compressed:b.map(I=>new ul(null,{format:o,width:l,height:u,levels:f,levelBuffers:I})),kvData:E}}function Wue(t,e){for(let r=0;r<yD.length;r++)if(e.getUint8(r)!==yD[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function que(t){switch(t){case _e.RGBA:return _e.RGBA_INTEGER;case _e.RGB:return _e.RGB_INTEGER;case _e.RG:return _e.RG_INTEGER;case _e.RED:return _e.RED_INTEGER;default:return t}}function Xue(t,e,r){const n=new Map;let i=0;for(;i<e;){const a=t.getUint32(yT+i,r),s=yT+i+4,o=3-(a+3)%4;if(a===0||a>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<a&&t.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,s,l)),c=new DataView(t.buffer,s+l+1,a-l-1);n.set(u,c),i+=4+a+o}return n}const Yue={extension:{type:Te.LoadParser,priority:Hi.High},name:"loadDDS",test(t){return _o(t,".dds")},async load(t,e,r){const n=await(await Ae.ADAPTER.fetch(t)).arrayBuffer(),i=Uue(n).map(a=>{const s=new Ye(a,{mipmap:_a.OFF,alphaMode:dn.NO_PREMULTIPLIED_ALPHA,resolution:ts(t),...e.data});return Sf(s,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Oe.add(Yue);const Kue={extension:{type:Te.LoadParser,priority:Hi.High},name:"loadKTX",test(t){return _o(t,".ktx")},async load(t,e,r){const n=await(await Ae.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:a,kvData:s}=Vue(t,n),o=i??a,l={mipmap:_a.OFF,alphaMode:dn.NO_PREMULTIPLIED_ALPHA,resolution:ts(t),...e.data},u=o.map(c=>{o===a&&Object.assign(l,{type:c.type,format:c.format});const h=c.resource??c,d=new Ye(h,l);return d.ktxKeyValueData=s,Sf(d,r,t)});return u.length===1?u[0]:u},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Oe.add(Kue);const Zue=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Que={extension:Te.ResolveParser,test:t=>{const e=wr.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const a=e.pop();if(Zue.includes(a))return{resolution:parseFloat(((n=Ae.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:a,src:t}}return{resolution:parseFloat(((i=Ae.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};Oe.add(Que);const Mp=new qe,Jue=4,m8=class Nh{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const a=new Image;return a.src=await this.base64(e,r,n,i),a}async base64(e,r,n,i){const a=this.canvas(e,i);if(a.toBlob!==void 0)return new Promise((s,o)=>{a.toBlob(l=>{if(!l){o(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>s(u.result),u.onerror=o,u.readAsDataURL(l)},r,n)});if(a.toDataURL!==void 0)return a.toDataURL(r,n);if(a.convertToBlob!==void 0){const s=await a.convertToBlob({type:r,quality:n});return new Promise((o,l)=>{const u=new FileReader;u.onload=()=>o(u.result),u.onerror=l,u.readAsDataURL(s)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:a,flipY:s,premultipliedAlpha:o}=this._rawPixels(e,r);s&&Nh._flipY(n,i,a),o&&Nh._unpremultiplyAlpha(n);const l=new Dse(i,a,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,a);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:n,width:i,height:a,flipY:s,premultipliedAlpha:o}=this._rawPixels(e,r);return s&&Nh._flipY(n,i,a),o&&Nh._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,a=!1,s=!1,o,l=!1;e&&(e instanceof ns?o=e:(o=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),l=!0,r&&(Mp.width=r.width,Mp.height=r.height,r=Mp)));const u=n.gl;if(o){if(i=o.baseTexture.resolution,r=r??o.frame,a=!1,s=o.baseTexture.alphaMode>0&&o.baseTexture.format===_e.RGBA,!l){n.renderTexture.bind(o);const f=o.framebuffer.glFramebuffers[n.CONTEXT_UID];f.blitFramebuffer&&n.framebuffer.bind(f.blitFramebuffer)}}else i=n.resolution,r||(r=Mp,r.width=n.width/i,r.height=n.height/i),a=!0,s=this._rendererPremultipliedAlpha,n.renderTexture.bind();const c=Math.max(Math.round(r.width*i),1),h=Math.max(Math.round(r.height*i),1),d=new Uint8Array(Jue*c*h);return u.readPixels(Math.round(r.x*i),Math.round(r.y*i),c,h,u.RGBA,u.UNSIGNED_BYTE,d),l&&(o==null||o.destroy(!0)),{pixels:d,width:c,height:h,flipY:a,premultipliedAlpha:s}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,a=n>>1,s=new Uint8Array(i);for(let o=0;o<a;o++){const l=o*i,u=(n-o-1)*i;s.set(e.subarray(l,l+i)),e.copyWithin(l,u,u+i),e.set(s,u)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const a=255.001/i;e[n]=e[n]*a+.5,e[n+1]=e[n+1]*a+.5,e[n+2]=e[n+2]*a+.5}}}};m8.extension={name:"extract",type:Te.RendererSystem};let ece=m8;Oe.add(ece);const Mm={build(t){const e=t.points;let r,n,i,a,s,o;if(t.type===Tr.CIRC){const p=t.shape;r=p.x,n=p.y,s=o=p.radius,i=a=0}else if(t.type===Tr.ELIP){const p=t.shape;r=p.x,n=p.y,s=p.width,o=p.height,i=a=0}else{const p=t.shape,g=p.width/2,m=p.height/2;r=p.x+g,n=p.y+m,s=o=Math.max(0,Math.min(p.radius,Math.min(g,m))),i=g-s,a=m-o}if(!(s>=0&&o>=0&&i>=0&&a>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(s+o)),u=l*8+(i?4:0)+(a?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+s,g=a,m=r+p,v=r-p,y=n+g;if(e[c++]=m,e[c++]=y,e[--h]=y,e[--h]=v,a){const b=n-g;e[d++]=v,e[d++]=b,e[--f]=b,e[--f]=m}}for(let p=1;p<l;p++){const g=Math.PI/2*(p/l),m=i+Math.cos(g)*s,v=a+Math.sin(g)*o,y=r+m,b=r-m,x=n+v,w=n-v;e[c++]=y,e[c++]=x,e[--h]=x,e[--h]=b,e[d++]=b,e[d++]=w,e[--f]=w,e[--f]=y}{const p=i,g=a+o,m=r+p,v=r-p,y=n+g,b=n-g;e[c++]=m,e[c++]=y,e[--f]=b,e[--f]=m,i&&(e[c++]=v,e[c++]=y,e[--f]=b,e[--f]=v)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let a=n.length/2;const s=a;let o,l;if(t.type!==Tr.RREC){const c=t.shape;o=c.x,l=c.y}else{const c=t.shape;o=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;n.push(t.matrix?u.a*o+u.c*l+u.tx:o,t.matrix?u.b*o+u.d*l+u.ty:l),a++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(a++,s,a);i.push(s+1,s,a)}};function xD(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,a=t[r-2],s=t[r-1];i<r;i+=2){const o=t[i],l=t[i+1];n+=(o-a)*(l+s),a=o,s=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let a=i+i%2;a<r;a+=2){const s=r-a-2,o=r-a-1,l=a,u=a+1;[t[s],t[l]]=[t[l],t[s]],[t[o],t[u]]=[t[u],t[o]]}}}const g8={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,a=e.indices;if(r.length>=6){xD(r,!1);const s=[];for(let u=0;u<n.length;u++){const c=n[u];xD(c.points,!0),s.push(r.length/2),r=r.concat(c.points)}const o=Fne(r,s,2);if(!o)return;const l=i.length/2;for(let u=0;u<o.length;u+=3)a.push(o[u]+l),a.push(o[u+1]+l),a.push(o[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},tce={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,s=t.points;s.length=0,i>=0&&a>=0&&s.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},rce={build(t){Mm.build(t)},triangulate(t,e){Mm.triangulate(t,e)}};var Hn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Hn||{}),js=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(js||{});const yc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class wD{static curveTo(e,r,n,i,a,s){const o=s[s.length-2],l=s[s.length-1]-r,u=o-e,c=i-r,h=n-e,d=Math.abs(l*h-u*c);if(d<1e-8||a===0)return(s[s.length-2]!==e||s[s.length-1]!==r)&&s.push(e,r),null;const f=l*l+u*u,p=c*c+h*h,g=l*c+u*h,m=a*Math.sqrt(f)/d,v=a*Math.sqrt(p)/d,y=m*g/f,b=v*g/p,x=m*h+v*u,w=m*c+v*l,E=u*(v+y),_=l*(v+y),T=h*(m+b),C=c*(m+b),P=Math.atan2(_-w,E-x),M=Math.atan2(C-w,T-x);return{cx:x+e,cy:w+r,radius:a,startAngle:P,endAngle:M,anticlockwise:u*c>h*l}}static arc(e,r,n,i,a,s,o,l,u){const c=o-s,h=yc._segmentsCount(Math.abs(c)*a,Math.ceil(Math.abs(c)/Em)*40),d=c/(h*2),f=d*2,p=Math.cos(d),g=Math.sin(d),m=h-1,v=m%1/m;for(let y=0;y<=m;++y){const b=y+v*y,x=d+s+f*b,w=Math.cos(x),E=-Math.sin(x);u.push((p*w+g*E)*a+n,(p*-E+g*w)*a+i)}}}class nce{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class _R{static curveLength(e,r,n,i,a,s,o,l){let u=0,c=0,h=0,d=0,f=0,p=0,g=0,m=0,v=0,y=0,b=0,x=e,w=r;for(let E=1;E<=10;++E)c=E/10,h=c*c,d=h*c,f=1-c,p=f*f,g=p*f,m=g*e+3*p*c*n+3*f*h*a+d*o,v=g*r+3*p*c*i+3*f*h*s+d*l,y=x-m,b=w-v,x=m,w=v,u+=Math.sqrt(y*y+b*b);return u}static curveTo(e,r,n,i,a,s,o){const l=o[o.length-2],u=o[o.length-1];o.length-=2;const c=yc._segmentsCount(_R.curveLength(l,u,e,r,n,i,a,s));let h=0,d=0,f=0,p=0,g=0;o.push(l,u);for(let m=1,v=0;m<=c;++m)v=m/c,h=1-v,d=h*h,f=d*h,p=v*v,g=p*v,o.push(f*l+3*d*v*e+3*h*p*n+g*a,f*u+3*d*v*r+3*h*p*i+g*s)}}function _D(t,e,r,n,i,a,s,o){const l=t-r*i,u=e-n*i,c=t+r*a,h=e+n*a;let d,f;s?(d=n,f=-r):(d=-n,f=r);const p=l+d,g=u+f,m=c+d,v=h+f;return o.push(p,g,m,v),2}function Ro(t,e,r,n,i,a,s,o){const l=r-t,u=n-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,a-e);o&&c<h?c+=Math.PI*2:!o&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),g=Math.sqrt(l*l+u*u),m=(15*p*Math.sqrt(g)/Math.PI>>0)+1,v=f/m;if(d+=v,o){s.push(t,e,r,n);for(let y=1,b=d;y<m;y++,b+=v)s.push(t,e,t+Math.sin(b)*g,e+Math.cos(b)*g);s.push(t,e,i,a)}else{s.push(r,n,t,e);for(let y=1,b=d;y<m;y++,b+=v)s.push(t+Math.sin(b)*g,e+Math.cos(b)*g,t,e);s.push(i,a,t,e)}return m*2}function ice(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const a=t.lineStyle,s=new $e(n[0],n[1]),o=new $e(n[n.length-2],n[n.length-1]),l=r.type!==Tr.POLY||r.closeStroke,u=Math.abs(s.x-o.x)<i&&Math.abs(s.y-o.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),o.set(n[n.length-2],n[n.length-1]));const N=(s.x+o.x)*.5,F=(o.y+s.y)*.5;n.unshift(N,F),n.push(N,F)}const c=e.points,h=n.length/2;let d=n.length;const f=c.length/2,p=a.width/2,g=p*p,m=a.miterLimit*a.miterLimit;let v=n[0],y=n[1],b=n[2],x=n[3],w=0,E=0,_=-(y-x),T=v-b,C=0,P=0,M=Math.sqrt(_*_+T*T);_/=M,T/=M,_*=p,T*=p;const R=a.alignment,I=(1-R)*2,S=R*2;l||(a.cap===js.ROUND?d+=Ro(v-_*(I-S)*.5,y-T*(I-S)*.5,v-_*I,y-T*I,v+_*S,y+T*S,c,!0)+2:a.cap===js.SQUARE&&(d+=_D(v,y,_,T,I,S,!0,c))),c.push(v-_*I,y-T*I,v+_*S,y+T*S);for(let N=1;N<h-1;++N){v=n[(N-1)*2],y=n[(N-1)*2+1],b=n[N*2],x=n[N*2+1],w=n[(N+1)*2],E=n[(N+1)*2+1],_=-(y-x),T=v-b,M=Math.sqrt(_*_+T*T),_/=M,T/=M,_*=p,T*=p,C=-(x-E),P=b-w,M=Math.sqrt(C*C+P*P),C/=M,P/=M,C*=p,P*=p;const F=b-v,z=y-x,$=b-w,O=E-x,j=F*$+z*O,J=z*$-O*F,H=J<0;if(Math.abs(J)<.001*Math.abs(j)){c.push(b-_*I,x-T*I,b+_*S,x+T*S),j>=0&&(a.join===Hn.ROUND?d+=Ro(b,x,b-_*I,x-T*I,b-C*I,x-P*I,c,!1)+4:d+=2,c.push(b-C*S,x-P*S,b+C*I,x+P*I));continue}const V=(-_+v)*(-T+x)-(-_+b)*(-T+y),X=(-C+w)*(-P+x)-(-C+b)*(-P+E),te=(F*X-$*V)/J,Q=(O*V-z*X)/J,Y=(te-b)*(te-b)+(Q-x)*(Q-x),ae=b+(te-b)*I,se=x+(Q-x)*I,ve=b-(te-b)*S,ge=x-(Q-x)*S,k=Math.min(F*F+z*z,$*$+O*O),K=H?I:S,ne=k+K*K*g,U=Y<=ne;let G=a.join;if(G===Hn.MITER&&Y/g>m&&(G=Hn.BEVEL),U)switch(G){case Hn.MITER:{c.push(ae,se,ve,ge);break}case Hn.BEVEL:{H?c.push(ae,se,b+_*S,x+T*S,ae,se,b+C*S,x+P*S):c.push(b-_*I,x-T*I,ve,ge,b-C*I,x-P*I,ve,ge),d+=2;break}case Hn.ROUND:{H?(c.push(ae,se,b+_*S,x+T*S),d+=Ro(b,x,b+_*S,x+T*S,b+C*S,x+P*S,c,!0)+4,c.push(ae,se,b+C*S,x+P*S)):(c.push(b-_*I,x-T*I,ve,ge),d+=Ro(b,x,b-_*I,x-T*I,b-C*I,x-P*I,c,!1)+4,c.push(b-C*I,x-P*I,ve,ge));break}}else{switch(c.push(b-_*I,x-T*I,b+_*S,x+T*S),G){case Hn.MITER:{H?c.push(ve,ge,ve,ge):c.push(ae,se,ae,se),d+=2;break}case Hn.ROUND:{H?d+=Ro(b,x,b+_*S,x+T*S,b+C*S,x+P*S,c,!0)+2:d+=Ro(b,x,b-_*I,x-T*I,b-C*I,x-P*I,c,!1)+2;break}}c.push(b-C*I,x-P*I,b+C*S,x+P*S),d+=2}}v=n[(h-2)*2],y=n[(h-2)*2+1],b=n[(h-1)*2],x=n[(h-1)*2+1],_=-(y-x),T=v-b,M=Math.sqrt(_*_+T*T),_/=M,T/=M,_*=p,T*=p,c.push(b-_*I,x-T*I,b+_*S,x+T*S),l||(a.cap===js.ROUND?d+=Ro(b-_*(I-S)*.5,x-T*(I-S)*.5,b-_*I,x-T*I,b+_*S,x+T*S,c,!1)+2:a.cap===js.SQUARE&&(d+=_D(b,x,_,T,I,S,!1,c)));const B=e.indices,L=yc.epsilon*yc.epsilon;for(let N=f;N<d+f-2;++N)v=c[N*2],y=c[N*2+1],b=c[(N+1)*2],x=c[(N+1)*2+1],w=c[(N+2)*2],E=c[(N+2)*2+1],!(Math.abs(v*(x-E)+b*(E-y)+w*(y-x))<L)&&B.push(N,N+1,N+2)}function ace(t,e){let r=0;const n=t.shape,i=t.points||n.points,a=n.type!==Tr.POLY||n.closeStroke;if(i.length===0)return;const s=e.points,o=e.indices,l=i.length/2,u=s.length/2;let c=u;for(s.push(i[0],i[1]),r=1;r<l;r++)s.push(i[r*2],i[r*2+1]),o.push(c,c+1),c++;a&&o.push(c,u)}function ED(t,e){t.lineStyle.native?ace(t,e):ice(t,e)}class ER{static curveLength(e,r,n,i,a,s){const o=e-2*n+a,l=r-2*i+s,u=2*n-2*e,c=2*i-2*r,h=4*(o*o+l*l),d=4*(o*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),g=Math.sqrt(h),m=2*h*g,v=2*Math.sqrt(f),y=d/g;return(m*p+g*d*(p-v)+(4*f*h-d*d)*Math.log((2*g+y+p)/(y+v)))/(4*m)}static curveTo(e,r,n,i,a){const s=a[a.length-2],o=a[a.length-1],l=yc._segmentsCount(ER.curveLength(s,o,e,r,n,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=s+(e-s)*d,c=o+(r-o)*d,a.push(u+(e+(n-e)*d-u)*d,c+(r+(i-r)*d-c)*d)}}}const T1={[Tr.POLY]:g8,[Tr.CIRC]:Mm,[Tr.ELIP]:Mm,[Tr.RECT]:tce,[Tr.RREC]:rce},SD=[],Dp=[];class Dm{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Dm(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const eu=new $e,y8=class b8 extends S${constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Rm,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Dp.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),SD.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const a=new Dm(e,r,n,i);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Dm(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,eu):eu.copyFrom(e),i.shape.contains(eu.x,eu.y))){let a=!1;if(i.holes){for(let s=0;s<i.holes.length;s++)if(i.holes[s].shape.contains(eu.x,eu.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],c=u.fillStyle,h=u.lineStyle;T1[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||h.visible)&&this.processHoles(u.holes);for(let d=0;d<2;d++){const f=d===0?c:h;if(!f.visible)continue;const p=f.texture.baseTexture,g=this.indices.length,m=this.points.length/2;p.wrapMode=Js.REPEAT,d===0?this.processFill(u):this.processLine(u);const v=this.points.length/2-m;v!==0&&(n&&!this._compareStyles(i,f)&&(n.end(g,m),n=null),n||(n=SD.pop()||new nce,n.begin(f,g,m),this.batches.push(n),i=f),this.addUvs(this.points,e,f.texture,m,v,f.matrix))}}const a=this.indices.length,s=this.points.length/2;if(n&&n.end(a,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,a=n.lineStyle;if(i&&!i.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let a=0;a<i.size;a++){const s=i.start+a;this.indicesUint16[s]=this.indicesUint16[s]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<b8.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ye._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Dp.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Dp.pop();i||(i=new KC,i.texArray=new eT),i.texArray.count=0,i.start=0,i.size=0,i.type=da.TRIANGLES;let a=0,s=null,o=0,l=!1,u=da.TRIANGLES,c=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const d=this.batches[h],f=8,p=d.style,g=p.texture.baseTexture;l!==!!p.native&&(l=!!p.native,u=l?da.LINES:da.TRIANGLES,s=null,a=f,e++),s!==g&&(s=g,g._batchEnabled!==e&&(a===f&&(e++,a=0,i.size>0&&(i=Dp.pop(),i||(i=new KC,i.texArray=new eT),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=u),g.touched=1,g._batchEnabled=e,g._batchLocation=a,g.wrapMode=Js.REPEAT,i.texArray.elements[i.texArray.count++]=g,a++)),i.size+=d.size,c+=d.size,o=g._batchLocation,this.addColors(r,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(n,o,d.attribSize,d.attribStart)}Ye._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,a=new ArrayBuffer(e.length*3*4),s=new Float32Array(a),o=new Uint32Array(a);let l=0;for(let u=0;u<e.length/2;u++)s[l++]=e[u*2],s[l++]=e[u*2+1],s[l++]=r[u*2],s[l++]=r[u*2+1],o[l++]=n[u],s[l++]=i[u];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?g8.triangulate(e,this):T1[e.type].triangulate(e,this)}processLine(e){ED(e,this);for(let r=0;r<e.holes.length;r++)ED(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];T1[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],a=e[n*2+1];e[n*2]=r.a*i+r.c*a+r.tx,e[n*2+1]=r.b*i+r.d*a+r.ty}}addColors(e,r,n,i,a=0){const s=St.shared.setValue(r).toLittleEndianNumber(),o=St.shared.setValue(s).toPremultiplied(n);e.length=Math.max(e.length,a+i);for(let l=0;l<i;l++)e[a+l]=o}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let a=0;a<n;a++)e[i+a]=r}addUvs(e,r,n,i,a,s=null){let o=0;const l=r.length,u=n.frame;for(;o<a;){let h=e[(i+o)*2],d=e[(i+o)*2+1];if(s){const f=s.a*h+s.c*d+s.tx;d=s.b*h+s.d*d+s.ty,h=f}o++,r.push(h/u.width,d/u.height)}const c=n.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(r,n,l,a)}adjustUvs(e,r,n,i){const a=r.baseTexture,s=1e-6,o=n+i*2,l=r.frame,u=l.width/a.width,c=l.height/a.height;let h=l.x/l.width,d=l.y/l.height,f=Math.floor(e[n]+s),p=Math.floor(e[n+1]+s);for(let g=n+2;g<o;g+=2)f=Math.min(f,Math.floor(e[g]+s)),p=Math.min(p,Math.floor(e[g+1]+s));h-=f,d-=p;for(let g=n;g<o;g+=2)e[g]=(e[g]+h)*u,e[g+1]=(e[g+1]+d)*c}};y8.BATCHABLE_SIZE=100;let sce=y8;class cy{constructor(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new cy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class SR extends cy{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=js.BUTT,this.join=Hn.MITER,this.miterLimit=10}clone(){const e=new SR;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=js.BUTT,this.join=Hn.MITER,this.miterLimit=10}}const A1={},bT=class xv extends _n{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new cy,this._lineStyle=new SR,this._matrix=null,this._holeMode=!1,this.state=Ca.for2d(),this._geometry=e||new sce,this._geometry.refCount++,this._transformID=-1,this._tintColor=new St(16777215),this.blendMode=He.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new xv(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,a=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:Me.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:js.BUTT,join:Hn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new ll,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new ll,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],a=n[n.length-1];return(i!==e||a!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),ER.curveTo(e,r,n,i,a),this}bezierCurveTo(e,r,n,i,a,s){return this._initCurve(),_R.curveTo(e,r,n,i,a,s,this.currentPath.points),this}arcTo(e,r,n,i,a){this._initCurve(e,r);const s=this.currentPath.points,o=wD.curveTo(e,r,n,i,a,s);if(o){const{cx:l,cy:u,radius:c,startAngle:h,endAngle:d,anticlockwise:f}=o;this.arc(l,u,c,h,d,f)}return this}arc(e,r,n,i,a,s=!1){if(i===a)return this;if(!s&&a<=i?a+=Em:s&&i<=a&&(i+=Em),a-i===0)return this;const o=e+Math.cos(i)*n,l=r+Math.sin(i)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-o),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(o,l)}else this.moveTo(o,l),c=this.currentPath.points;return wD.arc(o,l,e,r,n,i,a,s,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:Me.WHITE,color:e,alpha:r})}normalizeColor(e){const r=St.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:Me.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new qe(e,r,n,i))}drawRoundedRect(e,r,n,i,a){return this.drawShape(new sy(e,r,n,i,a))}drawCircle(e,r,n){return this.drawShape(new iy(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new ay(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const a=new ll(r);return a.closeStroke=n,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Tr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const a=e.batches[i],s=a.style.color,o=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),c={vertexData:o,blendMode:r,indices:u,uvs:l,_batchRGB:St.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,a=r.uniforms,s=n.drawCalls;a.translationMatrix=this.transform.worldTransform,St.shared.setValue(this._tintColor).premultiply(i).toArray(a.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let o=0,l=s.length;o<l;o++)this._renderDrawCallDirect(e,n.drawCalls[o])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:a,start:s}=r,o=n.count;for(let l=0;l<o;l++)e.texture.bind(n.elements[l],l);e.geometry.draw(i,a,s)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!A1[n]){const{maxTextures:i}=e.plugins[n],a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=l;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new At,default:Li.from({uSamplers:a},!0)},o=e.plugins[n]._shader.program;A1[n]=new wa(o,s)}r=A1[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,a)}containsPoint(e){return this.worldTransform.applyInverse(e,xv._TEMP_POINT),this._geometry.containsPoint(xv._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=St.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,a=r.c,s=r.d,o=r.tx,l=r.ty,u=this._geometry.points,c=this.vertexData;let h=0;for(let d=0;d<u.length;d+=2){const f=u[d],p=u[d+1];c[h++]=n*f+a*p+o,c[h++]=s*p+i*f+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};bT.curves=yc,bT._TEMP_POINT=new $e;let Us=bT;class oce{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const R1=new $e,CD=new ll,x8=class w8 extends _n{constructor(e,r,n,i=da.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ca.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Ae.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===da.TRIANGLES&&r.length<w8.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,a=i.a,s=i.b,o=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=r[d*2],p=r[d*2+1];h[d*2]=a*f+o*p+u,h[d*2+1]=s*f+l*p+c}if(this._roundPixels){const d=Ae.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new oce(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,R1);const r=this.geometry.getBuffer("aVertexPosition").data,n=CD.points,i=this.geometry.getIndex().data,a=i.length,s=this.drawMode===4?3:1;for(let o=0;o+2<a;o+=s){const l=i[o]*2,u=i[o+1]*2,c=i[o+2]*2;if(n[0]=r[l],n[1]=r[l+1],n[2]=r[u],n[3]=r[u+1],n[4]=r[c],n[5]=r[c+1],CD.contains(R1.x,R1.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};x8.BATCHABLE_SIZE=100;let TD=x8;class lce extends so{constructor(e,r,n){super();const i=new nr(e),a=new nr(r,!0),s=new nr(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Fe.FLOAT).addAttribute("aTextureCoord",a,2,!1,Fe.FLOAT).addIndex(s),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var uce=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,cce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class AD extends wa{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:At.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ga.from(cce,uce),n),this._colorDirty=!1,this.uvMatrix=new bR(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new St(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;St.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class RD{constructor(e,r,n){this.geometry=new so,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Fe.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new nr(kse(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let s=0;s<this.dynamicProperties.length;++s){const o=this.dynamicProperties[s];o.offset=r,r+=o.size,this.dynamicStride+=o.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new nr(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let s=0;s<this.staticProperties.length;++s){const o=this.staticProperties[s];o.offset=i,i+=o.size,this.staticStride+=o.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new nr(this.staticData,!0,!1);for(let s=0;s<this.dynamicProperties.length;++s){const o=this.dynamicProperties[s];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===Fe.UNSIGNED_BYTE,o.type,this.dynamicStride*4,o.offset*4)}for(let s=0;s<this.staticProperties.length;++s){const o=this.staticProperties[s];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===Fe.UNSIGNED_BYTE,o.type,this.staticStride*4,o.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===Fe.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===Fe.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var hce=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,dce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class _8 extends ly{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new At,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Fe.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=wa.from(dce,hce,{}),this.state=Ca.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,a=this.renderer;let s=r.length;if(s===0)return;s>n&&!e.autoResize&&(s=n);let o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=x$(e.blendMode,u),a.state.set(this.state);const c=a.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=St.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<s;f+=i,p+=1){let g=s-f;g>i&&(g=i),p>=o.length&&o.push(this._generateOneMoreBuffer(e));const m=o[p];m.uploadDynamic(r,f,g);const v=e._bufferUpdateIDs[p]||0;d=d||m._updateID<v,d&&(m._updateID=e._updateID,m.uploadStatic(r,f,g)),a.geometry.bind(m.geometry),c.drawElements(c.TRIANGLES,g*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,a=e._properties;for(let s=0;s<n;s+=i)r.push(new RD(this.properties,a,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new RD(this.properties,n,r)}uploadVertices(e,r,n,i,a,s){let o=0,l=0,u=0,c=0;for(let h=0;h<n;++h){const d=e[r+h],f=d._texture,p=d.scale.x,g=d.scale.y,m=f.trim,v=f.orig;m?(l=m.x-d.anchor.x*v.width,o=l+m.width,c=m.y-d.anchor.y*v.height,u=c+m.height):(o=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),c=v.height*-d.anchor.y),i[s]=l*p,i[s+1]=c*g,i[s+a]=o*p,i[s+a+1]=c*g,i[s+a*2]=o*p,i[s+a*2+1]=u*g,i[s+a*3]=l*p,i[s+a*3+1]=u*g,s+=a*4}}uploadPosition(e,r,n,i,a,s){for(let o=0;o<n;o++){const l=e[r+o].position;i[s]=l.x,i[s+1]=l.y,i[s+a]=l.x,i[s+a+1]=l.y,i[s+a*2]=l.x,i[s+a*2+1]=l.y,i[s+a*3]=l.x,i[s+a*3+1]=l.y,s+=a*4}}uploadRotation(e,r,n,i,a,s){for(let o=0;o<n;o++){const l=e[r+o].rotation;i[s]=l,i[s+a]=l,i[s+a*2]=l,i[s+a*3]=l,s+=a*4}}uploadUvs(e,r,n,i,a,s){for(let o=0;o<n;++o){const l=e[r+o]._texture._uvs;l?(i[s]=l.x0,i[s+1]=l.y0,i[s+a]=l.x1,i[s+a+1]=l.y1,i[s+a*2]=l.x2,i[s+a*2+1]=l.y2,i[s+a*3]=l.x3,i[s+a*3+1]=l.y3,s+=a*4):(i[s]=0,i[s+1]=0,i[s+a]=0,i[s+a+1]=0,i[s+a*2]=0,i[s+a*2+1]=0,i[s+a*3]=0,i[s+a*3+1]=0,s+=a*4)}}uploadTint(e,r,n,i,a,s){for(let o=0;o<n;++o){const l=e[r+o],u=St.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[s]=u,i[s+a]=u,i[s+a*2]=u,i[s+a*3]=u,s+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}_8.extension={name:"particle",type:Te.RendererPlugin};Oe.add(_8);var hy=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(hy||{});const Op={willReadFrequently:!0},ta=class Ne{static get experimentalLetterSpacingSupported(){let e=Ne._experimentalLetterSpacingSupported;if(e!==void 0){const r=Ae.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ne._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,a,s,o,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,n,i=Ne._canvas){n=n??r.wordWrap;const a=r.toFontString(),s=Ne.measureFont(a);s.fontSize===0&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);const o=i.getContext("2d",Op);o.font=a;const l=(n?Ne.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const g=Ne._measureText(l[p],r.letterSpacing,o);u[p]=g,c=Math.max(c,g)}let h=c+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const d=r.lineHeight||s.fontSize+r.strokeThickness;let f=Math.max(d,s.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(d+r.leading);return r.dropShadow&&(f+=r.dropShadowDistance),new Ne(e,r,h,f,l,u,d+r.leading,c,s)}static _measureText(e,r,n){let i=!1;Ne.experimentalLetterSpacingSupported&&(Ne.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let a=n.measureText(e).width;return a>0&&(i?a-=r:a+=(Ne.graphemeSegmenter(e).length-1)*r),a}static wordWrap(e,r,n=Ne._canvas){const i=n.getContext("2d",Op);let a=0,s="",o="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,h=Ne.collapseSpaces(c),d=Ne.collapseNewlines(c);let f=!h;const p=r.wordWrapWidth+u,g=Ne.tokenize(e);for(let m=0;m<g.length;m++){let v=g[m];if(Ne.isNewline(v)){if(!d){o+=Ne.addLine(s),f=!h,s="",a=0;continue}v=" "}if(h){const b=Ne.isBreakingSpace(v),x=Ne.isBreakingSpace(s[s.length-1]);if(b&&x)continue}const y=Ne.getFromCache(v,u,l,i);if(y>p)if(s!==""&&(o+=Ne.addLine(s),s="",a=0),Ne.canBreakWords(v,r.breakWords)){const b=Ne.wordWrapSplit(v);for(let x=0;x<b.length;x++){let w=b[x],E=w,_=1;for(;b[x+_];){const C=b[x+_];if(!Ne.canBreakChars(E,C,v,x,r.breakWords))w+=C;else break;E=C,_++}x+=_-1;const T=Ne.getFromCache(w,u,l,i);T+a>p&&(o+=Ne.addLine(s),f=!1,s="",a=0),s+=w,a+=T}}else{s.length>0&&(o+=Ne.addLine(s),s="",a=0);const b=m===g.length-1;o+=Ne.addLine(v,!b),f=!1,s="",a=0}else y+a>p&&(f=!1,o+=Ne.addLine(s),s="",a=0),(s.length>0||!Ne.isBreakingSpace(v)||f)&&(s+=v,a+=y)}return o+=Ne.addLine(s,!1),o}static addLine(e,r=!0){return e=Ne.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let a=n[e];return typeof a!="number"&&(a=Ne._measureText(e,r,i)+r,n[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!Ne.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ne._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Ne._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const a=e[i],s=e[i+1];if(Ne.isBreakingSpace(a,s)||Ne.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,a){return!0}static wordWrapSplit(e){return Ne.graphemeSegmenter(e)}static measureFont(e){if(Ne._fonts[e])return Ne._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=Ne._canvas,i=Ne._context;i.font=e;const a=Ne.METRICS_STRING+Ne.BASELINE_SYMBOL,s=Math.ceil(i.measureText(a).width);let o=Math.ceil(i.measureText(Ne.BASELINE_SYMBOL).width);const l=Math.ceil(Ne.HEIGHT_MULTIPLIER*o);if(o=o*Ne.BASELINE_MULTIPLIER|0,s===0||l===0)return Ne._fonts[e]=r,r;n.width=s,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,s,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,o);const u=i.getImageData(0,0,s,l).data,c=u.length,h=s*4;let d=0,f=0,p=!1;for(d=0;d<o;++d){for(let g=0;g<h;g+=4)if(u[f+g]!==255){p=!0;break}if(!p)f+=h;else break}for(r.ascent=o-d,f=c-h,p=!1,d=l;d>o;--d){for(let g=0;g<h;g+=4)if(u[f+g]!==255){p=!0;break}if(!p)f-=h;else break}return r.descent=d-o,r.fontSize=r.ascent+r.descent,Ne._fonts[e]=r,r}static clearMetrics(e=""){e?delete Ne._fonts[e]:Ne._fonts={}}static get _canvas(){var e;if(!Ne.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Op))!=null&&e.measureText)return Ne.__canvas=n,n;r=Ae.ADAPTER.createCanvas()}catch{r=Ae.ADAPTER.createCanvas()}r.width=r.height=10,Ne.__canvas=r}return Ne.__canvas}static get _context(){return Ne.__context||(Ne.__context=Ne._canvas.getContext("2d",Op)),Ne.__context}};ta.METRICS_STRING="|ÉqÅ",ta.BASELINE_SYMBOL="M",ta.BASELINE_MULTIPLIER=1.4,ta.HEIGHT_MULTIPLIER=2,ta.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ta.experimentalLetterSpacing=!1,ta._fonts={},ta._newlines=[10,13],ta._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let As=ta;const fce=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],E8=class Lh{constructor(e){this.styleID=0,this.reset(),I1(this,e,e)}clone(){const e={};return I1(e,this,Lh.defaultStyle),new Lh(e)}reset(){I1(this,Lh.defaultStyle,Lh.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=P1(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=P1(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){pce(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=P1(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!fce.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};E8.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:hy.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let oo=E8;function P1(t){const e=St.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function pce(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function I1(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const vce={texture:!0,children:!1,baseTexture:!0},S8=class xT extends Xn{constructor(e,r,n){let i=!1;n||(n=Ae.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const a=Me.from(n);a.orig=new qe,a.trim=new qe,super(a),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=xT.defaultResolution??Ae.RESOLUTION,this._autoResolution=xT.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return As.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ke("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),As.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=As.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=i.width,s=i.height,o=i.lines,l=i.lineHeight,u=i.lineWidths,c=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let d,f;const p=r.dropShadow?2:1;for(let g=0;g<p;++g){const m=r.dropShadow&&g===0,v=m?Math.ceil(Math.max(1,s)+r.padding*2):0,y=v*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const x=r.dropShadowColor,w=r.dropShadowBlur*this._resolution,E=r.dropShadowDistance*this._resolution;n.shadowColor=St.shared.setValue(x).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=w,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*E,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*E+y}else n.fillStyle=this._generateFillStyle(r,o,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(l-h.fontSize)/2;l-h.fontSize<0&&(b=0);for(let x=0;x<o.length;x++)d=r.strokeThickness/2,f=r.strokeThickness/2+x*l+h.ascent+b,r.align==="right"?d+=c-u[x]:r.align==="center"&&(d+=(c-u[x])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(o[x],d+r.padding,f+r.padding-v,!0),r.fill&&this.drawLetterSpacing(o[x],d+r.padding,f+r.padding-v)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const a=this._style.letterSpacing;let s=!1;if(As.experimentalLetterSpacingSupported&&(As.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||s){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let o=r;const l=As.graphemeSegmenter(e);let u=this.context.measureText(e).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];i?this.context.strokeText(d,o,n):this.context.fillText(d,o,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,o+=u-c+a,u=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const s=Nse(e);s.data&&(e.width=s.width,e.height=s.height,this.context.putImageData(s.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let a;const s=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,l=this.canvas.width/this._resolution-s-o*2,u=this.canvas.height/this._resolution-s-o*2,c=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const d=c.length+1;for(let f=1;f<d;++f)h.push(f/d)}if(c.unshift(i[0]),h.unshift(0),c.push(i[i.length-1]),h.push(1),e.fillGradientType===hy.LINEAR_VERTICAL){a=this.context.createLinearGradient(l/2,o,l/2,u+o);const d=n.fontProperties.fontSize+e.strokeThickness;for(let f=0;f<r.length;f++){const p=n.lineHeight*(f-1)+d,g=n.lineHeight*f;let m=g;f>0&&p>g&&(m=(g+p)/2);const v=g+d,y=n.lineHeight*(f+1);let b=v;f+1<r.length&&y<v&&(b=(v+y)/2);const x=(b-m)/u;for(let w=0;w<c.length;w++){let E=0;typeof h[w]=="number"?E=h[w]:E=w/c.length;let _=Math.min(1,Math.max(0,m/u+E*x));_=Number(_.toFixed(5)),a.addColorStop(_,c[w])}}}else{a=this.context.createLinearGradient(o,u/2,l+o,u/2);const d=c.length+1;let f=1;for(let p=0;p<c.length;p++){let g;typeof h[p]=="number"?g=h[p]:g=f/d,a.addColorStop(g,c[p]),f++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},vce,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=zs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=zs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof oo?this._style=e:this._style=new oo(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};S8.defaultAutoResolution=!0;let C8=S8;class mce{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function gce(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Me){const a=t._textures[i].baseTexture;e.includes(a)||(e.push(a),r=!0)}}return r}function yce(t,e){if(t.baseTexture instanceof Ye){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function bce(t,e){if(t._texture&&t._texture instanceof Me){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function xce(t,e){return e instanceof C8?(e.updateText(!0),!0):!1}function wce(t,e){if(e instanceof oo){const r=e.toFontString();return As.measureFont(r),!0}return!1}function _ce(t,e){if(t instanceof C8){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Ece(t,e){return t instanceof oo?(e.includes(t)||e.push(t),!0):!1}const T8=class A8{constructor(e){this.limiter=new mce(A8.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(_ce),this.registerFindHook(Ece),this.registerFindHook(gce),this.registerFindHook(yce),this.registerFindHook(bce),this.registerUploadHook(xce),this.registerUploadHook(wce)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,fn.system.addOnce(this.tick,this,xl.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)fn.system.addOnce(this.tick,this,xl.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof _n)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&fn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};T8.uploadsPerFrame=4;let wT=T8;Object.defineProperties(Ae,{UPLOADS_PER_FRAME:{get(){return wT.uploadsPerFrame},set(t){Ke("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),wT.uploadsPerFrame=t}}});function R8(t,e){return e instanceof Ye?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Sce(t,e){if(!(e instanceof Us))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:a}=n[i].style;a&&R8(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Cce(t,e){return t instanceof Us?(e.push(t),!0):!1}class P8 extends wT{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Cce),this.registerUploadHook(R8),this.registerUploadHook(Sce)}}P8.extension={name:"prepare",type:Te.RendererSystem};Oe.add(P8);const xh=new $e;class CR extends Xn{constructor(e,r=100,n=100){super(e),this.tileTransform=new oy,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new bR(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xh);const r=this._width,n=this._height,i=-r*this.anchor._x;if(xh.x>=i&&xh.x<i+r){const a=-n*this.anchor._y;if(xh.y>=a&&xh.y<a+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof Me?e:Me.from(e,r);return new CR(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Tce=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Ace=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Rce=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,PD=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Pce=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Np=new At;class I8 extends ly{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new O$,this.state=Ca.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=wa.from(PD,Pce,r),this.shader=e.context.webGLVersion>1?wa.from(Ace,Tce,r):wa.from(PD,Rce,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-a,i[1]=i[3]=-s,i[2]=i[4]=1-a,i[5]=i[7]=1-s,n.invalidate();const o=e._texture,l=o.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&o.frame.width===l.width&&o.frame.height===l.height;d&&(l._glTextures[r.CONTEXT_UID]?d=l.wrapMode!==Js.CLAMP:l.wrapMode===Js.CLAMP&&(l.wrapMode=Js.REPEAT));const f=d?this.simpleShader:this.shader,p=o.width,g=o.height,m=e._width,v=e._height;Np.set(c.a*p/m,c.b*p/v,c.c*g/m,c.d*g/v,c.tx/m,c.ty/v),Np.invert(),d?Np.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=Np.toArray(!0),f.uniforms.uColor=St.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=o,r.shader.bind(f),r.geometry.bind(n),this.state.blendMode=x$(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}I8.extension={name:"tilingSprite",type:Te.RendererPlugin};Oe.add(I8);const k8=class Bh{constructor(e,r,n){this.linkedSheets=[],(e instanceof Ye||e instanceof Me)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:a,resolutionFilename:s=null,cachePrefix:o=""}=e;this.cachePrefix=o,this._texture=i instanceof Me?i:null,this.baseTexture=i instanceof Ye?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const l=this.baseTexture.resource;this.resolution=this._updateResolution(s||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ts(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Bh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Bh.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],a=this._frames[i],s=a.frame;if(s){let o=null,l=null;const u=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,c=new qe(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a.rotated?o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(l=new qe(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new Me(this.baseTexture,o,c,l,a.rotated?2:0,a.anchor,a.borders),Me.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Bh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Bh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};k8.BATCH_SIZE=1e3;let ID=k8;const Ice=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function M8(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=wr.dirname(t[0]);e.linkedSheets.forEach((a,s)=>{Object.assign(n,M8([`${i}/${e.data.meta.related_multi_packs[s]}`],a,!0))})}return n}const kce={extension:Te.Asset,cache:{test:t=>t instanceof ID,getCacheableAssets:(t,e)=>M8(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&Ice.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Ae.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Te.LoadParser,priority:Hi.Normal},async testParse(t,e){return wr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;const{texture:n,imageFilename:i,cachePrefix:a}=(e==null?void 0:e.data)??{};let s=wr.dirname(e.src);s&&s.lastIndexOf("/")!==s.length-1&&(s+="/");let o;if(n&&n.baseTexture)o=n;else{const d=mT(s+(i??t.meta.image),e.src);o=(await r.load([d]))[d]}const l=new ID({texture:o.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:a});await l.parse();const u=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(u)){const d=[];for(const p of u){if(typeof p!="string")continue;let g=s+p;(h=e.data)!=null&&h.ignoreMultiPack||(g=mT(g,e.src),d.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(d);l.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[l].concat(l.linkedSheets.filter(g=>g!==p))})}return l},unload(t){t.destroy(!0)}}};Oe.add(kce);class Om{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class wv{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in r){const s=r[a].match(/^[a-z]+/gm)[0],o=r[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in o){const c=o[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}n[s].push(l)}const i=new Om;return n.info.forEach(a=>i.info.push({face:a.face,size:parseInt(a.size,10)})),n.common.forEach(a=>i.common.push({lineHeight:parseInt(a.lineHeight,10)})),n.page.forEach(a=>i.page.push({id:parseInt(a.id,10),file:a.file})),n.char.forEach(a=>i.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),n.kerning.forEach(a=>i.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),n.distanceField.forEach(a=>i.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),i}}class _T{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Om,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<a.length;u++)r.page.push({id:parseInt(a[u].getAttribute("id"),10)||0,file:a[u].getAttribute("file")});for(let u=0;u<s.length;u++){const c=s[u];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<o.length;u++)r.kerning.push({first:parseInt(o[u].getAttribute("first"),10),second:parseInt(o[u].getAttribute("second"),10),amount:parseInt(o[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class ET{static test(e){return typeof e=="string"&&e.includes("<font>")?_T.test(Ae.ADAPTER.parseXML(e)):!1}static parse(e){return _T.parse(Ae.ADAPTER.parseXML(e))}}const k1=[wv,_T,ET];function Mce(t){for(let e=0;e<k1.length;e++)if(k1[e].test(t))return k1[e];return null}function Dce(t,e,r,n,i,a){const s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=t.width/n-l-u*2,h=t.height/n-l-u*2,d=s.slice(),f=r.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let g=1;g<p;++g)f.push(g/p)}if(d.unshift(s[0]),f.unshift(0),d.push(s[s.length-1]),f.push(1),r.fillGradientType===hy.LINEAR_VERTICAL){o=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const g=(a.fontProperties.fontSize+r.strokeThickness)/h;for(let m=0;m<i.length;m++){const v=a.lineHeight*m;for(let y=0;y<d.length;y++){let b=0;typeof f[y]=="number"?b=f[y]:b=y/d.length;const x=v/h+b*g;let w=Math.max(p,x);w=Math.min(w,1),o.addColorStop(w,d[y]),p=w}}}else{o=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let g=1;for(let m=0;m<d.length;m++){let v;typeof f[m]=="number"?v=f[m]:v=g/p,o.addColorStop(v,d[m]),g++}}return o}function Oce(t,e,r,n,i,a,s){const o=r.text,l=r.fontProperties;e.translate(n,i),e.scale(a,a);const u=s.strokeThickness/2,c=-(s.strokeThickness/2);if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=Dce(t,e,s,a,[o],r),e.strokeStyle=s.stroke,s.dropShadow){const h=s.dropShadowColor,d=s.dropShadowBlur*a,f=s.dropShadowDistance*a;e.shadowColor=St.shared.setValue(h).setAlpha(s.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(o,u,c+r.lineHeight-l.descent),s.fill&&e.fillText(o,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function _v(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function D8(t){return Array.from?Array.from(t):t.split("")}function Nce(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const a=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(let o=a,l=s;o<=l;o++)e.push(String.fromCharCode(o))}else e.push(...D8(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const _s=class ra{constructor(e,r,n){var c;const[i]=e.info,[a]=e.common,[s]=e.page,[o]=e.distanceField,l=ts(s.file),u={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=a.lineHeight/l,this.chars={},this.pageTextures=u;for(let h=0;h<e.page.length;h++){const{id:d,file:f}=e.page[h];u[d]=r instanceof Array?r[h]:r[f],o!=null&&o.fieldType&&o.fieldType!=="none"&&(u[d].baseTexture.alphaMode=dn.NO_PREMULTIPLIED_ALPHA,u[d].baseTexture.mipmap=_a.OFF)}for(let h=0;h<e.char.length;h++){const{id:d,page:f}=e.char[h];let{x:p,y:g,width:m,height:v,xoffset:y,yoffset:b,xadvance:x}=e.char[h];p/=l,g/=l,m/=l,v/=l,y/=l,b/=l,x/=l;const w=new qe(p+u[f].frame.x/l,g+u[f].frame.y/l,m,v);this.chars[d]={xOffset:y,yOffset:b,xAdvance:x,kerning:{},texture:new Me(u[f].baseTexture,w),page:f}}for(let h=0;h<e.kerning.length;h++){let{first:d,second:f,amount:p}=e.kerning[h];d/=l,f/=l,p/=l,this.chars[f]&&(this.chars[f].kerning[d]=p)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Om)i=e;else{const s=Mce(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof Me&&(r=[r]);const a=new ra(i,r,n);return ra.available[a.font]=a,a}static uninstall(e){const r=ra.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete ra.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:a,resolution:s,textureWidth:o,textureHeight:l,...u}=Object.assign({},ra.defaultOptions,n),c=Nce(i),h=r instanceof oo?r:new oo(r),d=o,f=new Om;f.info[0]={face:h.fontFamily,size:h.fontSize},f.common[0]={lineHeight:h.fontSize};let p=0,g=0,m,v,y,b=0;const x=[];for(let E=0;E<c.length;E++){m||(m=Ae.ADAPTER.createCanvas(),m.width=o,m.height=l,v=m.getContext("2d"),y=new Ye(m,{resolution:s,...u}),x.push(new Me(y)),f.page.push({id:x.length-1,file:""}));const _=c[E],T=As.measureText(_,h,!1,m),C=T.width,P=Math.ceil(T.height),M=Math.ceil((h.fontStyle==="italic"?2:1)*C);if(g>=l-P*s){if(g===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${_}')`);--E,m=null,v=null,y=null,g=0,p=0,b=0;continue}if(b=Math.max(P+T.fontProperties.descent,b),M*s+p>=d){if(p===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${_}')`);--E,g+=b*s,g=Math.ceil(g),p=0,b=0;continue}Oce(m,v,T,p,g,s,h);const R=_v(T.text);f.char.push({id:R,page:x.length-1,x:p/s,y:g/s,width:M,height:P,xoffset:0,yoffset:0,xadvance:C-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),p+=(M+2*a)*s,p=Math.ceil(p)}if(!(n!=null&&n.skipKerning))for(let E=0,_=c.length;E<_;E++){const T=c[E];for(let C=0;C<_;C++){const P=c[C],M=v.measureText(T).width,R=v.measureText(P).width,I=v.measureText(T+P).width-(M+R);I&&f.kerning.push({first:_v(T),second:_v(P),amount:I})}}const w=new ra(f,x,!0);return ra.available[e]!==void 0&&ra.uninstall(e),ra.available[e]=w,w}};_s.ALPHA=[["a","z"],["A","Z"]," "],_s.NUMERIC=[["0","9"]],_s.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],_s.ASCII=[[" ","~"]],_s.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_s.ALPHANUMERIC},_s.available={};let Es=_s;var Lce=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Bce=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const kD=[],MD=[],DD=[],Fce=class O8 extends _n{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:a,letterSpacing:s,fontName:o,fontSize:l}=Object.assign({},O8.styleDefaults,r);if(!Es.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new St(i),this._font=void 0,this._fontName=o,this._fontSize=l,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new $a(()=>{this.dirty=!0},this,0,0),this._roundPixels=Ae.ROUND_PIXELS,this.dirty=!0,this._resolution=Ae.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const e=Es.available[this._fontName],r=this.fontSize,n=r/e.size,i=new $e,a=[],s=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=D8(l),c=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?kD:MD;let d=null,f=0,p=0,g=0,m=-1,v=0,y=0,b=0,x=0;for(let R=0;R<u.length;R++){const I=u[R],S=_v(I);if(/(?:\s)/.test(I)&&(m=R,v=f,x++),I==="\r"||I===`
`){s.push(f),o.push(-1),p=Math.max(p,f),++g,++y,i.x=0,i.y+=e.lineHeight,d=null,x=0;continue}const B=e.chars[S];if(!B)continue;d&&B.kerning[d]&&(i.x+=B.kerning[d]);const L=DD.pop()||{texture:Me.EMPTY,line:0,charCode:0,prevSpaces:0,position:new $e};L.texture=B.texture,L.line=g,L.charCode=S,L.position.x=Math.round(i.x+B.xOffset+this._letterSpacing/2),L.position.y=Math.round(i.y+B.yOffset),L.prevSpaces=x,a.push(L),f=L.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),i.x+=B.xAdvance+this._letterSpacing,b=Math.max(b,B.yOffset+B.texture.height),d=S,m!==-1&&c>0&&i.x>c&&(++y,qu(a,1+m-y,1+R-m),R=m,m=-1,s.push(v),o.push(a.length>0?a[a.length-1].prevSpaces:0),p=Math.max(p,v),g++,i.x=0,i.y+=e.lineHeight,d=null,x=0)}const w=u[u.length-1];w!=="\r"&&w!==`
`&&(/(?:\s)/.test(w)&&(f=v),s.push(f),p=Math.max(p,f),o.push(-1));const E=[];for(let R=0;R<=g;R++){let I=0;this._align==="right"?I=p-s[R]:this._align==="center"?I=(p-s[R])/2:this._align==="justify"&&(I=o[R]<0?0:(p-s[R])/o[R]),E.push(I)}const _=a.length,T={},C=[],P=this._activePagesMeshData;h.push(...P);for(let R=0;R<_;R++){const I=a[R].texture,S=I.baseTexture.uid;if(!T[S]){let B=h.pop();if(!B){const N=new lce;let F,z;e.distanceFieldType==="none"?(F=new AD(Me.EMPTY),z=He.NORMAL):(F=new AD(Me.EMPTY,{program:Ga.from(Bce,Lce),uniforms:{uFWidth:0}}),z=He.NORMAL_NPM);const $=new TD(N,F);$.blendMode=z,B={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:$,vertices:null,uvs:null,indices:null}}B.index=0,B.indexCount=0,B.vertexCount=0,B.uvsCount=0,B.total=0;const{_textureCache:L}=this;L[S]=L[S]||new Me(I.baseTexture),B.mesh.texture=L[S],B.mesh.tint=this._tintColor.value,C.push(B),T[S]=B}T[S].total++}for(let R=0;R<P.length;R++)C.includes(P[R])||this.removeChild(P[R].mesh);for(let R=0;R<C.length;R++)C[R].mesh.parent!==this&&this.addChild(C[R].mesh);this._activePagesMeshData=C;for(const R in T){const I=T[R],S=I.total;if(!(((M=I.indices)==null?void 0:M.length)>6*S)||I.vertices.length<TD.BATCHABLE_SIZE*2)I.vertices=new Float32Array(4*2*S),I.uvs=new Float32Array(4*2*S),I.indices=new Uint16Array(6*S);else{const B=I.total,L=I.vertices;for(let N=B*4*2;N<L.length;N++)L[N]=0}I.mesh.size=6*S}for(let R=0;R<_;R++){const I=a[R];let S=I.position.x+E[I.line]*(this._align==="justify"?I.prevSpaces:1);this._roundPixels&&(S=Math.round(S));const B=S*n,L=I.position.y*n,N=I.texture,F=T[N.baseTexture.uid],z=N.frame,$=N._uvs,O=F.index++;F.indices[O*6+0]=0+O*4,F.indices[O*6+1]=1+O*4,F.indices[O*6+2]=2+O*4,F.indices[O*6+3]=0+O*4,F.indices[O*6+4]=2+O*4,F.indices[O*6+5]=3+O*4,F.vertices[O*8+0]=B,F.vertices[O*8+1]=L,F.vertices[O*8+2]=B+z.width*n,F.vertices[O*8+3]=L,F.vertices[O*8+4]=B+z.width*n,F.vertices[O*8+5]=L+z.height*n,F.vertices[O*8+6]=B,F.vertices[O*8+7]=L+z.height*n,F.uvs[O*8+0]=$.x0,F.uvs[O*8+1]=$.y0,F.uvs[O*8+2]=$.x1,F.uvs[O*8+3]=$.y1,F.uvs[O*8+4]=$.x2,F.uvs[O*8+5]=$.y2,F.uvs[O*8+6]=$.x3,F.uvs[O*8+7]=$.y3}this._textWidth=p*n,this._textHeight=(i.y+e.lineHeight)*n;for(const R in T){const I=T[R];if(this.anchor.x!==0||this.anchor.y!==0){let N=0;const F=this._textWidth*this.anchor.x,z=this._textHeight*this.anchor.y;for(let $=0;$<I.total;$++)I.vertices[N++]-=F,I.vertices[N++]-=z,I.vertices[N++]-=F,I.vertices[N++]-=z,I.vertices[N++]-=F,I.vertices[N++]-=z,I.vertices[N++]-=F,I.vertices[N++]-=z}this._maxLineHeight=b*n;const S=I.mesh.geometry.getBuffer("aVertexPosition"),B=I.mesh.geometry.getBuffer("aTextureCoord"),L=I.mesh.geometry.getIndex();S.data=I.vertices,B.data=I.uvs,L.data=I.indices,S.update(),B.update(),L.update()}for(let R=0;R<a.length;R++)DD.push(a[R]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Es.available[this._fontName];if(n!=="none"){const{a,b:s,c:o,d:l}=this.worldTransform,u=Math.sqrt(a*a+s*s),c=Math.sqrt(o*o+l*l),h=(Math.abs(u)+Math.abs(c))/2,d=this.fontSize/i,f=e._view.resolution;for(const p of this._activePagesMeshData)p.mesh.shader.uniforms.uFWidth=h*r*d*f}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Es.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Es.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Es.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Es.available[this._fontName].distanceFieldType==="none"?kD:MD;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Me.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Fce.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const zce=[".xml",".fnt"],jce={extension:{type:Te.LoadParser,priority:Hi.Normal},name:"loadBitmapFont",test(t){return zce.includes(wr.extname(t).toLowerCase())},async testParse(t){return wv.test(t)||ET.test(t)},async parse(t,e,r){const n=wv.test(t)?wv.parse(t):ET.parse(t),{src:i}=e,{page:a}=n,s=[];for(let u=0;u<a.length;++u){const c=a[u].file;let h=wr.join(wr.dirname(i),c);h=mT(h,i),s.push(h)}const o=await r.load(s),l=s.map(u=>o[u]);return Es.install(n,l,!0)},async load(t,e){return(await Ae.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Oe.add(jce);const ST=class fu extends oo{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new fu(Object.keys(fu.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete fu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=fu;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Ae.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((a,s)=>{const o=URL.createObjectURL(i),l=new FileReader;l.onload=()=>a([o,l.result]),l.onerror=s,l.readAsDataURL(i)})).then(async([i,a])=>{const s=Object.assign({family:wr.basename(e,wr.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:a,refs:1,originalUrl:e,fontFace:null},r);n[e]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style,display:s.display});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Pse(e)),typeof e=="number"?Rse(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const a=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,fu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Ae.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};ST.availableFonts={},ST.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let M1=ST;const Lp=class pu extends Xn{constructor(e="",r={}){super(Me.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=Me.from(n,{scaleMode:Ae.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new qe,i.trim=new qe,this.texture=i;const a="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject"),u=document.createElementNS(s,"div"),c=document.createElementNS(s,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",o.appendChild(l),this.maxWidth=pu.defaultMaxWidth,this.maxHeight=pu.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=o,this._foreignObject=l,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=n,this._loadImage=new Image,this._autoResolution=pu.defaultAutoResolution,this._resolution=pu.defaultResolution??Ae.RESOLUTION,this.text=e,this.style=r}measureText(e){var c,h;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:s,height:o}=a;(s>this.maxWidth||o>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(s)),u=Math.min(this.maxHeight,Math.ceil(o));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",u.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(c=this._style)==null?void 0:c.toCSS(i)}),this._styleElement.textContent=(h=this._style)==null?void 0:h.toGlobalCSS()),{width:l+n.padding*2,height:u+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:a,height:s}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,a)),n.height=i.height=Math.ceil(Math.max(1,s)),this._updateID++;const o=this._updateID;await new Promise(l=>{i.onload=async()=>{if(o<this._updateID){l();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),l()};const u=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:a}=e,{baseTexture:s}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-a,r.trim.y=-a,r.orig.width=r._frame.width-a*2,r.orig.height=r._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,a,s,o;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},pu.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(a=this._domElement)==null||a.remove(),this._domElement=r,(s=this._foreignObject)==null||s.remove(),this._foreignObject=r,(o=this._styleElement)==null||o.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=zs(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=zs(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof M1?(this.ownsStyle=!1,this._style=e):e instanceof oo?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=M1.from(e)):(this.ownsStyle=!0,this._style=new M1(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Lp.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Lp.defaultMaxWidth=2024,Lp.defaultMaxHeight=2024,Lp.defaultAutoResolution=!0;class ui{constructor(e){this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var Uce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N8={exports:{}};(function(t,e){(function(){var r,n;n=function(i){return t.exports=i},r={linear:function(i,a,s,o){return s*i/o+a},easeInQuad:function(i,a,s,o){return s*(i/=o)*i+a},easeOutQuad:function(i,a,s,o){return-s*(i/=o)*(i-2)+a},easeInOutQuad:function(i,a,s,o){return(i/=o/2)<1?s/2*i*i+a:-s/2*(--i*(i-2)-1)+a},easeInCubic:function(i,a,s,o){return s*(i/=o)*i*i+a},easeOutCubic:function(i,a,s,o){return s*((i=i/o-1)*i*i+1)+a},easeInOutCubic:function(i,a,s,o){return(i/=o/2)<1?s/2*i*i*i+a:s/2*((i-=2)*i*i+2)+a},easeInQuart:function(i,a,s,o){return s*(i/=o)*i*i*i+a},easeOutQuart:function(i,a,s,o){return-s*((i=i/o-1)*i*i*i-1)+a},easeInOutQuart:function(i,a,s,o){return(i/=o/2)<1?s/2*i*i*i*i+a:-s/2*((i-=2)*i*i*i-2)+a},easeInQuint:function(i,a,s,o){return s*(i/=o)*i*i*i*i+a},easeOutQuint:function(i,a,s,o){return s*((i=i/o-1)*i*i*i*i+1)+a},easeInOutQuint:function(i,a,s,o){return(i/=o/2)<1?s/2*i*i*i*i*i+a:s/2*((i-=2)*i*i*i*i+2)+a},easeInSine:function(i,a,s,o){return-s*Math.cos(i/o*(Math.PI/2))+s+a},easeOutSine:function(i,a,s,o){return s*Math.sin(i/o*(Math.PI/2))+a},easeInOutSine:function(i,a,s,o){return-s/2*(Math.cos(Math.PI*i/o)-1)+a},easeInExpo:function(i,a,s,o){return i===0?a:s*Math.pow(2,10*(i/o-1))+a},easeOutExpo:function(i,a,s,o){return i===o?a+s:s*(-Math.pow(2,-10*i/o)+1)+a},easeInOutExpo:function(i,a,s,o){return(i/=o/2)<1?s/2*Math.pow(2,10*(i-1))+a:s/2*(-Math.pow(2,-10*--i)+2)+a},easeInCirc:function(i,a,s,o){return-s*(Math.sqrt(1-(i/=o)*i)-1)+a},easeOutCirc:function(i,a,s,o){return s*Math.sqrt(1-(i=i/o-1)*i)+a},easeInOutCirc:function(i,a,s,o){return(i/=o/2)<1?-s/2*(Math.sqrt(1-i*i)-1)+a:s/2*(Math.sqrt(1-(i-=2)*i)+1)+a},easeInElastic:function(i,a,s,o){var l,u,c;return c=1.70158,u=0,l=s,i===0||(i/=o),u||(u=o*.3),l<Math.abs(s)?(l=s,c=u/4):c=u/(2*Math.PI)*Math.asin(s/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*o-c)*(2*Math.PI)/u))+a},easeOutElastic:function(i,a,s,o){var l,u,c;return c=1.70158,u=0,l=s,i===0||(i/=o),u||(u=o*.3),l<Math.abs(s)?(l=s,c=u/4):c=u/(2*Math.PI)*Math.asin(s/l),l*Math.pow(2,-10*i)*Math.sin((i*o-c)*(2*Math.PI)/u)+s+a},easeInOutElastic:function(i,a,s,o){var l,u,c;return c=1.70158,u=0,l=s,i===0||(i/=o/2),u||(u=o*(.3*1.5)),l<Math.abs(s)?(l=s,c=u/4):c=u/(2*Math.PI)*Math.asin(s/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*o-c)*(2*Math.PI)/u))+a:l*Math.pow(2,-10*(i-=1))*Math.sin((i*o-c)*(2*Math.PI)/u)*.5+s+a},easeInBack:function(i,a,s,o,l){return l===void 0&&(l=1.70158),s*(i/=o)*i*((l+1)*i-l)+a},easeOutBack:function(i,a,s,o,l){return l===void 0&&(l=1.70158),s*((i=i/o-1)*i*((l+1)*i+l)+1)+a},easeInOutBack:function(i,a,s,o,l){return l===void 0&&(l=1.70158),(i/=o/2)<1?s/2*(i*i*(((l*=1.525)+1)*i-l))+a:s/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+a},easeInBounce:function(i,a,s,o){var l;return l=r.easeOutBounce(o-i,0,s,o),s-l+a},easeOutBounce:function(i,a,s,o){return(i/=o)<1/2.75?s*(7.5625*i*i)+a:i<2/2.75?s*(7.5625*(i-=1.5/2.75)*i+.75)+a:i<2.5/2.75?s*(7.5625*(i-=2.25/2.75)*i+.9375)+a:s*(7.5625*(i-=2.625/2.75)*i+.984375)+a},easeInOutBounce:function(i,a,s,o){var l;return i<o/2?(l=r.easeInBounce(i*2,0,s,o),l*.5+a):(l=r.easeOutBounce(i*2-o,0,s,o),l*.5+s*.5+a)}},n(r)}).call(Uce)})(N8);var Gce=N8.exports;const OD=$ce(Gce);function dy(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return OD[t]}else return OD[e]}const Hce={removeOnInterrupt:!1,ease:"linear",time:1e3};class Vce extends ui{constructor(e,r={}){super(e),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},Hce,r),this.options.ease=dy(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const r=new $e(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const n=this.parent.width,i=this.parent.height;this.complete(),(n!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:r,type:"animate"})}else{const n=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,a=this.deltaWidth;this.parent.fitWidth(i+a*n,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,a=this.deltaHeight;this.parent.fitHeight(i+a*n,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,a=this.startY,s=this.deltaX,o=this.deltaY,l=new $e(this.parent.x,this.parent.y);this.parent.moveCenter(i+s*n,a+o*n),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:r,type:"animate"})}}}const Wce={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class qce extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},Wce,r),this.ease=dy(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const n=this.options.underflow.toLowerCase();n==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=n.indexOf("left")!==-1?-1:n.indexOf("right")!==-1?1:0,this.underflowY=n.indexOf("top")!==-1?-1:n.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const r=this.toX;r.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),r.time>=this.options.time?(this.parent.x=r.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(r.time,r.start,r.delta,this.options.time)}if(this.toY){const r=this.toY;r.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),r.time>=this.options.time?(this.parent.y=r.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(r.time,r.start,r.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const r=typeof e.x>"u"?0:e.x,n=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,a=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<r,right:this.parent.right>i,top:this.parent.top<n,bottom:this.parent.bottom>a,topLeft:new $e(r*this.parent.scale.x,n*this.parent.scale.y),bottomRight:new $e(i*this.parent.scale.x-this.parent.screenWidth,a*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new $e(0,0),bottomRight:new $e(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,r;if(this.paused)return;let n,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((r=i.options)==null?void 0:r.friction))&&(n=this.oob(),(n.left&&this.left||n.right&&this.right)&&(i.percentChangeX=this.options.friction),(n.top&&this.top||n.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const a=this.parent.plugins.get("drag",!0)||{},s=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(a!=null&&a.active)&&!(s!=null&&s.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){n=n||this.oob();const o=n.topLeft,l=n.bottomRight;if(!this.toX&&!i.x){let u=null;n.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-o.x:n.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;n.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-o.y:n.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Xce={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Yce extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},Xce,r),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new $e(this.parent.x,this.parent.y),r=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let n=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,n=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,n=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,n=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,r.x=0,n=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,r.x=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let n=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,n=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,n=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,n=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,r.y=0,n=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,r.y=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const Kce={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class Zce extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},Kce,r),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const n=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const n=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&r<this.options.minHeight){const n=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&r>this.options.maxHeight){const n=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/n,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},r={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const a=this.options.minScale;e.x=typeof a.x>"u"?null:a.x,e.y=typeof a.y>"u"?null:a.y}if(typeof this.options.maxScale=="number")r.x=this.options.maxScale,r.y=this.options.maxScale;else if(this.options.maxScale!==null){const a=this.options.maxScale;r.x=typeof a.x>"u"?null:a.x,r.y=typeof a.y>"u"?null:a.y}let n=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&n<e.x&&(n=e.x),r.x!==null&&n>r.x&&(n=r.x),e.y!==null&&i<e.y&&(i=e.y),r.y!==null&&i>r.y&&(i=r.y),(n!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(n,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const Qce={friction:.98,bounce:.8,minSpeed:.01},bs=16;class Jce extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},Qce,r),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",n=>this.handleMoved(n))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const r=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?r.x===e.original.x&&(r.x=this.parent.x):e.type==="clamp-y"&&e.original&&r.y===e.original.y&&(r.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const r of this.saved)if(r.time>=e-100){const n=e-r.time;this.x=(this.parent.x-r.x)/n,this.y=(this.parent.y-r.y)/n,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const r=this.x||this.y,n=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const a=this.percentChangeX,s=Math.log(a);this.parent.x+=this.x*bs/s*(Math.pow(a,i/bs)-Math.pow(a,n/bs)),this.x*=Math.pow(this.percentChangeX,e/bs)}if(this.y){const a=this.percentChangeY,s=Math.log(a);this.parent.y+=this.y*bs/s*(Math.pow(a,i/bs)-Math.pow(a,n/bs)),this.y*=Math.pow(this.percentChangeY,e/bs)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),r&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const ehe={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class the extends ui{constructor(e,r={}){super(e),this.windowEventHandlers=[],this.options=Object.assign({},ehe,r),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const r=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},n=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",n),this.addWindowEventHandler("keydown",r)}addWindowEventHandler(e,r){typeof window>"u"||(window.addEventListener(e,r),this.windowEventHandlers.push({event:e,handler:r}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:e,handler:r})=>{window.removeEventListener(e,r)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const r=e.pointerType==="mouse",n=this.parent.input.count();return!!((n===1||n>1&&!this.parent.plugins.get("pinch",!0))&&(!r||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const r=e.global.x,n=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const a=r-this.last.x,s=n-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(a)||this.yDirection&&this.parent.input.checkThreshold(s)){const o={x:r,y:n};return this.xDirection&&(this.parent.x+=(o.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(o.y-this.last.y)*this.options.factor),this.last=o,this.moved||this.parent.emit("drag-start",{event:e,screen:new $e(this.last.x,this.last.y),world:this.parent.toWorld(new $e(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const r=this.parent.input.touches;if(r.length===1){const n=r[0];return n.last&&(this.last={x:n.last.x,y:n.last.y},this.current=n.id),this.moved=!1,!0}else if(this.last&&this.moved){const n=new $e(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:n,world:this.parent.toWorld(n),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const r=this.parent.plugins.get("wheel",!0);if(!r||!r.options.wheelZoom&&!e.ctrlKey){const n=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[a,s]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=a*n*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=s*n*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const rhe={speed:0,acceleration:null,radius:null};class nhe extends ui{constructor(e,r,n={}){super(e),this.target=r,this.options=Object.assign({},rhe,n),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const r=this.parent.center;let n=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-r.y,2)+Math.pow(this.target.x-r.x,2))>this.options.radius){const o=Math.atan2(this.target.y-r.y,this.target.x-r.x);n=this.target.x-Math.cos(o)*this.options.radius,i=this.target.y-Math.sin(o)*this.options.radius}else return;const a=n-r.x,s=i-r.y;if(a||s)if(this.options.speed)if(this.options.acceleration){const o=Math.atan2(i-r.y,n-r.x),l=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(o)*this.velocity.x,h=Math.sin(o)*this.velocity.y,d=Math.abs(c)>Math.abs(a)?n:r.x+c,f=Math.abs(h)>Math.abs(s)?i:r.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const o=Math.atan2(i-r.y,n-r.x),l=Math.cos(o)*this.options.speed,u=Math.sin(o)*this.options.speed,c=Math.abs(l)>Math.abs(a)?n:r.x+l,h=Math.abs(u)>Math.abs(s)?i:r.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const ihe={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class ahe extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},ihe,r),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const r=e.global.x,n=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-r,2)+Math.pow(i.y-n,2)>=this.radiusSquared){const a=Math.atan2(i.y-n,i.x-r);this.options.linear?(this.horizontal=Math.round(Math.cos(a))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(a))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(a)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(a)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&r<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&r>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&n<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&n>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const she={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class ohe extends ui{constructor(e,r={}){super(e),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},she,r)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const r=e.global.x,n=e.global.y,i=this.parent.input.touches;if(i.length>=2){const a=i[0],s=i[1],o=a.last&&s.last?Math.sqrt(Math.pow(s.last.x-a.last.x,2)+Math.pow(s.last.y-a.last.y,2)):null;if(a.id===e.pointerId?a.last={x:r,y:n,data:e}:s.id===e.pointerId&&(s.last={x:r,y:n,data:e}),o){let l;const u=new $e(a.last.x+(s.last.x-a.last.x)/2,a.last.y+(s.last.y-a.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(s.last.x-a.last.x,2)+Math.pow(s.last.y-a.last.y,2));c=c===0?c=1e-10:c;const h=(1-o/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const lhe={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class uhe extends ui{constructor(e,r,n,i={}){super(e),this.options=Object.assign({},lhe,i),this.ease=dy(i.ease,"easeInOutSine"),this.x=r,this.y=n,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const r=this.snapping;r.time+=e;let n,i,a;const s=this.startX,o=this.startY,l=this.deltaX,u=this.deltaY;if(r.time>this.options.time)n=!0,i=s+l,a=o+u;else{const c=this.ease(r.time,0,1,this.options.time);i=s+l*c,a=o+u*c}this.options.topLeft?this.parent.moveCorner(i,a):this.parent.moveCenter(i,a),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),n&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const r=this.options.topLeft?this.parent.corner:this.parent.center;(r.x!==this.x||r.y!==this.y)&&this.snapStart()}}}const che={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};let hhe=class extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},che,r),this.ease=dy(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):r.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,n=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:r,deltaX:n-e,deltaY:i-r},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let r;if(!this.options.center&&!this.options.noMove&&(r=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const n=this.snapping;if(n.time+=e,n.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const a=this.snapping,s=this.ease(a.time,a.startX,a.deltaX,this.options.time),o=this.ease(a.time,a.startY,a.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/s,this.parent.scale.y=this.parent.screenHeight/o}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(r))}}resume(){this.snapping=null,super.resume()}};const dhe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class fhe extends ui{constructor(e,r={}){super(e),this.options=Object.assign({},dhe,r),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){typeof window>"u"||(window.addEventListener("keydown",r=>{e.includes(r.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",r=>{e.includes(r.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,r=this.smoothing;let n;this.options.center||(n=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=r.x),this.isAxisY()&&(this.parent.scale.y+=r.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(n);this.parent.x+=e.x-a.x,this.parent.y+=e.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const r=this.parent.input.getPointerPosition(e),n=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*n);let a;this.options.center||(a=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const s=this.parent.plugins.get("clamp-zoom",!0);if(s&&s.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const o=this.parent.toGlobal(a);this.parent.x+=r.x-o.x,this.parent.y+=r.y-o.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const r=this.parent.input.getPointerPosition(e),n=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*n);if(this.options.smooth){const a={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+a.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+a.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=r}else{let a;this.options.center||(a=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const s=this.parent.plugins.get("clamp-zoom",!0);if(s&&s.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const o=this.parent.toGlobal(a);this.parent.x+=r.x-o.x,this.parent.y+=r.y-o.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class phe{constructor(e){this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new qe(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var e;(e=this.viewport.options.events.domElement)==null||e.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.visible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const r=this.viewport.plugins.get("decelerate",!0),n=this.viewport.plugins.get("bounce",!0);(!r||!r.isActive())&&(!n||!n.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.visible)return;const r=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const n=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(n)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}r&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.visible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const r=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),r&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const r=new $e;return this.viewport.options.events.mapPositionToPoint(r,e.clientX,e.clientY),r}handleWheel(e){if(this.viewport.pause||!this.viewport.visible)return;const r=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=r.x&&r.x<=this.viewport.right&&this.viewport.top<=r.y&&r.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const r of this.touches)if(r.id===e)return r;return null}remove(e){for(let r=0;r<this.touches.length;r++)if(this.touches[r].id===e){this.touches.splice(r,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const wh=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class vhe{constructor(e){this.viewport=e,this.list=[],this.plugins={}}add(e,r,n=wh.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=r;const a=wh.indexOf(e);a!==-1&&wh.splice(a,1),wh.splice(n,0,e),this.sort()}get(e,r){var n;return r&&(n=this.plugins[e])!=null&&n.paused?null:this.plugins[e]}update(e){for(const r of this.list)r.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var r;this.plugins[e]&&((r=this.plugins[e])==null||r.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var r;(r=this.plugins[e])==null||r.pause()}resume(e){var r;(r=this.plugins[e])==null||r.resume()}sort(){this.list=[];for(const e of wh)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let r=!1;for(const n of this.list)n.down(e)&&(r=!0);return r}move(e){let r=!1;for(const n of this.viewport.plugins.list)n.move(e)&&(r=!0);return r}up(e){let r=!1;for(const n of this.list)n.up(e)&&(r=!0);return r}wheel(e){let r=!1;for(const n of this.list)n.wheel(e)&&(r=!0);return r}}const mhe={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:fn.shared,allowPreserveDragOutside:!1};class ghe extends _n{constructor(e){super(),this._disableOnContextMenu=r=>r.preventDefault(),this.options={...mhe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new phe(this),this.plugins=new vhe(this)}destroy(e){var r;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((r=this.options.events.domElement)==null||r.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=typeof window>"u"?0:window.innerWidth,r=typeof window>"u"?0:window.innerHeight,n,i){this.screenWidth=e,this.screenHeight=r,typeof n<"u"&&(this._worldWidth=n),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,r){return arguments.length===2?this.toLocal(new $e(e,r)):this.toLocal(e)}toScreen(e,r){return arguments.length===2?this.toGlobal(new $e(e,r)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new $e(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let r,n;typeof e[0]=="number"?(r=e[0],n=e[1]):(r=e[0].x,n=e[0].y);const i=(this.worldScreenWidth/2-r)*this.scale.x,a=(this.worldScreenHeight/2-n)*this.scale.y;return(this.x!==i||this.y!==a)&&(this.position.set(i,a),this.plugins.reset(),this.dirty=!0),this}get corner(){return new $e(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let r,n;return e.length===1?(r=-e[0].x*this.scale.x,n=-e[0].y*this.scale.y):(r=-e[0]*this.scale.x,n=-e[1]*this.scale.y),(r!==this.x||n!==this.y)&&(this.position.set(r,n),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,r){const n=this.screenWidth/e,i=this.screenHeight/r;return Math.min(n,i)}findCover(e,r){const n=this.screenWidth/e,i=this.screenHeight/r;return Math.max(n,i)}fitWidth(e=this.worldWidth,r,n=!0,i){let a;r&&(a=this.center),this.scale.x=this.screenWidth/e,n&&(this.scale.y=this.scale.x);const s=this.plugins.get("clamp-zoom",!0);return!i&&s&&s.clamp(),r&&a&&this.moveCenter(a),this}fitHeight(e=this.worldHeight,r,n=!0,i){let a;r&&(a=this.center),this.scale.y=this.screenHeight/e,n&&(this.scale.x=this.scale.y);const s=this.plugins.get("clamp-zoom",!0);return!i&&s&&s.clamp(),r&&a&&this.moveCenter(a),this}fitWorld(e){let r;e&&(r=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),e&&r&&this.moveCenter(r),this}fit(e,r=this.worldWidth,n=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/r,this.scale.y=this.screenHeight/n,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const a=this.plugins.get("clamp-zoom",!0);return a&&a.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,r){let n;r&&(n=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),r&&n&&this.moveCenter(n),this}zoomPercent(e,r){return this.setZoom(this.scale.x+this.scale.x*e,r)}zoom(e,r){return this.fitWidth(e+this.worldScreenWidth,r),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new hhe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new $e(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new qe(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new the(this,e)),this}clamp(e){return this.plugins.add("clamp",new Yce(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new Jce(this,e)),this}bounce(e){return this.plugins.add("bounce",new qce(this,e)),this}pinch(e){return this.plugins.add("pinch",new ohe(this,e)),this}snap(e,r,n){return this.plugins.add("snap",new uhe(this,e,r,n)),this}follow(e,r){return this.plugins.add("follow",new nhe(this,e,r)),this}wheel(e){return this.plugins.add("wheel",new fhe(this,e)),this}animate(e){return this.plugins.add("animate",new Vce(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new Zce(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new ahe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,r,n,i,a){a&&(n>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,n,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let s=!1;e<this.left?(this.left=e,s=!0):e+n>this.right&&(this.right=e+n,s=!0),r<this.top?(this.top=r,s=!0):r+i>this.bottom&&(this.bottom=r+i,s=!0),s&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const Oa=416,Na=320,jo=new Us;class yhe{constructor(){this.textures=[],this.mapRenders=[],this.app=new h8({antialias:!1,backgroundColor:16711935}),Ae.SCALE_MODE=fa.NEAREST,this.viewport=new ghe({events:this.app.renderer.events}),this.viewport.drag().pinch().wheel().decelerate(),this.app.stage.addChild(this.viewport),jo.beginFill(16711935),jo.drawRect(0,0,32,32),jo.beginFill(0),jo.drawRect(0,0,16,16),jo.drawRect(16,16,16,16),jo.endFill()}async renderProject(e,r=!1){await(r?this.loadImages(e):Promise.resolve()),this.renderMaps(e)}async loadImages(e){for(const r of this.textures)Me.removeFromCache(r),r.destroy(!0);this.textures=[];for(const r of e.images){const n=URL.createObjectURL(r.data),i=await Me.fromURL(n);Me.addToCache(i,r.filename.toLowerCase()),this.textures.push(i)}}renderMap(e){let r=this.mapRenders.find(n=>n.randomId===e.random_id);r||(r=new xhe(e),this.mapRenders.push(r),this.viewport.addChild(r.container)),r.renderMap(e,this.app.renderer)}renderMaps(e){for(const i of e.maps)this.renderMap(i);const r=e.maps.flatMap(i=>i.random_id);this.mapRenders.filter(i=>!r.includes(i.randomId)).forEach(i=>this.viewport.removeChild(i.container)),this.mapRenders=this.mapRenders.filter(i=>r.includes(i.randomId))}centerOnMap(e){const r=this.mapRenders.find(o=>o.randomId===e);if(!r)return;const{x:n,y:i}=r.container.position,a=Oa/2,s=Na/2;this.viewport.scale.set(1),this.viewport.moveCenter(n+a*2+a,i+s+s/2),console.log(n,i)}}const bhe={[bt.FLOR]:"00FF00",[bt.WALL]:"FF0000",[bt.CHAR]:"FFFF00",[bt.ITEM]:"00FFFF",[bt.WATER]:"0000FF",[bt.DOOR]:"00FF00",[bt.Scooby2_floor]:"00FF00"};class xhe{constructor(e){this.randomId=e.random_id,this.container=new _n,this.collisionSprite=new Xn,this.renderTexture=ns.create({width:Oa,height:Na}),this.collisionRenderTexture=ns.create({width:Oa,height:Na}),this.mapSprite=new Xn,this.border=new Us,this.border.lineStyle({width:2,alpha:1,alignment:0}),this.border.drawRect(0,0,Oa,Na),this.border.endFill(),this.grid=new Us,this.drawGrid(),this.mapSprite.texture=this.renderTexture,this.collisionSprite.texture=this.collisionRenderTexture,this.container.addChild(this.mapSprite),this.container.addChild(this.collisionSprite),this.container.addChild(this.border)}renderMap(e,r){var a;try{const s=parseInt(e.filename.slice(0,2));let o=parseInt(e.filename.slice(2,4));this.container.position.set(s*Oa,o*Na)}catch{this.container.position.set(0,0)}const n=((a=e.data)==null?void 0:a.objects)??[];this.container.visible=e.render.showMap,this.border.visible=e.render.showMapBorder,this.grid.visible=e.render.showMapGrid,this.collisionSprite.visible=e.render.showCollision,this.collisionSprite.alpha=1,r.render(new Xn,{clear:!0,renderTexture:this.renderTexture}),r.render(new Xn,{clear:!0,renderTexture:this.collisionRenderTexture});const i=new Us;for(const s of n){const o=s.member.replace(".x","").toLowerCase(),l=o.includes("tile."),u=Gn[o]!==void 0?Gn[o]:r.generateTexture(jo),c=new _n,h=l?new CR(u):new Xn(u),{x:d,y:f}=s.location,{width:p,height:g,WSHIFT:m,HSHIFT:v}=s,y=s.data.item.type;if(h.width=p,h.height=g,h.x=d*16+m,h.y=f*16+v,l||(h.x-=Math.round(h.width/2),h.y-=Math.round(h.height/2)),h.alpha=s.render.alpha,c.addChild(h),s.render.outline){const b=new Us;b.lineStyle({color:65535,width:3}),b.drawRect(0,0,h.width,h.height),b.position.set(h.x,h.y),c.addChild(b)}if(e.render.showMoveBoxes&&whe(s,h,c),r.render(c,{clear:!1,renderTexture:this.renderTexture}),e.render.showCollision){let b=bhe[y];if(s.data.move.COND===Pn.Push&&(b="333333"),i.beginFill(b,1),y===bt.FLOR||y===bt.WATER){i.beginFill(b,.5);const x=8*3;i.drawRect(h.x-x,h.y-x,h.width+x*2,h.height+x*2)}i.drawRect(h.x,h.y,h.width,h.height),i.endFill()}}r.render(i,{clear:!1,renderTexture:this.collisionRenderTexture}),e.render.showMapGrid&&r.render(this.grid,{clear:!1,renderTexture:this.renderTexture}),this.collisionSprite.alpha=e.render.collisionAlpha}drawGrid(){this.grid.lineStyle(1,11119017,.5);for(let e=0;e<=Oa;e+=16)e%32!==0&&(this.grid.moveTo(e,0),this.grid.lineTo(e,Na));for(let e=0;e<=Na;e+=16)e%32!==0&&(this.grid.moveTo(0,e),this.grid.lineTo(Oa,e));this.grid.lineStyle(1,0,.5);for(let e=0;e<=Oa;e+=32)this.grid.moveTo(e,0),this.grid.lineTo(e,Na);for(let e=0;e<=Na;e+=32)this.grid.moveTo(0,e),this.grid.lineTo(Oa,e)}}const bi=new yhe;function whe(t,e,r){if(t.data.move.COND!==Pn.Auto)return;const{L:n,R:i,U:a,d:s}=t.data.move,o=-(n*16),l=-(a*16),u=e.width+i*16-o,c=e.height+s*16-l,h=new Us;h.lineStyle({color:16711680,width:2}),h.drawRect(o,l,u,c),h.position.set(e.x,e.y),r.addChild(h)}function _he(){const t=D.useRef(null);return D.useEffect(()=>{t.current&&(t.current.appendChild(bi.app.view),bi.app.resizeTo=t.current)},[]),A.jsx("div",{style:{minHeight:"100%",minWidth:"100%",maxWidth:"100%",maxHeight:"100%",height:"100%",width:"100%"},ref:t})}var L8={exports:{}},Ehe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",She=Ehe,Che=She;function B8(){}function F8(){}F8.resetWarningCache=B8;var The=function(){function t(n,i,a,s,o,l){if(l!==Che){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:F8,resetWarningCache:B8};return r.PropTypes=r,r};L8.exports=The();var Ahe=L8.exports;const ft=Rl(Ahe),Rhe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Cf(t,e){const r=Phe(t);if(typeof r.path!="string"){const{webkitRelativePath:n}=t;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:t.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Phe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const n=e.split(".").pop().toLowerCase(),i=Rhe.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var Fc=(t,e,r)=>new Promise((n,i)=>{var a=l=>{try{o(r.next(l))}catch(u){i(u)}},s=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,s);o((r=r.apply(t,e)).next())});const Ihe=[".DS_Store","Thumbs.db"];function khe(t){return Fc(this,null,function*(){return Nm(t)&&Mhe(t.dataTransfer)?Lhe(t.dataTransfer,t.type):Dhe(t)?Ohe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Nhe(t):[]})}function Mhe(t){return Nm(t)}function Dhe(t){return Nm(t)&&Nm(t.target)}function Nm(t){return typeof t=="object"&&t!==null}function Ohe(t){return CT(t.target.files).map(e=>Cf(e))}function Nhe(t){return Fc(this,null,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>Cf(r))})}function Lhe(t,e){return Fc(this,null,function*(){if(t.items){const r=CT(t.items).filter(i=>i.kind==="file");if(e!=="drop")return r;const n=yield Promise.all(r.map(Bhe));return ND(z8(n))}return ND(CT(t.files).map(r=>Cf(r)))})}function ND(t){return t.filter(e=>Ihe.indexOf(e.name)===-1)}function CT(t){if(t===null)return[];const e=[];for(let r=0;r<t.length;r++){const n=t[r];e.push(n)}return e}function Bhe(t){if(typeof t.webkitGetAsEntry!="function")return LD(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?j8(e):LD(t)}function z8(t){return t.reduce((e,r)=>[...e,...Array.isArray(r)?z8(r):[r]],[])}function LD(t){const e=t.getAsFile();if(!e)return Promise.reject(`${t} is not a File`);const r=Cf(e);return Promise.resolve(r)}function Fhe(t){return Fc(this,null,function*(){return t.isDirectory?j8(t):zhe(t)})}function j8(t){const e=t.createReader();return new Promise((r,n)=>{const i=[];function a(){e.readEntries(s=>Fc(this,null,function*(){if(s.length){const o=Promise.all(s.map(Fhe));i.push(o),a()}else try{const o=yield Promise.all(i);r(o)}catch(o){n(o)}}),s=>{n(s)})}a()})}function zhe(t){return Fc(this,null,function*(){return new Promise((e,r)=>{t.file(n=>{const i=Cf(n,t.fullPath);e(i)},n=>{r(n)})})})}function jhe(t,e){if(t&&e){const r=Array.isArray(e)?e:e.split(","),n=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return r.some(s=>{const o=s.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):i===o})}return!0}var Uhe=Object.defineProperty,$he=Object.defineProperties,Ghe=Object.getOwnPropertyDescriptors,BD=Object.getOwnPropertySymbols,Hhe=Object.prototype.hasOwnProperty,Vhe=Object.prototype.propertyIsEnumerable,FD=(t,e,r)=>e in t?Uhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Whe=(t,e)=>{for(var r in e||(e={}))Hhe.call(e,r)&&FD(t,r,e[r]);if(BD)for(var r of BD(e))Vhe.call(e,r)&&FD(t,r,e[r]);return t},qhe=(t,e)=>$he(t,Ghe(e));const Xhe="file-invalid-type",Yhe="file-too-large",Khe="file-too-small",Zhe="too-many-files",Qhe=t=>{t=Array.isArray(t)&&t.length===1?t[0]:t;const e=Array.isArray(t)?`one of ${t.join(", ")}`:t;return{code:Xhe,message:`File type must be ${e}`}},zD=t=>({code:Yhe,message:`File is larger than ${t} ${t===1?"byte":"bytes"}`}),jD=t=>({code:Khe,message:`File is smaller than ${t} ${t===1?"byte":"bytes"}`}),Jhe={code:Zhe,message:"Too many files"};function U8(t,e){const r=t.type==="application/x-moz-file"||jhe(t,e);return[r,r?null:Qhe(e)]}function $8(t,e,r){if(Yo(t.size))if(Yo(e)&&Yo(r)){if(t.size>r)return[!1,zD(r)];if(t.size<e)return[!1,jD(e)]}else{if(Yo(e)&&t.size<e)return[!1,jD(e)];if(Yo(r)&&t.size>r)return[!1,zD(r)]}return[!0,null]}function Yo(t){return t!=null}function ede({files:t,accept:e,minSize:r,maxSize:n,multiple:i,maxFiles:a,validator:s}){return!i&&t.length>1||i&&a>=1&&t.length>a?!1:t.every(o=>{const[l]=U8(o,e),[u]=$8(o,r,n),c=s?s(o):null;return l&&u&&!c})}function Lm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Bp(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!t.target&&!!t.target.files}function UD(t){t.preventDefault()}function tde(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function rde(t){return t.indexOf("Edge/")!==-1}function nde(t=window.navigator.userAgent){return tde(t)||rde(t)}function Zi(...t){return(e,...r)=>t.some(n=>(!Lm(e)&&n&&n(e,...r),Lm(e)))}function ide(){return"showOpenFilePicker"in window}function ade(t){return Yo(t)?[{description:"Files",accept:Object.entries(t).filter(([r,n])=>{let i=!0;return G8(r)||(console.warn(`Skipped "${r}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),i=!1),(!Array.isArray(n)||!n.every(H8))&&(console.warn(`Skipped "${r}" because an invalid file extension was provided.`),i=!1),i}).reduce((r,[n,i])=>qhe(Whe({},r),{[n]:i}),{})}]:t}function sde(t){if(Yo(t))return Object.entries(t).reduce((e,[r,n])=>[...e,r,...n],[]).filter(e=>G8(e)||H8(e)).join(",")}function ode(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function lde(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function G8(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function H8(t){return/^.*\.[\w]+$/.test(t)}var ude=Object.defineProperty,cde=Object.defineProperties,hde=Object.getOwnPropertyDescriptors,Bm=Object.getOwnPropertySymbols,V8=Object.prototype.hasOwnProperty,W8=Object.prototype.propertyIsEnumerable,$D=(t,e,r)=>e in t?ude(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,en=(t,e)=>{for(var r in e||(e={}))V8.call(e,r)&&$D(t,r,e[r]);if(Bm)for(var r of Bm(e))W8.call(e,r)&&$D(t,r,e[r]);return t},Rs=(t,e)=>cde(t,hde(e)),Fm=(t,e)=>{var r={};for(var n in t)V8.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bm)for(var n of Bm(t))e.indexOf(n)<0&&W8.call(t,n)&&(r[n]=t[n]);return r};const TR=D.forwardRef((t,e)=>{var r=t,{children:n}=r,i=Fm(r,["children"]);const a=X8(i),{open:s}=a,o=Fm(a,["open"]);return D.useImperativeHandle(e,()=>({open:s}),[s]),Ri.createElement(D.Fragment,null,n(Rs(en({},o),{open:s})))});TR.displayName="Dropzone";const q8={disabled:!1,getFilesFromEvent:khe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};TR.defaultProps=q8;TR.propTypes={children:ft.func,accept:ft.objectOf(ft.arrayOf(ft.string)),multiple:ft.bool,preventDropOnDocument:ft.bool,noClick:ft.bool,noKeyboard:ft.bool,noDrag:ft.bool,noDragEventsBubbling:ft.bool,minSize:ft.number,maxSize:ft.number,maxFiles:ft.number,disabled:ft.bool,getFilesFromEvent:ft.func,onFileDialogCancel:ft.func,onFileDialogOpen:ft.func,useFsAccessApi:ft.bool,autoFocus:ft.bool,onDragEnter:ft.func,onDragLeave:ft.func,onDragOver:ft.func,onDrop:ft.func,onDropAccepted:ft.func,onDropRejected:ft.func,onError:ft.func,validator:ft.func};const TT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function X8(t={}){const{accept:e,disabled:r,getFilesFromEvent:n,maxSize:i,minSize:a,multiple:s,maxFiles:o,onDragEnter:l,onDragLeave:u,onDragOver:c,onDrop:h,onDropAccepted:d,onDropRejected:f,onFileDialogCancel:p,onFileDialogOpen:g,useFsAccessApi:m,autoFocus:v,preventDropOnDocument:y,noClick:b,noKeyboard:x,noDrag:w,noDragEventsBubbling:E,onError:_,validator:T}=en(en({},q8),t),C=D.useMemo(()=>sde(e),[e]),P=D.useMemo(()=>ade(e),[e]),M=D.useMemo(()=>typeof g=="function"?g:GD,[g]),R=D.useMemo(()=>typeof p=="function"?p:GD,[p]),I=D.useRef(null),S=D.useRef(null),[B,L]=D.useReducer(dde,TT),{isFocused:N,isFileDialogActive:F}=B,z=D.useRef(typeof window<"u"&&window.isSecureContext&&m&&ide()),$=()=>{!z.current&&F&&setTimeout(()=>{if(S.current){const{files:re}=S.current;re.length||(L({type:"closeDialog"}),R())}},300)};D.useEffect(()=>(window.addEventListener("focus",$,!1),()=>{window.removeEventListener("focus",$,!1)}),[S,F,R,z]);const O=D.useRef([]),j=re=>{I.current&&I.current.contains(re.target)||(re.preventDefault(),O.current=[])};D.useEffect(()=>(y&&(document.addEventListener("dragover",UD,!1),document.addEventListener("drop",j,!1)),()=>{y&&(document.removeEventListener("dragover",UD),document.removeEventListener("drop",j))}),[I,y]),D.useEffect(()=>(!r&&v&&I.current&&I.current.focus(),()=>{}),[I,v,r]);const J=D.useCallback(re=>{_?_(re):console.error(re)},[_]),H=D.useCallback(re=>{re.preventDefault(),re.persist(),U(re),O.current=[...O.current,re.target],Bp(re)&&Promise.resolve(n(re)).then(Z=>{if(Lm(re)&&!E)return;const ee=Z.length,ue=ee>0&&ede({files:Z,accept:C,minSize:a,maxSize:i,multiple:s,maxFiles:o,validator:T}),fe=ee>0&&!ue;L({isDragAccept:ue,isDragReject:fe,isDragActive:!0,type:"setDraggedFiles"}),l&&l(re)}).catch(Z=>J(Z))},[n,l,J,E,C,a,i,s,o,T]),V=D.useCallback(re=>{re.preventDefault(),re.persist(),U(re);const Z=Bp(re);if(Z&&re.dataTransfer)try{re.dataTransfer.dropEffect="copy"}catch{}return Z&&c&&c(re),!1},[c,E]),X=D.useCallback(re=>{re.preventDefault(),re.persist(),U(re);const Z=O.current.filter(ue=>I.current&&I.current.contains(ue)),ee=Z.indexOf(re.target);ee!==-1&&Z.splice(ee,1),O.current=Z,!(Z.length>0)&&(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Bp(re)&&u&&u(re))},[I,u,E]),te=D.useCallback((re,Z)=>{const ee=[],ue=[];re.forEach(fe=>{const[ce,W]=U8(fe,C),[ie,de]=$8(fe,a,i),le=T?T(fe):null;if(ce&&ie&&!le)ee.push(fe);else{let he=[W,de];le&&(he=he.concat(le)),ue.push({file:fe,errors:he.filter(Ee=>Ee)})}}),(!s&&ee.length>1||s&&o>=1&&ee.length>o)&&(ee.forEach(fe=>{ue.push({file:fe,errors:[Jhe]})}),ee.splice(0)),L({acceptedFiles:ee,fileRejections:ue,type:"setFiles"}),h&&h(ee,ue,Z),ue.length>0&&f&&f(ue,Z),ee.length>0&&d&&d(ee,Z)},[L,s,C,a,i,o,h,d,f,T]),Q=D.useCallback(re=>{re.preventDefault(),re.persist(),U(re),O.current=[],Bp(re)&&Promise.resolve(n(re)).then(Z=>{Lm(re)&&!E||te(Z,re)}).catch(Z=>J(Z)),L({type:"reset"})},[n,te,J,E]),Y=D.useCallback(()=>{if(z.current){L({type:"openDialog"}),M();const re={multiple:s,types:P};window.showOpenFilePicker(re).then(Z=>n(Z)).then(Z=>{te(Z,null),L({type:"closeDialog"})}).catch(Z=>{ode(Z)?(R(Z),L({type:"closeDialog"})):lde(Z)?(z.current=!1,S.current?(S.current.value=null,S.current.click()):J(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):J(Z)});return}S.current&&(L({type:"openDialog"}),M(),S.current.value=null,S.current.click())},[L,M,R,m,te,J,P,s]),ae=D.useCallback(re=>{!I.current||!I.current.isEqualNode(re.target)||(re.key===" "||re.key==="Enter"||re.keyCode===32||re.keyCode===13)&&(re.preventDefault(),Y())},[I,Y]),se=D.useCallback(()=>{L({type:"focus"})},[]),ve=D.useCallback(()=>{L({type:"blur"})},[]),ge=D.useCallback(()=>{b||(nde()?setTimeout(Y,0):Y())},[b,Y]),k=re=>r?null:re,K=re=>x?null:k(re),ne=re=>w?null:k(re),U=re=>{E&&re.stopPropagation()},G=D.useMemo(()=>(re={})=>{var Z=re,{refKey:ee="ref",role:ue,onKeyDown:fe,onFocus:ce,onBlur:W,onClick:ie,onDragEnter:de,onDragOver:le,onDragLeave:he,onDrop:Ee}=Z,pe=Fm(Z,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return en(en({onKeyDown:K(Zi(fe,ae)),onFocus:K(Zi(ce,se)),onBlur:K(Zi(W,ve)),onClick:k(Zi(ie,ge)),onDragEnter:ne(Zi(de,H)),onDragOver:ne(Zi(le,V)),onDragLeave:ne(Zi(he,X)),onDrop:ne(Zi(Ee,Q)),role:typeof ue=="string"&&ue!==""?ue:"presentation",[ee]:I},!r&&!x?{tabIndex:0}:{}),pe)},[I,ae,se,ve,ge,H,V,X,Q,x,w,r]),q=D.useCallback(re=>{re.stopPropagation()},[]),oe=D.useMemo(()=>(re={})=>{var Z=re,{refKey:ee="ref",onChange:ue,onClick:fe}=Z,ce=Fm(Z,["refKey","onChange","onClick"]);const W={accept:C,multiple:s,type:"file",style:{display:"none"},onChange:k(Zi(ue,Q)),onClick:k(Zi(fe,q)),tabIndex:-1,[ee]:S};return en(en({},W),ce)},[S,e,s,Q,r]);return Rs(en({},B),{isFocused:N&&!r,getRootProps:G,getInputProps:oe,rootRef:I,inputRef:S,open:k(Y)})}function dde(t,e){switch(e.type){case"focus":return Rs(en({},t),{isFocused:!0});case"blur":return Rs(en({},t),{isFocused:!1});case"openDialog":return Rs(en({},TT),{isFileDialogActive:!0});case"closeDialog":return Rs(en({},t),{isFileDialogActive:!1});case"setDraggedFiles":return Rs(en({},t),{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Rs(en({},t),{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return en({},TT);default:return t}}function GD(){}const[fde,pde]=Sn("Dropzone component was not found in tree");function AR(t){const e=r=>{const{children:n,...i}=be(`Dropzone${NI(t)}`,{},r),a=pde(),s=ls(n)?n:A.jsx("span",{children:n});return a[t]?D.cloneElement(s,i):null};return e.displayName=`@mantine/dropzone/${NI(t)}`,e}const vde=AR("accept"),mde=AR("reject"),gde=AR("idle");var $d={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const yde={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},bde=(t,{radius:e,variant:r,acceptColor:n,rejectColor:i})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:r}),s=t.variantColorResolver({color:i||"red",theme:t,variant:r});return{root:{"--dropzone-radius":lr(e),"--dropzone-accept-color":a.color,"--dropzone-accept-bg":a.background,"--dropzone-reject-color":s.color,"--dropzone-reject-bg":s.background}}},Eo=Re((t,e)=>{const r=be("Dropzone",yde,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,radius:u,disabled:c,loading:h,multiple:d,maxSize:f,accept:p,children:g,onDropAny:m,onDrop:v,onReject:y,openRef:b,name:x,maxFiles:w,autoFocus:E,activateOnClick:_,activateOnDrag:T,dragEventsBubbling:C,activateOnKeyboard:P,onDragEnter:M,onDragLeave:R,onDragOver:I,onFileDialogCancel:S,onFileDialogOpen:B,preventDropOnDocument:L,useFsAccessApi:N,getFilesFromEvent:F,validator:z,rejectColor:$,acceptColor:O,enablePointerEvents:j,loaderProps:J,inputProps:H,mod:V,...X}=r,te=Xe({name:"Dropzone",classes:$d,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,vars:l,varsResolver:bde}),{getRootProps:Q,getInputProps:Y,isDragAccept:ae,isDragReject:se,open:ve}=X8({onDrop:m,onDropAccepted:v,onDropRejected:y,disabled:c||h,accept:Array.isArray(p)?p.reduce((k,K)=>({...k,[K]:[]}),{}):p,multiple:d,maxSize:f,maxFiles:w,autoFocus:E,noClick:!_,noDrag:!T,noDragEventsBubbling:!C,noKeyboard:!P,onDragEnter:M,onDragLeave:R,onDragOver:I,onFileDialogCancel:S,onFileDialogOpen:B,preventDropOnDocument:L,useFsAccessApi:N,validator:z,...F?{getFilesFromEvent:F}:null});of(b,ve);const ge=!ae&&!se;return A.jsx(fde,{value:{accept:ae,reject:se,idle:ge},children:A.jsxs(xe,{...Q(),...te("root",{focusable:!0}),...X,mod:[{accept:ae,reject:se,idle:ge,disabled:c,loading:h,"activate-on-click":_},V],children:[A.jsx(H2,{visible:h,overlayProps:{radius:u},unstyled:o,loaderProps:J}),A.jsx("input",{...Y(H),name:x}),A.jsx("div",{...te("inner"),ref:e,"data-enable-pointer-events":j||void 0,children:g})]})})});Eo.classes=$d;Eo.displayName="@mantine/dropzone/Dropzone";Eo.Accept=vde;Eo.Idle=gde;Eo.Reject=mde;const xde={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:zn("max"),withinPortal:!0},RR=Re((t,e)=>{const r=be("DropzoneFullScreen",xde,t),{classNames:n,className:i,style:a,styles:s,unstyled:o,vars:l,active:u,onDrop:c,onReject:h,zIndex:d,withinPortal:f,portalProps:p,...g}=r,m=Xe({name:"DropzoneFullScreen",classes:$d,props:r,className:i,style:a,classNames:n,styles:s,unstyled:o,rootSelector:"fullScreen"}),{resolvedClassNames:v,resolvedStyles:y}=WA({classNames:n,styles:s,props:r}),[b,x]=D.useState(0),[w,{open:E,close:_}]=Zs(!1),T=P=>{var M;(M=P.dataTransfer)!=null&&M.types.includes("Files")&&(x(R=>R+1),E())},C=()=>{x(P=>P-1)};return D.useEffect(()=>{b===0&&_()},[b]),D.useEffect(()=>{if(u)return document.addEventListener("dragenter",T,!1),document.addEventListener("dragleave",C,!1),()=>{document.removeEventListener("dragenter",T,!1),document.removeEventListener("dragleave",C,!1)}},[u]),A.jsx(kc,{...p,withinPortal:f,children:A.jsx(xe,{...m("fullScreen",{style:{opacity:w?1:0,pointerEvents:w?"all":"none",zIndex:d}}),ref:e,children:A.jsx(Eo,{...g,classNames:v,styles:y,unstyled:o,className:$d.dropzone,onDrop:P=>{c==null||c(P),_(),x(0)},onReject:P=>{h==null||h(P),_(),x(0)}})})})});RR.classes=$d;RR.displayName="@mantine/dropzone/DropzoneFullScreen";Eo.FullScreen=RR;const HD=Eo;function wde({onImageUpload:t}){const e=n=>{if(n.length>0){const i=n[0];t(i)}},r=n=>{if(!n.clipboardData)return;const i=n.clipboardData.items;for(const a of i)if(a.type.startsWith("image/")){const s=a.getAsFile();s&&t(s)}};return D.useEffect(()=>(window.addEventListener("paste",r),()=>window.removeEventListener("paste",r)),[]),A.jsxs("div",{children:[A.jsx(HD,{onDrop:e,accept:["image/png"],children:A.jsxs(at,{justify:"center",gap:"xl",style:{pointerEvents:"none"},children:[A.jsx(HD.Idle,{children:A.jsx(ate,{style:{width:me(52),height:me(52),color:"var(--mantine-color-dimmed)"},stroke:1.5})}),A.jsx("div",{children:A.jsx(bo,{size:"xl",inline:!0,children:"Drag image here or click to select a PNG file"})})]})}),A.jsx(at,{mt:"md",children:A.jsx("p",{children:"Or paste an image directly from your clipboard"})})]})}function _de(){const{project:t,updateProject:e,rerenderProject:r}=Gi(),[n,{open:i,close:a}]=Zs(!1),[s,o]=D.useState(),l=t.images.find(b=>b.randomId===s),u=t.maps.flatMap(b=>{var x;return((x=b.data)==null?void 0:x.objects)??[]}).find(b=>b.random_id===t.state.selectedObject);function c(b){e({...t,images:t.images.filter(x=>x.filename!==b.filename)},!0)}async function h(b){const x=await HU(b);if(s){e(Le(t,E=>{E.images=E.images.map(_=>_.randomId!==s?_:{..._,data:x,originalData:b})}),!0,!0),p();return}const w={data:x,path:"map.visuals/",filename:b.name,originalData:b,randomId:crypto.randomUUID()};e(Le(t,E=>{E.images.push(w)}),!0,!0),p()}function d(b){u&&e(Le(t,x=>{const w=x.maps.flatMap(E=>{var _;return((_=E.data)==null?void 0:_.objects)??[]}).find(E=>E.random_id===u.random_id);w&&(w.member=b.filename)}))}function f(b){o(b),i()}function p(){r(),a()}async function g(b){try{await navigator.clipboard.write([new ClipboardItem({[b.data.type]:b.data})])}catch(x){alert(x)}}const m=[...t.images].sort((b,x)=>b.filename.localeCompare(x.filename));function v(b){const x=b.target.value;e(Le(t,w=>{const E=w.images.find(_=>_.randomId===s);E&&(E.filename=x)}),!1,!1)}function y(b){const x=b.target.value;e(Le(t,w=>{const E=w.images.find(_=>_.randomId===s);E&&(E.path=x)}),!1,!1)}return A.jsxs(A.Fragment,{children:[A.jsx(Wr,{opened:n,onClose:p,title:(s?"Update":"Add")+" Image",children:A.jsxs(zr,{children:[l?A.jsxs("div",{children:[A.jsx(zt,{onChange:v,value:l.filename,label:"Name"}),A.jsx(zt,{onChange:y,value:l.path,label:"Path"})]}):null,A.jsx(yr,{withBorder:!0,children:A.jsx(wde,{onImageUpload:h})})]})}),A.jsx(ei,{onClick:()=>f(),children:"Add New Image"}),A.jsx(X2,{cols:6,spacing:"xs",children:m.map(b=>A.jsx("div",{children:A.jsxs(er,{children:[A.jsx(er.Target,{children:A.jsxs(yr,{withBorder:!0,padding:"sm",children:[A.jsx("div",{style:{height:"50px",width:"50px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:A.jsx(Ng,{src:URL.createObjectURL(b.data),alt:b.filename,style:{objectFit:"cover",width:"100%",height:"100%"}})}),A.jsx("div",{children:b.filename})]})}),A.jsx(er.Dropdown,{children:A.jsxs(at,{gap:"xs",children:[A.jsx(Ut,{position:"bottom",label:"Update Image",children:A.jsx(pt,{color:"yellow",onClick:()=>f(b.randomId),variant:"filled",children:A.jsx(Zee,{})})}),A.jsx(Ut,{position:"bottom",label:"Copy Image to Clipboard",children:A.jsx(pt,{color:"green",onClick:()=>g(b),variant:"filled",children:A.jsx(Vee,{})})}),u?A.jsx(Ut,{label:"Use As Selected Object Image",children:A.jsx(pt,{onClick:()=>d(b),variant:"filled",children:A.jsx(Qee,{})})}):null,A.jsx(Ut,{position:"bottom",label:"Delete Image",children:A.jsx(pt,{color:"red",onClick:()=>c(b),variant:"filled",children:A.jsx(um,{})})})]})})]})},b.randomId))})]})}const VD="viewed-notice";function Ede({opened:t,open:e,close:r}){const n=localStorage.getItem(VD);D.useEffect(()=>{n||e()},[]);function i(){n||dv.open({title:"First Time Tip",children:A.jsx(A.Fragment,{children:A.jsx("div",{children:`You don't have to start a project from scratch. Click on "Load Project" and you can choose from one of the original episodes!`})})}),localStorage.setItem(VD,"true"),r()}return A.jsx(A.Fragment,{children:A.jsx(Wr,{withCloseButton:!1,closeOnClickOutside:!1,closeOnEscape:!1,opened:t,onClose:i,children:A.jsxs(zr,{children:[A.jsx("div",{children:"Thank you for trying out Map-o-Matic v2!"}),A.jsxs("div",{children:["This map editor is not yet at a point where I would consider it ",A.jsx("i",{children:"fully"})," finished."]}),A.jsxs("div",{children:["Please feel free to ",A.jsx(Id,{href:"https://github.com/mattbruv/ccsr/issues/new",target:"_blank",children:"open an issue on GitHub"})," to request:",A.jsxs(Bg,{children:[A.jsx($u,{children:"New or Missing Features"}),A.jsx($u,{children:"UI/UX Improvements"}),A.jsx($u,{children:"Bug Reports"})]})]}),A.jsxs("div",{children:["If you found this tool to be useful or interesting, or you enjoy my work and want to say thanks, feel free to ",A.jsxs(Id,{href:"https://ko-fi.com/mp3259",target:"_blank",children:["buy me a coffee ",A.jsx(Xee,{size:16})]})]}),A.jsx(ei,{onClick:i,color:"green",children:A.jsx("div",{children:"I Understand"})})]})})})}function or(t){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(t)}function PR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IR(t,e,r){return e&&Sde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y8(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wi(t,e){return Cde(t)||Tde(t,e)||K8(t,e)||Ade()}function Cde(t){if(Array.isArray(t))return t}function Tde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function K8(t,e){if(t){if(typeof t=="string")return WD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WD(t,e)}}function WD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=K8(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw o}}}}var tr=typeof window>"u"?null:window,qD=tr?tr.navigator:null;tr&&tr.document;var Rde=or(""),Q8=or({}),Pde=or(function(){}),Ide=typeof HTMLElement>"u"?"undefined":or(HTMLElement),Tf=function(e){return e&&e.instanceString&&Nt(e.instanceString)?e.instanceString():null},ze=function(e){return e!=null&&or(e)==Rde},Nt=function(e){return e!=null&&or(e)===Pde},mt=function(e){return!Mn(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},tt=function(e){return e!=null&&or(e)===Q8&&!mt(e)&&e.constructor===Object},kde=function(e){return e!=null&&or(e)===Q8},Ce=function(e){return e!=null&&or(e)===or(1)&&!isNaN(e)},Mde=function(e){return Ce(e)&&Math.floor(e)===e},zm=function(e){if(Ide!=="undefined")return e!=null&&e instanceof HTMLElement},Mn=function(e){return Af(e)||J8(e)},Af=function(e){return Tf(e)==="collection"&&e._private.single},J8=function(e){return Tf(e)==="collection"&&!e._private.single},kR=function(e){return Tf(e)==="core"},eG=function(e){return Tf(e)==="stylesheet"},Dde=function(e){return Tf(e)==="event"},lo=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Ode=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Nde=function(e){return tt(e)&&Ce(e.x1)&&Ce(e.x2)&&Ce(e.y1)&&Ce(e.y2)},Lde=function(e){return kde(e)&&Nt(e.then)},Bde=function(){return qD&&qD.userAgent.match(/msie|trident|edge/i)},Gd=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var n=function i(){var a=this,s=arguments,o,l=r.apply(a,s),u=i.cache;return(o=u[l])||(o=u[l]=e.apply(a,s)),o};return n.cache={},n},MR=Gd(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),fy=Gd(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),tG=Gd(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),XD=function(e){return lo(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},sr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Fde="rgb[a]?\\(("+sr+"[%]?)\\s*,\\s*("+sr+"[%]?)\\s*,\\s*("+sr+"[%]?)(?:\\s*,\\s*("+sr+"))?\\)",zde="rgb[a]?\\((?:"+sr+"[%]?)\\s*,\\s*(?:"+sr+"[%]?)\\s*,\\s*(?:"+sr+"[%]?)(?:\\s*,\\s*(?:"+sr+"))?\\)",jde="hsl[a]?\\(("+sr+")\\s*,\\s*("+sr+"[%])\\s*,\\s*("+sr+"[%])(?:\\s*,\\s*("+sr+"))?\\)",Ude="hsl[a]?\\((?:"+sr+")\\s*,\\s*(?:"+sr+"[%])\\s*,\\s*(?:"+sr+"[%])(?:\\s*,\\s*(?:"+sr+"))?\\)",$de="\\#[0-9a-fA-F]{3}",Gde="\\#[0-9a-fA-F]{6}",rG=function(e,r){return e<r?-1:e>r?1:0},Hde=function(e,r){return-1*rG(e,r)},Ge=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];t[s]=n[s]}}return t},Vde=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),a=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),a=parseInt(e[5]+e[6],s)),[n,i,a]}},Wde=function(e){var r,n,i,a,s,o,l,u;function c(p,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?p+(g-p)*6*m:m<1/2?g:m<2/3?p+(g-p)*(2/3-m)*6:p}var h=new RegExp("^"+jde+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,a=parseFloat(h[3]),a<0||a>100)||(a=a/100,s=h[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var d=a<.5?a*(1+i):a+i-a*i,f=2*a-d;o=Math.round(255*c(f,d,n+1/3)),l=Math.round(255*c(f,d,n)),u=Math.round(255*c(f,d,n-1/3))}r=[o,l,u,s]}return r},qde=function(e){var r,n=new RegExp("^"+Fde+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var s=n[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},Xde=function(e){return Kde[e.toLowerCase()]},Yde=function(e){return(mt(e)?e:null)||Xde(e)||Vde(e)||qde(e)||Wde(e)},Kde={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},nG=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(tt(s))throw Error("Tried to set map with object key");a<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},iG=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(tt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r};function Zde(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wl=Zde,Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qde(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Jde=typeof Fh=="object"&&Fh&&Fh.Object===Object&&Fh,efe=Jde,tfe=typeof self=="object"&&self&&self.Object===Object&&self,rfe=efe||tfe||Function("return this")(),py=rfe,nfe=function(){return py.Date.now()},D1=nfe,ife=/\s/;function afe(t){for(var e=t.length;e--&&ife.test(t.charAt(e)););return e}var sfe=afe,ofe=/^\s+/;function lfe(t){return t&&t.slice(0,sfe(t)+1).replace(ofe,"")}var ufe=lfe,cfe=py.Symbol,bc=cfe,aG=Object.prototype,hfe=aG.hasOwnProperty,dfe=aG.toString,_h=bc?bc.toStringTag:void 0;function ffe(t){var e=hfe.call(t,_h),r=t[_h];try{t[_h]=void 0;var n=!0}catch{}var i=dfe.call(t);return n&&(e?t[_h]=r:delete t[_h]),i}var pfe=ffe,vfe=Object.prototype,mfe=vfe.toString;function gfe(t){return mfe.call(t)}var yfe=gfe,bfe="[object Null]",xfe="[object Undefined]",YD=bc?bc.toStringTag:void 0;function wfe(t){return t==null?t===void 0?xfe:bfe:YD&&YD in Object(t)?pfe(t):yfe(t)}var sG=wfe;function _fe(t){return t!=null&&typeof t=="object"}var Efe=_fe,Sfe="[object Symbol]";function Cfe(t){return typeof t=="symbol"||Efe(t)&&sG(t)==Sfe}var Rf=Cfe,KD=NaN,Tfe=/^[-+]0x[0-9a-f]+$/i,Afe=/^0b[01]+$/i,Rfe=/^0o[0-7]+$/i,Pfe=parseInt;function Ife(t){if(typeof t=="number")return t;if(Rf(t))return KD;if(wl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ufe(t);var r=Afe.test(t);return r||Rfe.test(t)?Pfe(t.slice(2),r?2:8):Tfe.test(t)?KD:+t}var ZD=Ife,kfe="Expected a function",Mfe=Math.max,Dfe=Math.min;function Ofe(t,e,r){var n,i,a,s,o,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(kfe);e=ZD(e)||0,wl(r)&&(c=!!r.leading,h="maxWait"in r,a=h?Mfe(ZD(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function f(E){var _=n,T=i;return n=i=void 0,u=E,s=t.apply(T,_),s}function p(E){return u=E,o=setTimeout(v,e),c?f(E):s}function g(E){var _=E-l,T=E-u,C=e-_;return h?Dfe(C,a-T):C}function m(E){var _=E-l,T=E-u;return l===void 0||_>=e||_<0||h&&T>=a}function v(){var E=D1();if(m(E))return y(E);o=setTimeout(v,g(E))}function y(E){return o=void 0,d&&n?f(E):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function x(){return o===void 0?s:y(D1())}function w(){var E=D1(),_=m(E);if(n=arguments,i=this,l=E,_){if(o===void 0)return p(l);if(h)return clearTimeout(o),o=setTimeout(v,e),f(l)}return o===void 0&&(o=setTimeout(v,e)),s}return w.cancel=b,w.flush=x,w}var vy=Ofe,O1=tr?tr.performance:null,oG=O1&&O1.now?function(){return O1.now()}:function(){return Date.now()},Nfe=function(){if(tr){if(tr.requestAnimationFrame)return function(t){tr.requestAnimationFrame(t)};if(tr.mozRequestAnimationFrame)return function(t){tr.mozRequestAnimationFrame(t)};if(tr.webkitRequestAnimationFrame)return function(t){tr.webkitRequestAnimationFrame(t)};if(tr.msRequestAnimationFrame)return function(t){tr.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(oG())},1e3/60)}}(),jm=function(e){return Nfe(e)},is=oG,Iu=9261,lG=65599,zh=5381,uG=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Iu,n=r,i;i=e.next(),!i.done;)n=n*lG+i.value|0;return n},Hd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Iu;return r*lG+e|0},Vd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zh;return(r<<5)+r+e|0},Lfe=function(e,r){return e*2097152+r},xs=function(e){return e[0]*2097152+e[1]},Fp=function(e,r){return[Hd(e[0],r[0]),Vd(e[1],r[1])]},Bfe=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return uG(s,r)},_l=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return uG(s,r)},cG=function(){return Ffe(arguments)},Ffe=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=_l(i):r=_l(i,r)}return r},QD=!0,zfe=console.warn!=null,jfe=console.trace!=null,DR=Number.MAX_SAFE_INTEGER||9007199254740991,hG=function(){return!0},Um=function(){return!1},JD=function(){return 0},OR=function(){},$t=function(e){throw new Error(e)},dG=function(e){if(e!==void 0)QD=!!e;else return QD},ot=function(e){dG()&&(zfe?console.warn(e):(console.log(e),jfe&&console.trace()))},Ufe=function(e){return Ge({},e)},pa=function(e){return e==null?e:mt(e)?e.slice():tt(e)?Ufe(e):e},$fe=function(e){return e.slice()},fG=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Gfe={},pG=function(){return Gfe},Mr=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var s=r[a],o=n==null?void 0:n[s];i[s]=o===void 0?e[s]:o}return i}},uo=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},NR=function(e){e.splice(0,e.length)},Hfe=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},Ai=function(e,r,n){return n&&(r=tG(n,r)),e[r]},Os=function(e,r,n,i){n&&(r=tG(n,r)),e[r]=i},Vfe=function(){function t(){PR(this,t),this._obj={}}return IR(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),va=typeof Map<"u"?Map:Vfe,Wfe="undefined",qfe=function(){function t(e){if(PR(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return IR(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),zc=(typeof Set>"u"?"undefined":or(Set))!==Wfe?Set:qfe,my=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!kR(e)){$t("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){$t("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new zc,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];mt(r.classes)?u=r.classes:ze(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,h=u.length;c<h;c++){var d=u[c];!d||d===""||a.classes.add(d)}this.createEmitter();var f=r.style||r.css;f&&(ot("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(f)),(n===void 0||n)&&this.restore()},eO=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var s;tt(n)&&!Mn(n)&&(s=n,n=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!Nt(i)?i:a,i=Nt(i)?i:function(){};for(var o=this._private.cy,l=n=ze(n)?this.filter(n):n,u=[],c=[],h={},d={},f={},p=0,g,m=this.byGroup(),v=m.nodes,y=m.edges,b=0;b<l.length;b++){var x=l[b],w=x.id();x.isNode()&&(u.unshift(x),e.bfs&&(f[w]=!0,c.push(x)),d[w]=0)}for(var E=function(){var I=e.bfs?u.shift():u.pop(),S=I.id();if(e.dfs){if(f[S])return"continue";f[S]=!0,c.push(I)}var B=d[S],L=h[S],N=L!=null?L.source():null,F=L!=null?L.target():null,z=L==null?void 0:I.same(N)?F[0]:N[0],$=void 0;if($=i(I,L,z,p++,B),$===!0)return g=I,"break";if($===!1)return"break";for(var O=I.connectedEdges().filter(function(X){return(!a||X.source().same(I))&&y.has(X)}),j=0;j<O.length;j++){var J=O[j],H=J.connectedNodes().filter(function(X){return!X.same(I)&&v.has(X)}),V=H.id();H.length!==0&&!f[V]&&(H=H[0],u.push(H),e.bfs&&(f[V]=!0,c.push(H)),h[V]=J,d[V]=d[S]+1)}};u.length!==0;){var _=E();if(_!=="continue"&&_==="break")break}for(var T=o.collection(),C=0;C<c.length;C++){var P=c[C],M=h[P.id()];M!=null&&T.push(M),T.push(P)}return{path:o.collection(T),found:o.collection(g)}}},Wd={breadthFirstSearch:eO({bfs:!0}),depthFirstSearch:eO({dfs:!0})};Wd.bfs=Wd.breadthFirstSearch;Wd.dfs=Wd.depthFirstSearch;var Xfe=Qde(function(t,e){(function(){var r,n,i,a,s,o,l,u,c,h,d,f,p,g,m;i=Math.floor,h=Math.min,n=function(v,y){return v<y?-1:v>y?1:0},c=function(v,y,b,x,w){var E;if(b==null&&(b=0),w==null&&(w=n),b<0)throw new Error("lo must be non-negative");for(x==null&&(x=v.length);b<x;)E=i((b+x)/2),w(y,v[E])<0?x=E:b=E+1;return[].splice.apply(v,[b,b-b].concat(y)),y},o=function(v,y,b){return b==null&&(b=n),v.push(y),g(v,0,v.length-1,b)},s=function(v,y){var b,x;return y==null&&(y=n),b=v.pop(),v.length?(x=v[0],v[0]=b,m(v,0,y)):x=b,x},u=function(v,y,b){var x;return b==null&&(b=n),x=v[0],v[0]=y,m(v,0,b),x},l=function(v,y,b){var x;return b==null&&(b=n),v.length&&b(v[0],y)<0&&(x=[v[0],y],y=x[0],v[0]=x[1],m(v,0,b)),y},a=function(v,y){var b,x,w,E,_,T;for(y==null&&(y=n),E=(function(){T=[];for(var C=0,P=i(v.length/2);0<=P?C<P:C>P;0<=P?C++:C--)T.push(C);return T}).apply(this).reverse(),_=[],x=0,w=E.length;x<w;x++)b=E[x],_.push(m(v,b,y));return _},p=function(v,y,b){var x;if(b==null&&(b=n),x=v.indexOf(y),x!==-1)return g(v,0,x,b),m(v,x,b)},d=function(v,y,b){var x,w,E,_,T;if(b==null&&(b=n),w=v.slice(0,y),!w.length)return w;for(a(w,b),T=v.slice(y),E=0,_=T.length;E<_;E++)x=T[E],l(w,x,b);return w.sort(b).reverse()},f=function(v,y,b){var x,w,E,_,T,C,P,M,R;if(b==null&&(b=n),y*10<=v.length){if(E=v.slice(0,y).sort(b),!E.length)return E;for(w=E[E.length-1],P=v.slice(y),_=0,C=P.length;_<C;_++)x=P[_],b(x,w)<0&&(c(E,x,0,null,b),E.pop(),w=E[E.length-1]);return E}for(a(v,b),R=[],T=0,M=h(y,v.length);0<=M?T<M:T>M;0<=M?++T:--T)R.push(s(v,b));return R},g=function(v,y,b,x){var w,E,_;for(x==null&&(x=n),w=v[b];b>y;){if(_=b-1>>1,E=v[_],x(w,E)<0){v[b]=E,b=_;continue}break}return v[b]=w},m=function(v,y,b){var x,w,E,_,T;for(b==null&&(b=n),w=v.length,T=y,E=v[y],x=2*y+1;x<w;)_=x+1,_<w&&!(b(v[x],v[_])<0)&&(x=_),v[y]=v[x],y=x,x=2*y+1;return v[y]=E,g(v,T,y,b)},r=function(){v.push=o,v.pop=s,v.replace=u,v.pushpop=l,v.heapify=a,v.updateItem=p,v.nlargest=d,v.nsmallest=f;function v(y){this.cmp=y??n,this.nodes=[]}return v.prototype.push=function(y){return o(this.nodes,y,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},v.prototype.replace=function(y){return u(this.nodes,y,this.cmp)},v.prototype.pushpop=function(y){return l(this.nodes,y,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(y){return p(this.nodes,y,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var y;return y=new v,y.nodes=this.nodes.slice(0),y},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,y){return t.exports=y()}(this,function(){return r})}).call(Fh)}),Pf=Xfe,Yfe=Mr({root:null,weight:function(e){return 1},directed:!1}),Kfe={dijkstra:function(e){if(!tt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Yfe(e),i=n.root,a=n.weight,s=n.directed,o=this,l=a,u=ze(i)?this.filter(i)[0]:i[0],c={},h={},d={},f=this.byGroup(),p=f.nodes,g=f.edges;g.unmergeBy(function(B){return B.isLoop()});for(var m=function(L){return c[L.id()]},v=function(L,N){c[L.id()]=N,y.updateItem(L)},y=new Pf(function(B,L){return m(B)-m(L)}),b=0;b<p.length;b++){var x=p[b];c[x.id()]=x.same(u)?0:1/0,y.push(x)}for(var w=function(L,N){for(var F=(s?L.edgesTo(N):L.edgesWith(N)).intersect(g),z=1/0,$,O=0;O<F.length;O++){var j=F[O],J=l(j);(J<z||!$)&&(z=J,$=j)}return{edge:$,dist:z}};y.size()>0;){var E=y.pop(),_=m(E),T=E.id();if(d[T]=_,_!==1/0)for(var C=E.neighborhood().intersect(p),P=0;P<C.length;P++){var M=C[P],R=M.id(),I=w(E,M),S=_+I.dist;S<m(M)&&(v(M,S),h[R]={node:E,edge:I.edge})}}return{distanceTo:function(L){var N=ze(L)?p.filter(L)[0]:L[0];return d[N.id()]},pathTo:function(L){var N=ze(L)?p.filter(L)[0]:L[0],F=[],z=N,$=z.id();if(N.length>0)for(F.unshift(N);h[$];){var O=h[$];F.unshift(O.edge),F.unshift(O.node),z=O.node,$=z.id()}return o.spawn(F)}}}},Zfe={kruskal:function(e){e=e||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,s=new Array(a),o=n,l=function(x){for(var w=0;w<s.length;w++){var E=s[w];if(E.has(x))return w}},u=0;u<a;u++)s[u]=this.spawn(n[u]);for(var c=i.sort(function(b,x){return e(b)-e(x)}),h=0;h<c.length;h++){var d=c[h],f=d.source()[0],p=d.target()[0],g=l(f),m=l(p),v=s[g],y=s[m];g!==m&&(o.merge(d),v.merge(y),s.splice(m,1))}return o}},Qfe=Mr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Jfe={aStar:function(e){var r=this.cy(),n=Qfe(e),i=n.root,a=n.goal,s=n.heuristic,o=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),c=a.id(),h={},d={},f={},p=new Pf(function($,O){return d[$.id()]-d[O.id()]}),g=new zc,m={},v={},y=function(O,j){p.push(O),g.add(j)},b,x,w=function(){b=p.pop(),x=b.id(),g.delete(x)},E=function(O){return g.has(O)};y(i,u),h[u]=0,d[u]=s(i);for(var _=0;p.size()>0;){if(w(),_++,x===c){for(var T=[],C=a,P=c,M=v[P];T.unshift(C),M!=null&&T.unshift(M),C=m[P],C!=null;)P=C.id(),M=v[P];return{found:!0,distance:h[x],path:this.spawn(T),steps:_}}f[x]=!0;for(var R=b._private.edges,I=0;I<R.length;I++){var S=R[I];if(this.hasElementWithId(S.id())&&!(o&&S.data("source")!==x)){var B=S.source(),L=S.target(),N=B.id()!==x?B:L,F=N.id();if(this.hasElementWithId(F)&&!f[F]){var z=h[x]+l(S);if(!E(F)){h[F]=z,d[F]=z+s(N),y(N,F),m[F]=b,v[F]=S;continue}z<h[F]&&(h[F]=z,d[F]=z+s(N),m[F]=b,v[F]=S)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},epe=Mr({weight:function(e){return 1},directed:!1}),tpe={floydWarshall:function(e){for(var r=this.cy(),n=epe(e),i=n.weight,a=n.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,c=l.length,h=c*c,d=function(J){return l.indexOf(J)},f=function(J){return l[J]},p=new Array(h),g=0;g<h;g++){var m=g%c,v=(g-m)/c;v===m?p[g]=0:p[g]=1/0}for(var y=new Array(h),b=new Array(h),x=0;x<u.length;x++){var w=u[x],E=w.source()[0],_=w.target()[0];if(E!==_){var T=d(E),C=d(_),P=T*c+C,M=s(w);if(p[P]>M&&(p[P]=M,y[P]=C,b[P]=w),!a){var R=C*c+T;!a&&p[R]>M&&(p[R]=M,y[R]=T,b[R]=w)}}}for(var I=0;I<c;I++)for(var S=0;S<c;S++)for(var B=S*c+I,L=0;L<c;L++){var N=S*c+L,F=I*c+L;p[B]+p[F]<p[N]&&(p[N]=p[B]+p[F],y[N]=y[B])}var z=function(J){return(ze(J)?r.filter(J):J)[0]},$=function(J){return d(z(J))},O={distance:function(J,H){var V=$(J),X=$(H);return p[V*c+X]},path:function(J,H){var V=$(J),X=$(H),te=f(V);if(V===X)return te.collection();if(y[V*c+X]==null)return r.collection();var Q=r.collection(),Y=V,ae;for(Q.merge(te);V!==X;)Y=V,V=y[V*c+X],ae=b[Y*c+V],Q.merge(ae),Q.merge(f(V));return Q}};return O}},rpe=Mr({weight:function(e){return 1},directed:!1,root:null}),npe={bellmanFord:function(e){var r=this,n=rpe(e),i=n.weight,a=n.directed,s=n.root,o=i,l=this,u=this.cy(),c=this.byGroup(),h=c.edges,d=c.nodes,f=d.length,p=new va,g=!1,m=[];s=u.collection(s)[0],h.unmergeBy(function(U){return U.isLoop()});for(var v=h.length,y=function(G){var q=p.get(G.id());return q||(q={},p.set(G.id(),q)),q},b=function(G){return(ze(G)?u.$(G):G)[0]},x=function(G){return y(b(G)).dist},w=function(G){for(var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,oe=b(G),re=[],Z=oe;;){if(Z==null)return r.spawn();var ee=y(Z),ue=ee.edge,fe=ee.pred;if(re.unshift(Z[0]),Z.same(q)&&re.length>0)break;ue!=null&&re.unshift(ue),Z=fe}return l.spawn(re)},E=0;E<f;E++){var _=d[E],T=y(_);_.same(s)?T.dist=0:T.dist=1/0,T.pred=null,T.edge=null}for(var C=!1,P=function(G,q,oe,re,Z,ee){var ue=re.dist+ee;ue<Z.dist&&!oe.same(re.edge)&&(Z.dist=ue,Z.pred=G,Z.edge=oe,C=!0)},M=1;M<f;M++){C=!1;for(var R=0;R<v;R++){var I=h[R],S=I.source(),B=I.target(),L=o(I),N=y(S),F=y(B);P(S,B,I,N,F,L),a||P(B,S,I,F,N,L)}if(!C)break}if(C)for(var z=[],$=0;$<v;$++){var O=h[$],j=O.source(),J=O.target(),H=o(O),V=y(j).dist,X=y(J).dist;if(V+H<X||!a&&X+H<V)if(g||(ot("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var te=[];V+H<X&&te.push(j),!a&&X+H<V&&te.push(J);for(var Q=te.length,Y=0;Y<Q;Y++){var ae=te[Y],se=[ae];se.push(y(ae).edge);for(var ve=y(ae).pred;se.indexOf(ve)===-1;)se.push(ve),se.push(y(ve).edge),ve=y(ve).pred;se=se.slice(se.indexOf(ve));for(var ge=se[0].id(),k=0,K=2;K<se.length;K+=2)se[K].id()<ge&&(ge=se[K].id(),k=K);se=se.slice(k).concat(se.slice(0,k)),se.push(se[0]);var ne=se.map(function(U){return U.id()}).join(",");z.indexOf(ne)===-1&&(m.push(l.spawn(se)),z.push(ne))}}else break}return{distanceTo:x,pathTo:w,hasNegativeWeightCycle:g,negativeWeightCycles:m}}},ipe=Math.sqrt(2),ape=function(e,r,n){n.length===0&&$t("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],s=i[2],o=r[a],l=r[s],u=n,c=u.length-1;c>=0;c--){var h=u[c],d=h[1],f=h[2];(r[d]===o&&r[f]===l||r[d]===l&&r[f]===o)&&u.splice(c,1)}for(var p=0;p<u.length;p++){var g=u[p];g[1]===l?(u[p]=g.slice(),u[p][1]=o):g[2]===l&&(u[p]=g.slice(),u[p][2]=o)}for(var m=0;m<r.length;m++)r[m]===l&&(r[m]=o);return u},N1=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=ape(a,e,r),n--}return r},spe={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(F){return F.isLoop()});var a=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/ipe);if(a<2){$t("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<s;c++){var h=i[c];u.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var d=1/0,f=[],p=new Array(a),g=new Array(a),m=new Array(a),v=function(z,$){for(var O=0;O<a;O++)$[O]=z[O]},y=0;y<=o;y++){for(var b=0;b<a;b++)g[b]=b;var x=N1(g,u.slice(),a,l),w=x.slice();v(g,m);var E=N1(g,x,l,2),_=N1(m,w,l,2);E.length<=_.length&&E.length<d?(d=E.length,f=E,v(g,p)):_.length<=E.length&&_.length<d&&(d=_.length,f=_,v(m,p))}for(var T=this.spawn(f.map(function(F){return i[F[0]]})),C=this.spawn(),P=this.spawn(),M=p[0],R=0;R<p.length;R++){var I=p[R],S=n[R];I===M?C.merge(S):P.merge(S)}var B=function(z){var $=e.spawn();return z.forEach(function(O){$.merge(O),O.connectedEdges().forEach(function(j){e.contains(j)&&!T.contains(j)&&$.merge(j)})}),$},L=[B(C),B(P)],N={cut:T,components:L,partition1:C,partition2:P};return N}},ope=function(e){return{x:e.x,y:e.y}},gy=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},vG=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},ku=function(e){return{x:e[0],y:e[1]}},lpe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.min(s,i))}return i},upe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.max(s,i))}return i},cpe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,a++)}return i/a},hpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}a&&e.sort(function(d,f){return d-f});var c=e.length,h=Math.floor(c/2);return c%2!==0?e[h+1+o]:(e[h-1+o]+e[h+o])/2},dpe=function(e){return Math.PI*e/180},zp=function(e,r){return Math.atan2(r,e)-Math.PI/2},LR=Math.log2||function(t){return Math.log(t)/Math.log(2)},mG=function(e){return e>0?1:e<0?-1:0},El=function(e,r){return Math.sqrt(Uo(e,r))},Uo=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},fpe=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},pr=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Qu=function(e,r,n,i){return{x:pr(e.x,r.x,n.x,i),y:pr(e.y,r.y,n.y,i)}},ppe=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},s=El(e,r),o={x:a.x/s,y:a.y/s};return n=n??0,i=i??n*s,{x:e.x+o.x*i,y:e.y+o.y*i}},qd=function(e,r,n){return Math.max(e,Math.min(n,r))},En=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},vpe=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},mpe=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},gpe=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},gG=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},ype=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Ev=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Sv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,s;if(r.length===1)n=i=a=s=r[0];else if(r.length===2)n=a=r[0],s=i=r[1];else if(r.length===4){var o=wi(r,4);n=o[0],i=o[1],a=o[2],s=o[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},tO=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},BR=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},xc=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},bpe=function(e,r){return xc(e,r.x,r.y)},yG=function(e,r){return xc(e,r.x1,r.y1)&&xc(e,r.x2,r.y2)},bG=function(e,r,n,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?Sl(a,s):l,c=a/2,h=s/2;u=Math.min(u,c,h);var d=u!==c,f=u!==h,p;if(d){var g=n-c+u-o,m=i-h-o,v=n+c-u+o,y=m;if(p=$s(e,r,n,i,g,m,v,y,!1),p.length>0)return p}if(f){var b=n+c+o,x=i-h+u-o,w=b,E=i+h-u+o;if(p=$s(e,r,n,i,b,x,w,E,!1),p.length>0)return p}if(d){var _=n-c+u-o,T=i+h+o,C=n+c-u+o,P=T;if(p=$s(e,r,n,i,_,T,C,P,!1),p.length>0)return p}if(f){var M=n-c-o,R=i-h+u-o,I=M,S=i+h-u+o;if(p=$s(e,r,n,i,M,R,I,S,!1),p.length>0)return p}var B;{var L=n-c+u,N=i-h+u;if(B=jh(e,r,n,i,L,N,u+o),B.length>0&&B[0]<=L&&B[1]<=N)return[B[0],B[1]]}{var F=n+c-u,z=i-h+u;if(B=jh(e,r,n,i,F,z,u+o),B.length>0&&B[0]>=F&&B[1]<=z)return[B[0],B[1]]}{var $=n+c-u,O=i+h-u;if(B=jh(e,r,n,i,$,O,u+o),B.length>0&&B[0]>=$&&B[1]>=O)return[B[0],B[1]]}{var j=n-c+u,J=i+h-u;if(B=jh(e,r,n,i,j,J,u+o),B.length>0&&B[0]<=j&&B[1]>=J)return[B[0],B[1]]}return[]},xpe=function(e,r,n,i,a,s,o){var l=o,u=Math.min(n,a),c=Math.max(n,a),h=Math.min(i,s),d=Math.max(i,s);return u-l<=e&&e<=c+l&&h-l<=r&&r<=d+l},wpe=function(e,r,n,i,a,s,o,l,u){var c={x1:Math.min(n,o,a)-u,x2:Math.max(n,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},_pe=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var s=Math.sqrt(a),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},Epe=function(e,r,n,i,a){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var o,l,u,c,h,d,f,p;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,a[1]=0,f=r/3,o>0){h=u+Math.sqrt(o),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),d=u-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),a[0]=-f+h+d,f+=(h+d)/2,a[4]=a[2]=-f,f=Math.sqrt(3)*(-d+h)/2,a[3]=f,a[5]=-f;return}if(a[5]=a[3]=0,o===0){p=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-f+2*p,a[4]=a[2]=-(p+f);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),p=2*Math.sqrt(l),a[0]=-f+p*Math.cos(c/3),a[2]=-f+p*Math.cos((c+2*Math.PI)/3),a[4]=-f+p*Math.cos((c+4*Math.PI)/3)},Spe=function(e,r,n,i,a,s,o,l){var u=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,c=1*9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,h=1*3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*i*i-6*i*s+i*l-i*r+2*s*s+2*s*r-l*r,d=1*n*a-n*n+n*e-a*e+i*s-i*i+i*r-s*r,f=[];Epe(u,c,h,d,f);for(var p=1e-7,g=[],m=0;m<6;m+=2)Math.abs(f[m+1])<p&&f[m]>=0&&f[m]<=1&&g.push(f[m]);g.push(1),g.push(0);for(var v=-1,y,b,x,w=0;w<g.length;w++)y=Math.pow(1-g[w],2)*n+2*(1-g[w])*g[w]*a+g[w]*g[w]*o,b=Math.pow(1-g[w],2)*i+2*(1-g[w])*g[w]*s+g[w]*g[w]*l,x=Math.pow(y-e,2)+Math.pow(b-r,2),v>=0?x<v&&(v=x):v=x;return v},Cpe=function(e,r,n,i,a,s){var o=[e-n,r-i],l=[a-n,s-i],u=l[0]*l[0]+l[1]*l[1],c=o[0]*o[0]+o[1]*o[1],h=o[0]*l[0]+o[1]*l[1],d=h*h/u;return h<0?c:d>u?(e-a)*(e-a)+(r-s)*(r-s):c-d},cn=function(e,r,n){for(var i,a,s,o,l,u=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)l=(e-i)/(s-i)*(o-a)+a,l>r&&u++;else continue;return u%2!==0},as=function(e,r,n,i,a,s,o,l,u){var c=new Array(n.length),h;l[0]!=null?(h=Math.atan(l[1]/l[0]),l[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=l;for(var d=Math.cos(-h),f=Math.sin(-h),p=0;p<c.length/2;p++)c[p*2]=s/2*(n[p*2]*d-n[p*2+1]*f),c[p*2+1]=o/2*(n[p*2+1]*d+n[p*2]*f),c[p*2]+=i,c[p*2+1]+=a;var g;if(u>0){var m=Gm(c,-u);g=$m(m)}else g=c;return cn(e,r,g)},Tpe=function(e,r,n,i,a,s,o,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var h=l[c];u[c*4+0]=h.startX,u[c*4+1]=h.startY,u[c*4+2]=h.stopX,u[c*4+3]=h.stopY;var d=Math.pow(h.cx-e,2)+Math.pow(h.cy-r,2);if(d<=Math.pow(h.radius,2))return!0}return cn(e,r,u)},$m=function(e){for(var r=new Array(e.length/2),n,i,a,s,o,l,u,c,h=0;h<e.length/4;h++){n=e[h*4],i=e[h*4+1],a=e[h*4+2],s=e[h*4+3],h<e.length/4-1?(o=e[(h+1)*4],l=e[(h+1)*4+1],u=e[(h+1)*4+2],c=e[(h+1)*4+3]):(o=e[0],l=e[1],u=e[2],c=e[3]);var d=$s(n,i,a,s,o,l,u,c,!0);r[h*2]=d[0],r[h*2+1]=d[1]}return r},Gm=function(e,r){for(var n=new Array(e.length*2),i,a,s,o,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-a,c=-(s-i),h=Math.sqrt(u*u+c*c),d=u/h,f=c/h;n[l*4]=i+d*r,n[l*4+1]=a+f*r,n[l*4+2]=s+d*r,n[l*4+3]=o+f*r}return n},Ape=function(e,r,n,i,a,s){var o=n-e,l=i-r;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),c=u-1;if(c<0)return[];var h=c/u;return[(n-e)*h+e,(i-r)*h+r]},rl=function(e,r,n,i,a,s,o){return e-=a,r-=s,e/=n/2+o,r/=i/2+o,e*e+r*r<=1},jh=function(e,r,n,i,a,s,o){var l=[n-e,i-r],u=[e-a,r-s],c=l[0]*l[0]+l[1]*l[1],h=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-o*o,f=h*h-4*c*d;if(f<0)return[];var p=(-h+Math.sqrt(f))/(2*c),g=(-h-Math.sqrt(f))/(2*c),m=Math.min(p,g),v=Math.max(p,g),y=[];if(m>=0&&m<=1&&y.push(m),v>=0&&v<=1&&y.push(v),y.length===0)return[];var b=y[0]*l[0]+e,x=y[0]*l[1]+r;if(y.length>1){if(y[0]==y[1])return[b,x];var w=y[1]*l[0]+e,E=y[1]*l[1]+r;return[b,x,w,E]}else return[b,x]},L1=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},$s=function(e,r,n,i,a,s,o,l,u){var c=e-a,h=n-e,d=o-a,f=r-s,p=i-r,g=l-s,m=d*f-g*c,v=h*f-p*c,y=g*h-d*p;if(y!==0){var b=m/y,x=v/y,w=.001,E=0-w,_=1+w;return E<=b&&b<=_&&E<=x&&x<=_?[e+b*h,r+b*p]:u?[e+b*h,r+b*p]:[]}else return m===0||v===0?L1(e,n,o)===o?[o,l]:L1(e,n,a)===a?[a,s]:L1(a,o,n)===n?[n,i]:[]:[]},Xd=function(e,r,n,i,a,s,o,l){var u=[],c,h=new Array(n.length),d=!0;s==null&&(d=!1);var f;if(d){for(var p=0;p<h.length/2;p++)h[p*2]=n[p*2]*s+i,h[p*2+1]=n[p*2+1]*o+a;if(l>0){var g=Gm(h,-l);f=$m(g)}else f=h}else f=n;for(var m,v,y,b,x=0;x<f.length/2;x++)m=f[x*2],v=f[x*2+1],x<f.length/2-1?(y=f[(x+1)*2],b=f[(x+1)*2+1]):(y=f[0],b=f[1]),c=$s(e,r,i,a,m,v,y,b),c.length!==0&&u.push(c[0],c[1]);return u},Rpe=function(e,r,n,i,a,s,o,l,u){var c=[],h,d=new Array(n.length*2);u.forEach(function(y,b){b===0?(d[d.length-2]=y.startX,d[d.length-1]=y.startY):(d[b*4-2]=y.startX,d[b*4-1]=y.startY),d[b*4]=y.stopX,d[b*4+1]=y.stopY,h=jh(e,r,i,a,y.cx,y.cy,y.radius),h.length!==0&&c.push(h[0],h[1])});for(var f=0;f<d.length/4;f++)h=$s(e,r,i,a,d[f*4],d[f*4+1],d[f*4+2],d[f*4+3],!1),h.length!==0&&c.push(h[0],h[1]);if(c.length>2){for(var p=[c[0],c[1]],g=Math.pow(p[0]-e,2)+Math.pow(p[1]-r,2),m=1;m<c.length/2;m++){var v=Math.pow(c[m*2]-e,2)+Math.pow(c[m*2+1]-r,2);v<=g&&(p[0]=c[m*2],p[1]=c[m*2+1],g=v)}return p}return c},jp=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-n)/a;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},Qr=function(e,r){var n=AT(e,r);return n=xG(n),n},xG=function(e){for(var r,n,i=e.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var c=2/(o-a),h=2/(l-s),d=0;d<i;d++)r=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*h,a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var f=0;f<i;f++)n=e[2*f+1]=e[2*f+1]+(-1-s);return e},AT=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),s,o=0;o<e;o++)s=o*n+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},Sl=function(e,r){return Math.min(e/4,r/4,8)},wG=function(e,r){return Math.min(e/10,r/10,8)},FR=function(){return 8},Ppe=function(e,r,n){return[e-2*r+n,2*(r-e),e]},RT=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Ipe=Mr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),kpe={pageRank:function(e){for(var r=Ipe(e),n=r.dampingFactor,i=r.precision,a=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,h=u.length,d=h*h,f=c.length,p=new Array(d),g=new Array(h),m=(1-n)/h,v=0;v<h;v++){for(var y=0;y<h;y++){var b=v*h+y;p[b]=0}g[v]=0}for(var x=0;x<f;x++){var w=c[x],E=w.data("source"),_=w.data("target");if(E!==_){var T=u.indexOfId(E),C=u.indexOfId(_),P=s(w),M=C*h+T;p[M]+=P,g[T]+=P}}for(var R=1/h+m,I=0;I<h;I++)if(g[I]===0)for(var S=0;S<h;S++){var B=S*h+I;p[B]=R}else for(var L=0;L<h;L++){var N=L*h+I;p[N]=p[N]/g[I]+m}for(var F=new Array(h),z=new Array(h),$,O=0;O<h;O++)F[O]=1;for(var j=0;j<a;j++){for(var J=0;J<h;J++)z[J]=0;for(var H=0;H<h;H++)for(var V=0;V<h;V++){var X=H*h+V;z[H]+=p[X]*F[V]}fpe(z),$=F,F=z,z=$;for(var te=0,Q=0;Q<h;Q++){var Y=$[Q]-F[Q];te+=Y*Y}if(te<i)break}var ae={rank:function(ve){return ve=o.collection(ve)[0],F[u.indexOf(ve)]}};return ae}},rO=Mr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ju={degreeCentralityNormalized:function(e){e=rO(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},h={},d=0,f=0,p=0;p<i;p++){var g=n[p],m=g.id();e.root=g;var v=this.degreeCentrality(e);d<v.indegree&&(d=v.indegree),f<v.outdegree&&(f=v.outdegree),c[m]=v.indegree,h[m]=v.outdegree}return{indegree:function(b){return d==0?0:(ze(b)&&(b=r.filter(b)),c[b.id()]/d)},outdegree:function(b){return f===0?0:(ze(b)&&(b=r.filter(b)),h[b.id()]/f)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(b){return s===0?0:(ze(b)&&(b=r.filter(b)),a[b.id()]/s)}}}},degreeCentrality:function(e){e=rO(e);var r=this.cy(),n=this,i=e,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=r.collection(a)[0],o){for(var f=a.connectedEdges(),p=f.filter(function(E){return E.target().same(a)&&n.has(E)}),g=f.filter(function(E){return E.source().same(a)&&n.has(E)}),m=p.length,v=g.length,y=0,b=0,x=0;x<p.length;x++)y+=s(p[x]);for(var w=0;w<g.length;w++)b+=s(g[w]);return{indegree:Math.pow(m,1-l)*Math.pow(y,l),outdegree:Math.pow(v,1-l)*Math.pow(b,l)}}else{for(var u=a.connectedEdges().intersection(n),c=u.length,h=0,d=0;d<u.length;d++)h+=s(u[d]);return{degree:Math.pow(c,1-l)*Math.pow(h,l)}}}};Ju.dc=Ju.degreeCentrality;Ju.dcn=Ju.degreeCentralityNormalised=Ju.degreeCentralityNormalized;var nO=Mr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ec={closenessCentralityNormalized:function(e){for(var r=nO(e),n=r.harmonic,i=r.weight,a=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),h=0;h<u.length;h++){for(var d=0,f=u[h],p=0;p<u.length;p++)if(h!==p){var g=c.distance(f,u[p]);n?d+=1/g:d+=g}n||(d=1/d),l<d&&(l=d),o[f.id()]=d}return{closeness:function(v){return l==0?0:(ze(v)?v=s.filter(v)[0].id():v=v.id(),o[v]/l)}}},closenessCentrality:function(e){var r=nO(e),n=r.root,i=r.weight,a=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var h=u[c];if(!h.same(n)){var d=o.distanceTo(h);s?l+=1/d:l+=d}}return s?l:1/l}};ec.cc=ec.closenessCentrality;ec.ccn=ec.closenessCentralityNormalised=ec.closenessCentralityNormalized;var Mpe=Mr({weight:null,directed:!1}),PT={betweennessCentrality:function(e){for(var r=Mpe(e),n=r.directed,i=r.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},c=0,h={set:function(b,x){u[b]=x,x>c&&(c=x)},get:function(b){return u[b]}},d=0;d<o.length;d++){var f=o[d],p=f.id();n?l[p]=f.outgoers().nodes():l[p]=f.openNeighborhood().nodes(),h.set(p,0)}for(var g=function(b){for(var x=o[b].id(),w=[],E={},_={},T={},C=new Pf(function(V,X){return T[V]-T[X]}),P=0;P<o.length;P++){var M=o[P].id();E[M]=[],_[M]=0,T[M]=1/0}for(_[x]=1,T[x]=0,C.push(x);!C.empty();){var R=C.pop();if(w.push(R),a)for(var I=0;I<l[R].length;I++){var S=l[R][I],B=s.getElementById(R),L=void 0;B.edgesTo(S).length>0?L=B.edgesTo(S)[0]:L=S.edgesTo(B)[0];var N=i(L);S=S.id(),T[S]>T[R]+N&&(T[S]=T[R]+N,C.nodes.indexOf(S)<0?C.push(S):C.updateItem(S),_[S]=0,E[S]=[]),T[S]==T[R]+N&&(_[S]=_[S]+_[R],E[S].push(R))}else for(var F=0;F<l[R].length;F++){var z=l[R][F].id();T[z]==1/0&&(C.push(z),T[z]=T[R]+1),T[z]==T[R]+1&&(_[z]=_[z]+_[R],E[z].push(R))}}for(var $={},O=0;O<o.length;O++)$[o[O].id()]=0;for(;w.length>0;){for(var j=w.pop(),J=0;J<E[j].length;J++){var H=E[j][J];$[H]=$[H]+_[H]/_[j]*(1+$[j])}j!=o[b].id()&&h.set(j,h.get(j)+$[j])}},m=0;m<o.length;m++)g(m);var v={betweenness:function(b){var x=s.collection(b).id();return h.get(x)},betweennessNormalized:function(b){if(c==0)return 0;var x=s.collection(b).id();return h.get(x)/c}};return v.betweennessNormalised=v.betweennessNormalized,v}};PT.bc=PT.betweennessCentrality;var Dpe=Mr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Ope=function(e){return Dpe(e)},Npe=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},Lpe=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},_G=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},Bpe=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var s=0;s<n;s++)i[a*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+o]*r[o*n+l]}return i},Fpe=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=Bpe(e,i,r);return e},zpe=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return _G(i,r),i},jpe=function(e,r,n,i){for(var a=0;a<n;a++){var s=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},Upe=function(e,r,n,i){for(var a=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&a.push(i.collection(o))}return a},$pe=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Gpe=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&$pe(e[r],e[n])&&e.splice(n,1);return e},iO=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=Ope(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,c=new Array(u),h,d=0;d<u;d++)c[d]=0;for(var f=0;f<n.length;f++){var p=n[f],g=s[p.source().id()],m=s[p.target().id()],v=Npe(p,a.attributes);c[g*l+m]+=v,c[m*l+g]+=v}Lpe(c,l,a.multFactor),_G(c,l);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,h=Fpe(c,l,a.expandFactor),c=zpe(h,l,a.inflateFactor),jpe(c,h,u,4)||(y=!0),b++;var x=Upe(c,l,r,i);return x=Gpe(x),x},Hpe={markovClustering:iO,mcl:iO},Vpe=function(e){return e},EG=function(e,r){return Math.abs(r-e)},aO=function(e,r,n){return e+EG(r,n)},sO=function(e,r,n){return e+Math.pow(n-r,2)},Wpe=function(e){return Math.sqrt(e)},qpe=function(e,r,n){return Math.max(e,EG(r,n))},Eh=function(e,r,n,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Vpe,o=i,l,u,c=0;c<e;c++)l=r(c),u=n(c),o=a(o,l,u);return s(o)},wc={euclidean:function(e,r,n){return e>=2?Eh(e,r,n,0,sO,Wpe):Eh(e,r,n,0,aO)},squaredEuclidean:function(e,r,n){return Eh(e,r,n,0,sO)},manhattan:function(e,r,n){return Eh(e,r,n,0,aO)},max:function(e,r,n){return Eh(e,r,n,-1/0,qpe)}};wc["squared-euclidean"]=wc.squaredEuclidean;wc.squaredeuclidean=wc.squaredEuclidean;function yy(t,e,r,n,i,a){var s;return Nt(t)?s=t:s=wc[t]||wc.euclidean,e===0&&Nt(t)?s(i,a):s(e,r,n,i,a)}var Xpe=Mr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),zR=function(e){return Xpe(e)},Hm=function(e,r,n,i,a){var s=a!=="kMedoids",o=s?function(h){return n[h]}:function(h){return i[h](n)},l=function(d){return i[d](r)},u=n,c=r;return yy(e,i.length,o,l,u,c)},B1=function(e,r,n){for(var i=n.length,a=new Array(i),s=new Array(i),o=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var h=0;h<i;h++)l[h]=Math.random()*(s[h]-a[h])+a[h];o[c]=l}return o},SG=function(e,r,n,i,a){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=Hm(n,e,r[l],i,a);u<s&&(s=u,o=l)}return o},CG=function(e,r,n){for(var i=[],a=null,s=0;s<r.length;s++)a=r[s],n[a.id()]===e&&i.push(a);return i},Ype=function(e,r,n){return Math.abs(r-e)<=n},Kpe=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var s=Math.abs(e[i][a]-r[i][a]);if(s>n)return!1}return!0},Zpe=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},oO=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];Zpe(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},lO=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=Hm("manhattan",r[a],e,n,"kMedoids");return i},Qpe=function(e){var r=this.cy(),n=this.nodes(),i=null,a=zR(e),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=B1(n,a.k,a.attributes)):or(a.testCentroids)==="object"?l=a.testCentroids:l=B1(n,a.k,a.attributes):l=B1(n,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],o[i.id()]=SG(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var d=0;d<a.k;d++){var f=CG(d,n,o);if(f.length!==0){for(var p=a.attributes.length,g=l[d],m=new Array(p),v=new Array(p),y=0;y<p;y++){v[y]=0;for(var b=0;b<f.length;b++)i=f[b],v[y]+=a.attributes[y](i);m[y]=v[y]/f.length,Ype(m[y],g[y],a.sensitivityThreshold)||(u=!0)}l[d]=m,s[d]=r.collection(f)}}c++}return s},Jpe=function(e){var r=this.cy(),n=this.nodes(),i=null,a=zR(e),s=new Array(a.k),o,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(or(a.testCentroids)==="object"?o=a.testCentroids:o=oO(n,a.k)):o=oO(n,a.k);for(var h=!0,d=0;h&&d<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],l[i.id()]=SG(i,o,a.distance,a.attributes,"kMedoids");h=!1;for(var p=0;p<o.length;p++){var g=CG(p,n,l);if(g.length!==0){c[p]=lO(o[p],g,a.attributes);for(var m=0;m<g.length;m++)u=lO(g[m],g,a.attributes),u<c[p]&&(c[p]=u,o[p]=g[m],h=!0);s[p]=r.collection(g)}}d++}return s},eve=function(e,r,n,i,a){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var c=0;c<e.length;c++)for(var h=0;h<a.attributes.length;h++){s=0,o=0;for(var d=0;d<r.length;d++)s+=i[d][c]*a.attributes[h](r[d]),o+=i[d][c];e[c][h]=s/o}},tve=function(e,r,n,i,a){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,c=2/(a.m-1),h=0;h<n.length;h++)for(var d=0;d<i.length;d++){o=0;for(var f=0;f<n.length;f++)l=Hm(a.distance,i[d],n[h],a.attributes,"cmeans"),u=Hm(a.distance,i[d],n[f],a.attributes,"cmeans"),o+=Math.pow(l/u,c);e[d][h]=1/o}},rve=function(e,r,n,i){for(var a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>o&&(o=r[u][c],l=c);a[l].push(e[u])}for(var h=0;h<a.length;h++)a[h]=i.collection(a[h]);return a},uO=function(e){var r=this.cy(),n=this.nodes(),i=zR(e),a,s,o,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(i.k);o=new Array(n.length);for(var h=0;h<n.length;h++)o[h]=new Array(i.k);for(var d=0;d<n.length;d++){for(var f=0,p=0;p<i.k;p++)o[d][p]=Math.random(),f+=o[d][p];for(var g=0;g<i.k;g++)o[d][g]=o[d][g]/f}s=new Array(i.k);for(var m=0;m<i.k;m++)s[m]=new Array(i.attributes.length);u=new Array(n.length);for(var v=0;v<n.length;v++)u[v]=new Array(i.k);for(var y=!0,b=0;y&&b<i.maxIterations;)y=!1,eve(s,n,o,u,i),tve(o,l,s,n,i),Kpe(o,l,i.sensitivityThreshold)||(y=!0),b++;return a=rve(n,o,i,r),{clusters:a,degreeOfMembership:o}},nve={kMeans:Qpe,kMedoids:Jpe,fuzzyCMeans:uO,fcm:uO},ive=Mr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ave={single:"min",complete:"max"},sve=function(e){var r=ive(e),n=ave[r.linkage];return n!=null&&(r.linkage=n),r},cO=function(e,r,n,i,a){for(var s=0,o=1/0,l,u=a.attributes,c=function(C,P){return yy(a.distance,u.length,function(M){return u[M](C)},function(M){return u[M](P)},C,P)},h=0;h<e.length;h++){var d=e[h].key,f=n[d][i[d]];f<o&&(s=d,o=f)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var p=r[s],g=r[i[s]],m;a.mode==="dendrogram"?m={left:p,right:g,key:p.key}:m={value:p.value.concat(g.value),key:p.key},e[p.index]=m,e.splice(g.index,1),r[p.key]=m;for(var v=0;v<e.length;v++){var y=e[v];p.key===y.key?l=1/0:a.linkage==="min"?(l=n[p.key][y.key],n[p.key][y.key]>n[g.key][y.key]&&(l=n[g.key][y.key])):a.linkage==="max"?(l=n[p.key][y.key],n[p.key][y.key]<n[g.key][y.key]&&(l=n[g.key][y.key])):a.linkage==="mean"?l=(n[p.key][y.key]*p.size+n[g.key][y.key]*g.size)/(p.size+g.size):a.mode==="dendrogram"?l=c(y.value,p.value):l=c(y.value[0],p.value[0]),n[p.key][y.key]=n[y.key][p.key]=l}for(var b=0;b<e.length;b++){var x=e[b].key;if(i[x]===p.key||i[x]===g.key){for(var w=x,E=0;E<e.length;E++){var _=e[E].key;n[x][_]<n[x][w]&&(w=_)}i[x]=w}e[b].index=b}return p.key=g.key=p.index=g.index=null,!0},Up=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},ove=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},lve=function t(e,r,n){if(!e)return[];var i=[],a=[],s=[];return r===0?(e.left&&Up(e.left,i),e.right&&Up(e.right,a),s=i.concat(a),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Up(e.left,i),e.right&&Up(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(a=t(e.right,r-1,n)),i.concat(a))},hO=function(e){for(var r=this.cy(),n=this.nodes(),i=sve(e),a=i.attributes,s=function(b,x){return yy(i.distance,a.length,function(w){return a[w](b)},function(w){return a[w](x)},b,x)},o=[],l=[],u=[],c=[],h=0;h<n.length;h++){var d={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};o[h]=d,c[h]=d,l[h]=[],u[h]=0}for(var f=0;f<o.length;f++)for(var p=0;p<=f;p++){var g=void 0;i.mode==="dendrogram"?g=f===p?1/0:s(o[f].value,o[p].value):g=f===p?1/0:s(o[f].value[0],o[p].value[0]),l[f][p]=g,l[p][f]=g,g<l[f][u[f]]&&(u[f]=p)}for(var m=cO(o,c,l,u,i);m;)m=cO(o,c,l,u,i);var v;return i.mode==="dendrogram"?(v=lve(o[0],i.dendrogramDepth,r),i.addDendrogram&&ove(o[0],r)):(v=new Array(o.length),o.forEach(function(y,b){y.key=y.index=null,v[b]=r.collection(y.value)})),v},uve={hierarchicalClustering:hO,hca:hO},cve=Mr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),hve=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||$t("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||Ce(n)||$t("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),cve(e)},dve=function(e,r,n,i){var a=function(o,l){return i[l](o)};return-yy(e,i.length,function(s){return a(r,s)},function(s){return a(n,s)},r,n)},fve=function(e,r){var n=null;return r==="median"?n=hpe(e):r==="mean"?n=cpe(e):r==="min"?n=lpe(e):r==="max"?n=upe(e):n=r,n},pve=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},dO=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>o&&(s=u,o=r[a*e+u])}s>0&&i.push(s)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},vve=function(e,r,n){for(var i=dO(e,r,n),a=0;a<n.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===n[a]&&s.push(o);for(var l=-1,u=-1/0,c=0;c<s.length;c++){for(var h=0,d=0;d<s.length;d++)h+=r[s[d]*e+s[c]];h>u&&(l=c,u=h)}n[a]=s[l]}return i=dO(e,r,n),i},fO=function(e){for(var r=this.cy(),n=this.nodes(),i=hve(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;var o,l,u,c,h,d;o=n.length,l=o*o,u=new Array(l);for(var f=0;f<l;f++)u[f]=-1/0;for(var p=0;p<o;p++)for(var g=0;g<o;g++)p!==g&&(u[p*o+g]=dve(i.distance,n[p],n[g],i.attributes));c=fve(u,i.preference);for(var m=0;m<o;m++)u[m*o+m]=c;h=new Array(l);for(var v=0;v<l;v++)h[v]=0;d=new Array(l);for(var y=0;y<l;y++)d[y]=0;for(var b=new Array(o),x=new Array(o),w=new Array(o),E=0;E<o;E++)b[E]=0,x[E]=0,w[E]=0;for(var _=new Array(o*i.minIterations),T=0;T<_.length;T++)_[T]=0;var C;for(C=0;C<i.maxIterations;C++){for(var P=0;P<o;P++){for(var M=-1/0,R=-1/0,I=-1,S=0,B=0;B<o;B++)b[B]=h[P*o+B],S=d[P*o+B]+u[P*o+B],S>=M?(R=M,M=S,I=B):S>R&&(R=S);for(var L=0;L<o;L++)h[P*o+L]=(1-i.damping)*(u[P*o+L]-M)+i.damping*b[L];h[P*o+I]=(1-i.damping)*(u[P*o+I]-R)+i.damping*b[I]}for(var N=0;N<o;N++){for(var F=0,z=0;z<o;z++)b[z]=d[z*o+N],x[z]=Math.max(0,h[z*o+N]),F+=x[z];F-=x[N],x[N]=h[N*o+N],F+=x[N];for(var $=0;$<o;$++)d[$*o+N]=(1-i.damping)*Math.min(0,F-x[$])+i.damping*b[$];d[N*o+N]=(1-i.damping)*(F-x[N])+i.damping*b[N]}for(var O=0,j=0;j<o;j++){var J=d[j*o+j]+h[j*o+j]>0?1:0;_[C%i.minIterations*o+j]=J,O+=J}if(O>0&&(C>=i.minIterations-1||C==i.maxIterations-1)){for(var H=0,V=0;V<o;V++){w[V]=0;for(var X=0;X<i.minIterations;X++)w[V]+=_[X*o+V];(w[V]===0||w[V]===i.minIterations)&&H++}if(H===o)break}}for(var te=pve(o,h,d),Q=vve(o,u,te),Y={},ae=0;ae<te.length;ae++)Y[te[ae]]=[];for(var se=0;se<n.length;se++){var ve=a[n[se].id()],ge=Q[ve];ge!=null&&Y[ge].push(n[se])}for(var k=new Array(te.length),K=0;K<te.length;K++)k[K]=r.collection(Y[te[K]]);return k},mve={affinityPropagation:fO,ap:fO},gve=Mr({root:void 0,directed:!1}),yve={hierholzer:function(e){if(!tt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=gve(e),i=n.root,a=n.directed,s=this,o=!1,l,u,c;i&&(c=ze(i)?this.filter(i)[0].id():i[0].id());var h={},d={};a?s.forEach(function(y){var b=y.id();if(y.isNode()){var x=y.indegree(!0),w=y.outdegree(!0),E=x-w,_=w-x;E==1?l?o=!0:l=b:_==1?u?o=!0:u=b:(_>1||E>1)&&(o=!0),h[b]=[],y.outgoers().forEach(function(T){T.isEdge()&&h[b].push(T.id())})}else d[b]=[void 0,y.target().id()]}):s.forEach(function(y){var b=y.id();if(y.isNode()){var x=y.degree(!0);x%2&&(l?u?o=!0:u=b:l=b),h[b]=[],y.connectedEdges().forEach(function(w){return h[b].push(w.id())})}else d[b]=[y.source().id(),y.target().id()]});var f={found:!1,trail:void 0};if(o)return f;if(u&&l)if(a){if(c&&u!=c)return f;c=u}else{if(c&&u!=c&&l!=c)return f;c||(c=u)}else c||(c=s[0].id());var p=function(b){for(var x=b,w=[b],E,_,T;h[x].length;)E=h[x].shift(),_=d[E][0],T=d[E][1],x!=T?(h[T]=h[T].filter(function(C){return C!=E}),x=T):!a&&x!=_&&(h[_]=h[_].filter(function(C){return C!=E}),x=_),w.unshift(E),w.unshift(x);return w},g=[],m=[];for(m=p(c);m.length!=1;)h[m[0]].length==0?(g.unshift(s.getElementById(m.shift())),g.unshift(s.getElementById(m.shift()))):m=p(m.shift()).concat(m);g.unshift(s.getElementById(m.shift()));for(var v in h)if(h[v].length)return f;return f.found=!0,f.trail=this.spawn(g,!0),f}},$p=function(){var e=this,r={},n=0,i=0,a=[],s=[],o={},l=function(d,f){for(var p=s.length-1,g=[],m=e.spawn();s[p].x!=d||s[p].y!=f;)g.push(s.pop().edge),p--;g.push(s.pop().edge),g.forEach(function(v){var y=v.connectedNodes().intersection(e);m.merge(v),y.forEach(function(b){var x=b.id(),w=b.connectedEdges().intersection(e);m.merge(b),r[x].cutVertex?m.merge(w.filter(function(E){return E.isLoop()})):m.merge(w)})}),a.push(m)},u=function h(d,f,p){d===p&&(i+=1),r[f]={id:n,low:n++,cutVertex:!1};var g=e.getElementById(f).connectedEdges().intersection(e);if(g.size()===0)a.push(e.spawn(e.getElementById(f)));else{var m,v,y,b;g.forEach(function(x){m=x.source().id(),v=x.target().id(),y=m===f?v:m,y!==p&&(b=x.id(),o[b]||(o[b]=!0,s.push({x:f,y,edge:x})),y in r?r[f].low=Math.min(r[f].low,r[y].id):(h(d,y,f),r[f].low=Math.min(r[f].low,r[y].low),r[f].id<=r[y].low&&(r[f].cutVertex=!0,l(f,y))))})}};e.forEach(function(h){if(h.isNode()){var d=h.id();d in r||(i=0,u(d,d),r[d].cutVertex=i>1)}});var c=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(c),components:a}},bve={hopcroftTarjanBiconnected:$p,htbc:$p,htb:$p,hopcroftTarjanBiconnectedComponents:$p},Gp=function(){var e=this,r={},n=0,i=[],a=[],s=e.spawn(e),o=function l(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(g){var m=g.target().id();m!==u&&(m in r||l(m),r[m].explored||(r[u].low=Math.min(r[u].low,r[m].low)))}),r[u].index===r[u].low){for(var h=e.spawn();;){var d=a.pop();if(h.merge(e.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var f=h.edgesWith(h),p=h.merge(f);i.push(p),s=s.difference(p)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:i}},xve={tarjanStronglyConnected:Gp,tsc:Gp,tscc:Gp,tarjanStronglyConnectedComponents:Gp},TG={};[Wd,Kfe,Zfe,Jfe,tpe,npe,spe,kpe,Ju,ec,PT,Hpe,nve,uve,mve,yve,bve,xve].forEach(function(t){Ge(TG,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var AG=0,RG=1,PG=2,ss=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=AG,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};ss.prototype={fulfill:function(e){return pO(this,RG,"fulfillValue",e)},reject:function(e){return pO(this,PG,"rejectReason",e)},then:function(e,r){var n=this,i=new ss;return n.onFulfilled.push(mO(e,i,"fulfill")),n.onRejected.push(mO(r,i,"reject")),IG(n),i.proxy}};var pO=function(e,r,n,i){return e.state===AG&&(e.state=r,e[n]=i,IG(e)),e},IG=function(e){e.state===RG?vO(e,"onFulfilled",e.fulfillValue):e.state===PG&&vO(e,"onRejected",e.rejectReason)},vO=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},mO=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(s){r.reject(s);return}wve(r,a)}}},wve=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(or(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};ss.all=function(t){return new ss(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(h){a(o,h)},function(h){r(h)});else{var c=l;a(o,c)}})(s)})};ss.resolve=function(t){return new ss(function(e,r){e(t)})};ss.reject=function(t){return new ss(function(e,r){r(t)})};var jc=typeof Promise<"u"?Promise:ss,IT=function(e,r,n){var i=kR(e),a=!i,s=this._private=Ge({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Nt(s.complete)&&s.completes.push(s.complete),a){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Cl=IT.prototype;Ge(Cl,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Mn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var h=e[u];h!=null&&(e[u]=e[c],e[c]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],s=a.name,o=e.startStyle[s];e.startStyle[s]=a,e.style[i]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new jc(function(i,a){n.push(function(){i()})})}});Cl.complete=Cl.completed;Cl.run=Cl.play;Cl.running=Cl.playing;var _ve={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var c=o.style();r=Ge({},r,n);var h=Object.keys(r).length===0;if(h)return new IT(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,f=o.pan(),p=o.zoom();r.position=vG(d,p,f)}if(l&&r.panBy!=null){var g=r.panBy,m=o.pan();r.pan={x:m.x+g.x,y:m.y+g.y}}var v=r.center||r.centre;if(l&&v!=null){var y=o.getCenterPan(v.eles,r.zoom);y!=null&&(r.pan=y)}if(l&&r.fit!=null){var b=r.fit,x=o.getFitViewport(b.eles||b.boundingBox,b.padding);x!=null&&(r.pan=x.pan,r.zoom=x.zoom)}if(l&&tt(r.zoom)){var w=o.getZoomedViewport(r.zoom);w!=null?(w.zoomed&&(r.zoom=w.zoom),w.panned&&(r.pan=w.pan)):r.zoom=null}return new IT(s[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=Ge({},r,n));for(var l=0;l<s.length;l++){var u=s[l],c=u.animated()&&(r.queue===void 0||r.queue),h=u.animation(r,c?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],c=u._private,h=c.animation.current,d=0;d<h.length;d++){var f=h[d],p=f._private;n&&(p.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},Eve=Array.isArray,by=Eve,Sve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cve=/^\w*$/;function Tve(t,e){if(by(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Rf(t)?!0:Cve.test(t)||!Sve.test(t)||e!=null&&t in Object(e)}var Ave=Tve,Rve="[object AsyncFunction]",Pve="[object Function]",Ive="[object GeneratorFunction]",kve="[object Proxy]";function Mve(t){if(!wl(t))return!1;var e=sG(t);return e==Pve||e==Ive||e==Rve||e==kve}var Dve=Mve,Ove=py["__core-js_shared__"],F1=Ove,gO=function(){var t=/[^.]+$/.exec(F1&&F1.keys&&F1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Nve(t){return!!gO&&gO in t}var Lve=Nve,Bve=Function.prototype,Fve=Bve.toString;function zve(t){if(t!=null){try{return Fve.call(t)}catch{}try{return t+""}catch{}}return""}var jve=zve,Uve=/[\\^$.*+?()[\]{}|]/g,$ve=/^\[object .+?Constructor\]$/,Gve=Function.prototype,Hve=Object.prototype,Vve=Gve.toString,Wve=Hve.hasOwnProperty,qve=RegExp("^"+Vve.call(Wve).replace(Uve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xve(t){if(!wl(t)||Lve(t))return!1;var e=Dve(t)?qve:$ve;return e.test(jve(t))}var Yve=Xve;function Kve(t,e){return t==null?void 0:t[e]}var Zve=Kve;function Qve(t,e){var r=Zve(t,e);return Yve(r)?r:void 0}var jR=Qve,Jve=jR(Object,"create"),Yd=Jve;function eme(){this.__data__=Yd?Yd(null):{},this.size=0}var tme=eme;function rme(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var nme=rme,ime="__lodash_hash_undefined__",ame=Object.prototype,sme=ame.hasOwnProperty;function ome(t){var e=this.__data__;if(Yd){var r=e[t];return r===ime?void 0:r}return sme.call(e,t)?e[t]:void 0}var lme=ome,ume=Object.prototype,cme=ume.hasOwnProperty;function hme(t){var e=this.__data__;return Yd?e[t]!==void 0:cme.call(e,t)}var dme=hme,fme="__lodash_hash_undefined__";function pme(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Yd&&e===void 0?fme:e,this}var vme=pme;function Uc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Uc.prototype.clear=tme;Uc.prototype.delete=nme;Uc.prototype.get=lme;Uc.prototype.has=dme;Uc.prototype.set=vme;var yO=Uc;function mme(){this.__data__=[],this.size=0}var gme=mme;function yme(t,e){return t===e||t!==t&&e!==e}var kG=yme;function bme(t,e){for(var r=t.length;r--;)if(kG(t[r][0],e))return r;return-1}var xy=bme,xme=Array.prototype,wme=xme.splice;function _me(t){var e=this.__data__,r=xy(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():wme.call(e,r,1),--this.size,!0}var Eme=_me;function Sme(t){var e=this.__data__,r=xy(e,t);return r<0?void 0:e[r][1]}var Cme=Sme;function Tme(t){return xy(this.__data__,t)>-1}var Ame=Tme;function Rme(t,e){var r=this.__data__,n=xy(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Pme=Rme;function $c(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$c.prototype.clear=gme;$c.prototype.delete=Eme;$c.prototype.get=Cme;$c.prototype.has=Ame;$c.prototype.set=Pme;var Ime=$c,kme=jR(py,"Map"),Mme=kme;function Dme(){this.size=0,this.__data__={hash:new yO,map:new(Mme||Ime),string:new yO}}var Ome=Dme;function Nme(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Lme=Nme;function Bme(t,e){var r=t.__data__;return Lme(e)?r[typeof e=="string"?"string":"hash"]:r.map}var wy=Bme;function Fme(t){var e=wy(this,t).delete(t);return this.size-=e?1:0,e}var zme=Fme;function jme(t){return wy(this,t).get(t)}var Ume=jme;function $me(t){return wy(this,t).has(t)}var Gme=$me;function Hme(t,e){var r=wy(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Vme=Hme;function Gc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Gc.prototype.clear=Ome;Gc.prototype.delete=zme;Gc.prototype.get=Ume;Gc.prototype.has=Gme;Gc.prototype.set=Vme;var MG=Gc,Wme="Expected a function";function UR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Wme);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(UR.Cache||MG),r}UR.Cache=MG;var qme=UR,Xme=500;function Yme(t){var e=qme(t,function(n){return r.size===Xme&&r.clear(),n}),r=e.cache;return e}var Kme=Yme,Zme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qme=/\\(\\)?/g,Jme=Kme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zme,function(r,n,i,a){e.push(i?a.replace(Qme,"$1"):n||r)}),e}),DG=Jme;function ege(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var OG=ege,tge=1/0,bO=bc?bc.prototype:void 0,xO=bO?bO.toString:void 0;function NG(t){if(typeof t=="string")return t;if(by(t))return OG(t,NG)+"";if(Rf(t))return xO?xO.call(t):"";var e=t+"";return e=="0"&&1/t==-tge?"-0":e}var rge=NG;function nge(t){return t==null?"":rge(t)}var LG=nge;function ige(t,e){return by(t)?t:Ave(t,e)?[t]:DG(LG(t))}var BG=ige,age=1/0;function sge(t){if(typeof t=="string"||Rf(t))return t;var e=t+"";return e=="0"&&1/t==-age?"-0":e}var $R=sge;function oge(t,e){e=BG(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[$R(e[r++])];return r&&r==n?t:void 0}var lge=oge;function uge(t,e,r){var n=t==null?void 0:lge(t,e);return n===void 0?r:n}var cge=uge,hge=function(){try{var t=jR(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wO=hge;function dge(t,e,r){e=="__proto__"&&wO?wO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var fge=dge,pge=Object.prototype,vge=pge.hasOwnProperty;function mge(t,e,r){var n=t[e];(!(vge.call(t,e)&&kG(n,r))||r===void 0&&!(e in t))&&fge(t,e,r)}var gge=mge,yge=9007199254740991,bge=/^(?:0|[1-9]\d*)$/;function xge(t,e){var r=typeof t;return e=e??yge,!!e&&(r=="number"||r!="symbol"&&bge.test(t))&&t>-1&&t%1==0&&t<e}var wge=xge;function _ge(t,e,r,n){if(!wl(t))return t;e=BG(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=$R(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var c=o[l];u=n?n(c,l,o):void 0,u===void 0&&(u=wl(c)?c:wge(e[i+1])?[]:{})}gge(o,l,u),o=o[l]}return t}var Ege=_ge;function Sge(t,e,r){return t==null?t:Ege(t,e,r)}var Cge=Sge;function Tge(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Age=Tge;function Rge(t){return by(t)?OG(t,$R):Rf(t)?[t]:Age(DG(LG(t)))}var Pge=Rge,Ige={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=Ge({},r,e),function(i,a){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],c=l?o[0]:o;if(ze(i)){var h=i.indexOf(".")!==-1,d=h&&Pge(i);if(s.allowGetting&&a===void 0){var f;return c&&(s.beforeGet(c),d&&c._private[s.field][i]===void 0?f=cge(c._private[s.field],d):f=c._private[s.field][i]),f}else if(s.allowSetting&&a!==void 0){var p=!s.immutableKeys[i];if(p){var g=Y8({},i,a);s.beforeSet(o,g);for(var m=0,v=u.length;m<v;m++){var y=u[m];s.canSet(y)&&(d&&c._private[s.field][i]===void 0?Cge(y._private[s.field],d,a):y._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&tt(i)){var b=i,x,w,E=Object.keys(b);s.beforeSet(o,b);for(var _=0;_<E.length;_++){x=E[_],w=b[x];var T=!s.immutableKeys[x];if(T)for(var C=0;C<u.length;C++){var P=u[C];s.canSet(P)&&(P._private[s.field][x]=w)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Nt(i)){var M=i;o.on(s.bindingEvent,M)}else if(s.allowGetting&&i===void 0){var R;return c&&(s.beforeGet(c),R=c._private[s.field]),R}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ge({},r,e),function(i){var a=e,s=this,o=s.length!==void 0,l=o?s:[s];if(ze(i)){for(var u=i.split(/\s+/),c=u.length,h=0;h<c;h++){var d=u[h];if(!lo(d)){var f=!a.immutableKeys[d];if(f)for(var p=0,g=l.length;p<g;p++)l[p]._private[a.field][d]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var m=0,v=l.length;m<v;m++)for(var y=l[m]._private[a.field],b=Object.keys(y),x=0;x<b.length;x++){var w=b[x],E=!a.immutableKeys[w];E&&(y[w]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},kge={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new jc(function(o,l){var u=function(f){a.off.apply(a,h),o(f)},c=s.concat([u]),h=c.concat([]);a.on.apply(a,c)})}}},st={};[_ve,Ige,kge].forEach(function(t){Ge(st,t)});var Mge={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop()},Cv={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(p){return n.push(p)}),n}else mt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new zc(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,c=!1,h=0;h<e.length;h++){var d=e[h],f=u.has(d);if(!f){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){mt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,c=!1,h=0;h<e.length;h++){var d=e[h],f=u.has(d),p=!1;r||i&&!f?(u.add(d),p=!0):(!r||i&&f)&&(u.delete(d),p=!0),!c&&p&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Cv.className=Cv.classNames=Cv.classes;var Je={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:sr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Je.variable="(?:[\\w-.]|(?:\\\\"+Je.metaChar+"))+";Je.className="(?:[\\w-]|(?:\\\\"+Je.metaChar+"))+";Je.value=Je.string+"|"+Je.number;Je.id=Je.variable;(function(){var t,e,r;for(t=Je.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Je.comparatorOp+="|@"+e;for(t=Je.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Je.comparatorOp+="|\\!"+e)})();var ht=function(){return{checks:[]}},ke={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},kT=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Hde(t.selector,e.selector)}),Dge=function(){for(var t={},e,r=0;r<kT.length;r++)e=kT[r],t[e.selector]=e.matches;return t}(),Oge=function(e,r){return Dge[e](r)},Nge="("+kT.map(function(t){return t.selector}).join("|")+")",tu=function(e){return e.replace(new RegExp("\\\\("+Je.metaChar+")","g"),function(r,n){return n})},ws=function(e,r,n){e[e.length-1]=n},MT=[{name:"group",query:!0,regex:"("+Je.group+")",populate:function(e,r,n){var i=wi(n,1),a=i[0];r.checks.push({type:ke.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:Nge,populate:function(e,r,n){var i=wi(n,1),a=i[0];r.checks.push({type:ke.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Je.id+")",populate:function(e,r,n){var i=wi(n,1),a=i[0];r.checks.push({type:ke.ID,value:tu(a)})}},{name:"className",query:!0,regex:"\\.("+Je.className+")",populate:function(e,r,n){var i=wi(n,1),a=i[0];r.checks.push({type:ke.CLASS,value:tu(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Je.variable+")\\s*\\]",populate:function(e,r,n){var i=wi(n,1),a=i[0];r.checks.push({type:ke.DATA_EXIST,field:tu(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Je.variable+")\\s*("+Je.comparatorOp+")\\s*("+Je.value+")\\s*\\]",populate:function(e,r,n){var i=wi(n,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+Je.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:ke.DATA_COMPARE,field:tu(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Je.boolOp+")\\s*("+Je.variable+")\\s*\\]",populate:function(e,r,n){var i=wi(n,2),a=i[0],s=i[1];r.checks.push({type:ke.DATA_BOOL,field:tu(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Je.meta+")\\s*("+Je.comparatorOp+")\\s*("+Je.number+")\\s*\\]\\]",populate:function(e,r,n){var i=wi(n,3),a=i[0],s=i[1],o=i[2];r.checks.push({type:ke.META_COMPARE,field:tu(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Je.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=ht();return o}},{name:"directedEdge",separator:!0,regex:Je.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=r,a=ht();return n.checks.push({type:ke.DIRECTED_EDGE,source:i,target:a}),ws(e,r,n),e.edgeCount++,a}else{var s=ht(),o=r,l=ht();return s.checks.push({type:ke.NODE_SOURCE,source:o,target:l}),ws(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Je.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=r,a=ht();return n.checks.push({type:ke.UNDIRECTED_EDGE,nodes:[i,a]}),ws(e,r,n),e.edgeCount++,a}else{var s=ht(),o=r,l=ht();return s.checks.push({type:ke.NODE_NEIGHBOR,node:o,neighbor:l}),ws(e,r,s),l}}},{name:"child",separator:!0,regex:Je.child,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=ht(),a=e[e.length-1];return n.checks.push({type:ke.CHILD,parent:a,child:i}),ws(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=ht(),o=e[e.length-1],l=ht(),u=ht(),c=ht(),h=ht();return s.checks.push({type:ke.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:ke.TRUE}],h.checks.push({type:ke.TRUE}),l.checks.push({type:ke.PARENT,parent:h,child:c}),ws(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var d=ht(),f=ht(),p=[{type:ke.PARENT,parent:d,child:f}];return d.checks=r.checks,r.checks=p,e.compoundCount++,f}}},{name:"descendant",separator:!0,regex:Je.descendant,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=ht(),a=e[e.length-1];return n.checks.push({type:ke.DESCENDANT,ancestor:a,descendant:i}),ws(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=ht(),o=e[e.length-1],l=ht(),u=ht(),c=ht(),h=ht();return s.checks.push({type:ke.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:ke.TRUE}],h.checks.push({type:ke.TRUE}),l.checks.push({type:ke.ANCESTOR,ancestor:h,descendant:c}),ws(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var d=ht(),f=ht(),p=[{type:ke.ANCESTOR,ancestor:d,descendant:f}];return d.checks=r.checks,r.checks=p,e.compoundCount++,f}}},{name:"subject",modifier:!0,regex:Je.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ot("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===ke.DIRECTED_EDGE?i.type=ke.NODE_TARGET:a===ke.UNDIRECTED_EDGE&&(i.type=ke.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];MT.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Lge=function(e){for(var r,n,i,a=0;a<MT.length;a++){var s=MT[a],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,i=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},Bge=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},Fge=function(e){var r=this,n=r.inputText=e,i=r[0]=ht();for(r.length=1,n=Bge(n);;){var a=Lge(n);if(a.expr==null)return ot("The selector `"+e+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(r,i,s);if(o===!1)return!1;if(o!=null&&(i=o),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return ot("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return ot("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&ot("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},zge=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return ze(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,h){var d=c.type,f=c.value;switch(d){case ke.GROUP:{var p=e(f);return p.substring(0,p.length-1)}case ke.DATA_COMPARE:{var g=c.field,m=c.operator;return"["+g+n(e(m))+r(f)+"]"}case ke.DATA_BOOL:{var v=c.operator,y=c.field;return"["+e(v)+y+"]"}case ke.DATA_EXIST:{var b=c.field;return"["+b+"]"}case ke.META_COMPARE:{var x=c.operator,w=c.field;return"[["+w+n(e(x))+r(f)+"]]"}case ke.STATE:return f;case ke.ID:return"#"+f;case ke.CLASS:return"."+f;case ke.PARENT:case ke.CHILD:return a(c.parent,h)+n(">")+a(c.child,h);case ke.ANCESTOR:case ke.DESCENDANT:return a(c.ancestor,h)+" "+a(c.descendant,h);case ke.COMPOUND_SPLIT:{var E=a(c.left,h),_=a(c.subject,h),T=a(c.right,h);return E+(E.length>0?" ":"")+_+T}case ke.TRUE:return""}},a=function(c,h){return c.checks.reduce(function(d,f,p){return d+(h===c&&p===0?"$":"")+i(f,h)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},jge={parse:Fge,toString:zge},FG=function(e,r,n){var i,a=ze(e),s=Ce(e),o=ze(n),l,u,c=!1,h=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||o||c)&&(l=!a&&!s?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":d=!0,i=e>n;break;case">=":d=!0,i=e>=n;break;case"<":d=!0,i=e<n;break;case"<=":d=!0,i=e<=n;break;default:i=!1;break}return h&&(e!=null||!d)&&(i=!i),i},Uge=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},$ge=function(e){return e!==void 0},GR=function(e,r){return e.data(r)},Gge=function(e,r){return e[r]()},Gt=[],Tt=function(e,r){return e.checks.every(function(n){return Gt[n.type](n,r)})};Gt[ke.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Gt[ke.STATE]=function(t,e){var r=t.value;return Oge(r,e)};Gt[ke.ID]=function(t,e){var r=t.value;return e.id()===r};Gt[ke.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Gt[ke.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return FG(Gge(e,r),n,i)};Gt[ke.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return FG(GR(e,r),n,i)};Gt[ke.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Uge(GR(e,r),n)};Gt[ke.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,$ge(GR(e,r))};Gt[ke.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return Tt(r,i)&&Tt(n,a)||Tt(n,i)&&Tt(r,a)};Gt[ke.NODE_NEIGHBOR]=function(t,e){return Tt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Tt(t.neighbor,r)})};Gt[ke.DIRECTED_EDGE]=function(t,e){return Tt(t.source,e.source())&&Tt(t.target,e.target())};Gt[ke.NODE_SOURCE]=function(t,e){return Tt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Tt(t.target,r)})};Gt[ke.NODE_TARGET]=function(t,e){return Tt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Tt(t.source,r)})};Gt[ke.CHILD]=function(t,e){return Tt(t.child,e)&&Tt(t.parent,e.parent())};Gt[ke.PARENT]=function(t,e){return Tt(t.parent,e)&&e.children().some(function(r){return Tt(t.child,r)})};Gt[ke.DESCENDANT]=function(t,e){return Tt(t.descendant,e)&&e.ancestors().some(function(r){return Tt(t.ancestor,r)})};Gt[ke.ANCESTOR]=function(t,e){return Tt(t.ancestor,e)&&e.descendants().some(function(r){return Tt(t.descendant,r)})};Gt[ke.COMPOUND_SPLIT]=function(t,e){return Tt(t.subject,e)&&Tt(t.left,e)&&Tt(t.right,e)};Gt[ke.TRUE]=function(){return!0};Gt[ke.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Gt[ke.FILTER]=function(t,e){var r=t.value;return r(e)};var Hge=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ke.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var s=0;s<r.length;s++){var o=r[s];if(Tt(o,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Vge=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Tt(i,e))return!0}return!1},Wge={matches:Vge,filter:Hge},co=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||ze(e)&&e.match(/^\s*$/)||(Mn(e)?this.addQuery({checks:[{type:ke.COLLECTION,value:e.collection()}]}):Nt(e)?this.addQuery({checks:[{type:ke.FILTER,value:e}]}):ze(e)?this.parse(e)||(this.invalid=!0):$t("A selector must be created from a string; found "))},ho=co.prototype;[jge,Wge].forEach(function(t){return Ge(ho,t)});ho.text=function(){return this.inputText};ho.size=function(){return this.length};ho.eq=function(t){return this[t]};ho.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};ho.addQuery=function(t){this[this.length++]=t};ho.selector=ho.toString;var eo={allAre:function(e){var r=new co(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new co(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};eo.allAreNeighbours=eo.allAreNeighbors;eo.has=eo.contains;eo.equal=eo.equals=eo.same;var Qn=function(e,r){return function(i,a,s,o){var l=i,u=this,c;if(l==null?c="":Mn(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var h=u[0]._private,d=h.traversalCache=h.traversalCache||{},f=d[r]=d[r]||[],p=_l(c),g=f[p];return g||(f[p]=e.call(u,i,a,s,o))}else return e.call(u,i,a,s,o)}},_c={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Qn(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var s=i[a];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function HR(t,e,r,n){for(var i=[],a=new zc,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):o&&n(i,a,u)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),o&&n(i,a,c)}return t}function zG(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}_c.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return HR(this,t,e,zG)};function jG(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}_c.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return HR(this,t,e,jG)};function qge(t,e,r){jG(t,e,r),zG(t,e,r)}_c.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return HR(this,t,e,qge)};_c.ancestors=_c.parents;var Kd,UG;Kd=UG={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:st.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:st.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Kd.attr=Kd.data;Kd.removeAttr=Kd.removeData;var Xge=UG,_y={};function z1(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(n+=t(i,o))}return n}else return}}Ge(_y,{degree:z1(function(t,e){return e.source().same(e.target())?2:1}),indegree:z1(function(t,e){return e.target().same(t)?1:0}),outdegree:z1(function(t,e){return e.source().same(t)?1:0})});function ru(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}Ge(_y,{minDegree:ru("degree",function(t,e){return t<e}),maxDegree:ru("degree",function(t,e){return t>e}),minIndegree:ru("indegree",function(t,e){return t<e}),maxIndegree:ru("indegree",function(t,e){return t>e}),minOutdegree:ru("outdegree",function(t,e){return t<e}),maxOutdegree:ru("outdegree",function(t,e){return t>e})});Ge(_y,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Bi,$G,GG=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var s=a._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},_O={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){GG(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Bi=$G={position:st.data(_O),silentPosition:st.data(Ge({},_O,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){GG(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(tt(e))r?this.silentPosition(e):this.position(e);else if(Nt(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=n(s,a))&&(r?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(tt(e)?(i={x:Ce(e.x)?e.x:0,y:Ce(e.y)?e.y:0},n=r):ze(e)&&Ce(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};n?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return tt(e)?this.shift(e,!0):ze(e)&&Ce(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=tt(e)?e:void 0,l=o!==void 0||r!==void 0&&ze(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-s[e])/a):o!==void 0&&c.position(vG(o,a,s))}else{var h=n.position();return o=gy(h,a,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=tt(e)?e:void 0,s=a!==void 0||r!==void 0&&ze(e),o=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],c=o?u.parent():null,h=c&&c.length>0,d=h;h&&(c=c[0]);var f=d?c.position():{x:0,y:0};r!==void 0?u.position(e,r+f[e]):a!==void 0&&u.position({x:a.x+f.x,y:a.y+f.y})}else{var p=n.position(),g=o?n.parent():null,m=g&&g.length>0,v=m;m&&(g=g[0]);var y=v?g.position():{x:0,y:0};return a={x:p.x-y.x,y:p.y-y.y},e===void 0?a:a[e]}else if(!s)return;return this}};Bi.modelPosition=Bi.point=Bi.position;Bi.modelPositions=Bi.points=Bi.positions;Bi.renderedPoint=Bi.renderedPosition;Bi.relativePoint=Bi.relativePosition;var Yge=$G,tc,So;tc=So={};So.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,s=e.x2*n+i.x,o=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}};So.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};So.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},h=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=o.position;(h.w===0||h.h===0)&&(h={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},h.x1=d.x-h.w/2,h.x2=d.x+h.w/2,h.y1=d.y-h.h/2,h.y2=d.y+h.h/2);function f(C,P,M){var R=0,I=0,S=P+M;return C>0&&S>0&&(R=P/S*C,I=M/S*C),{biasDiff:R,biasComplementDiff:I}}function p(C,P,M,R){if(M.units==="%")switch(R){case"width":return C>0?M.pfValue*C:0;case"height":return P>0?M.pfValue*P:0;case"average":return C>0&&P>0?M.pfValue*(C+P)/2:0;case"min":return C>0&&P>0?C>P?M.pfValue*P:M.pfValue*C:0;case"max":return C>0&&P>0?C>P?M.pfValue*C:M.pfValue*P:0;default:return 0}else return M.units==="px"?M.pfValue:0}var g=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var m=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(m=m*100/c.width.val);var v=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(v=v*100/c.height.val);var y=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var b=f(c.width.val-h.w,g,m),x=b.biasDiff,w=b.biasComplementDiff,E=f(c.height.val-h.h,v,y),_=E.biasDiff,T=E.biasComplementDiff;o.autoPadding=p(h.w,h.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(h.w,c.width.val),d.x=(-x+h.x1+h.x2+w)/2,o.autoHeight=Math.max(h.h,c.height.val),d.y=(-_+h.y1+h.y2+T)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var qn=function(e){return e===1/0||e===-1/0?0:e},Ei=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},$o=function(e,r){return r==null?e:Ei(e,r.x1,r.y1,r.x2,r.y2)},Sh=function(e,r,n){return Ai(e,r,n)},Hp=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,s=a.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},h=c[n]=c[n]||{};h.x1=l-s,h.y1=u-s,h.x2=l+s,h.y2=u+s,h.w=h.x2-h.x1,h.h=h.y2-h.y1,Ev(h,1),Ei(e,h.x1,h.y1,h.x2,h.y2)}}},j1=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,s=a.rstyle,o=r.pstyle(i+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=Sh(s,"labelWidth",n),h=Sh(s,"labelHeight",n),d=Sh(s,"labelX",n),f=Sh(s,"labelY",n),p=r.pstyle(i+"text-margin-x").pfValue,g=r.pstyle(i+"text-margin-y").pfValue,m=r.isEdge(),v=r.pstyle(i+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,x=b/2,w=r.pstyle("text-background-padding").pfValue,E=2,_=h,T=c,C=T/2,P=_/2,M,R,I,S;if(m)M=d-C,R=d+C,I=f-P,S=f+P;else{switch(l.value){case"left":M=d-T,R=d;break;case"center":M=d-C,R=d+C;break;case"right":M=d,R=d+T;break}switch(u.value){case"top":I=f-_,S=f;break;case"center":I=f-P,S=f+P;break;case"bottom":I=f,S=f+_;break}}var B=p-Math.max(y,x)-w-E,L=p+Math.max(y,x)+w+E,N=g-Math.max(y,x)-w-E,F=g+Math.max(y,x)+w+E;M+=B,R+=L,I+=N,S+=F;var z=n||"main",$=a.labelBounds,O=$[z]=$[z]||{};O.x1=M,O.y1=I,O.x2=R,O.y2=S,O.w=R-M,O.h=S-I,O.leftPad=B,O.rightPad=L,O.topPad=N,O.botPad=F;var j=m&&v.strValue==="autorotate",J=v.pfValue!=null&&v.pfValue!==0;if(j||J){var H=j?Sh(a.rstyle,"labelAngle",n):v.pfValue,V=Math.cos(H),X=Math.sin(H),te=(M+R)/2,Q=(I+S)/2;if(!m){switch(l.value){case"left":te=R;break;case"right":te=M;break}switch(u.value){case"top":Q=S;break;case"bottom":Q=I;break}}var Y=function(U,G){return U=U-te,G=G-Q,{x:U*V-G*X+te,y:U*X+G*V+Q}},ae=Y(M,I),se=Y(M,S),ve=Y(R,I),ge=Y(R,S);M=Math.min(ae.x,se.x,ve.x,ge.x),R=Math.max(ae.x,se.x,ve.x,ge.x),I=Math.min(ae.y,se.y,ve.y,ge.y),S=Math.max(ae.y,se.y,ve.y,ge.y)}var k=z+"Rot",K=$[k]=$[k]||{};K.x1=M,K.y1=I,K.x2=R,K.y2=S,K.w=R-M,K.h=S-I,Ei(e,M,I,R,S),Ei(a.labelBounds.all,M,I,R,S)}return e}},Kge=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var a=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=i+a,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,c=0,h=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,h=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,h=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,h=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,h=-o*.5);var d=e.h*u-e.h,f=e.w*l-e.w;if(Sv(e,[Math.ceil(d/2),Math.ceil(f/2)]),c!=0||h!==0){var p=gpe(e,c,h);gG(e,p)}}}},Zge=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),s=En(),o=e._private,l=e.isNode(),u=e.isEdge(),c,h,d,f,p,g,m=o.rstyle,v=l&&i?e.pstyle("bounds-expansion").pfValue:[0],y=function(ne){return ne.pstyle("display").value!=="none"},b=!i||y(e)&&(!u||y(e.source())&&y(e.target()));if(b){var x=0,w=0;i&&r.includeOverlays&&(x=e.pstyle("overlay-opacity").value,x!==0&&(w=e.pstyle("overlay-padding").value));var E=0,_=0;i&&r.includeUnderlays&&(E=e.pstyle("underlay-opacity").value,E!==0&&(_=e.pstyle("underlay-padding").value));var T=Math.max(w,_),C=0,P=0;if(i&&(C=e.pstyle("width").pfValue,P=C/2),l&&r.includeNodes){var M=e.position();p=M.x,g=M.y;var R=e.outerWidth(),I=R/2,S=e.outerHeight(),B=S/2;c=p-I,h=p+I,d=g-B,f=g+B,Ei(s,c,d,h,f),i&&r.includeOutlines&&Kge(s,e)}else if(u&&r.includeEdges)if(i&&!a){var L=e.pstyle("curve-style").strValue;if(c=Math.min(m.srcX,m.midX,m.tgtX),h=Math.max(m.srcX,m.midX,m.tgtX),d=Math.min(m.srcY,m.midY,m.tgtY),f=Math.max(m.srcY,m.midY,m.tgtY),c-=P,h+=P,d-=P,f+=P,Ei(s,c,d,h,f),L==="haystack"){var N=m.haystackPts;if(N&&N.length===2){if(c=N[0].x,d=N[0].y,h=N[1].x,f=N[1].y,c>h){var F=c;c=h,h=F}if(d>f){var z=d;d=f,f=z}Ei(s,c-P,d-P,h+P,f+P)}}else if(L==="bezier"||L==="unbundled-bezier"||L.endsWith("segments")||L.endsWith("taxi")){var $;switch(L){case"bezier":case"unbundled-bezier":$=m.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=m.linePts;break}if($!=null)for(var O=0;O<$.length;O++){var j=$[O];c=j.x-P,h=j.x+P,d=j.y-P,f=j.y+P,Ei(s,c,d,h,f)}}}else{var J=e.source(),H=J.position(),V=e.target(),X=V.position();if(c=H.x,h=X.x,d=H.y,f=X.y,c>h){var te=c;c=h,h=te}if(d>f){var Q=d;d=f,f=Q}c-=P,h+=P,d-=P,f+=P,Ei(s,c,d,h,f)}if(i&&r.includeEdges&&u&&(Hp(s,e,"mid-source"),Hp(s,e,"mid-target"),Hp(s,e,"source"),Hp(s,e,"target")),i){var Y=e.pstyle("ghost").value==="yes";if(Y){var ae=e.pstyle("ghost-offset-x").pfValue,se=e.pstyle("ghost-offset-y").pfValue;Ei(s,s.x1+ae,s.y1+se,s.x2+ae,s.y2+se)}}var ve=o.bodyBounds=o.bodyBounds||{};tO(ve,s),Sv(ve,v),Ev(ve,1),i&&(c=s.x1,h=s.x2,d=s.y1,f=s.y2,Ei(s,c-T,d-T,h+T,f+T));var ge=o.overlayBounds=o.overlayBounds||{};tO(ge,s),Sv(ge,v),Ev(ge,1);var k=o.labelBounds=o.labelBounds||{};k.all!=null?mpe(k.all):k.all=En(),i&&r.includeLabels&&(r.includeMainLabels&&j1(s,e,null),u&&(r.includeSourceLabels&&j1(s,e,"source"),r.includeTargetLabels&&j1(s,e,"target")))}return s.x1=qn(s.x1),s.y1=qn(s.y1),s.x2=qn(s.x2),s.y2=qn(s.y2),s.w=qn(s.x2-s.x1),s.h=qn(s.y2-s.y1),s.w>0&&s.h>0&&b&&(Sv(s,v),Ev(s,1)),s},HG=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},VG=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(s){return Math.round(s)};return Bfe([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},EO=function(e,r){var n=e._private,i,a=e.isEdge(),s=r==null?SO:HG(r),o=s===SO,l=VG(e),u=n.bbCachePosKey===l,c=r.useCache&&u,h=function(g){return g._private.bbCache==null||g._private.styleDirty},d=!c||h(e)||a&&(h(e.source())||h(e.target()));if(d?(u||e.recalculateRenderedStyle(c),i=Zge(e,Zd),n.bbCache=i,n.bbCachePosKey=l):i=n.bbCache,!o){var f=e.isNode();i=En(),(r.includeNodes&&f||r.includeEdges&&!f)&&(r.includeOverlays?$o(i,n.overlayBounds):$o(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?$o(i,n.labelBounds.all):(r.includeMainLabels&&$o(i,n.labelBounds.mainRot),r.includeSourceLabels&&$o(i,n.labelBounds.sourceRot),r.includeTargetLabels&&$o(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Zd={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},SO=HG(Zd),CO=Mr(Zd);So.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Zd:t=CO(t),e=EO(this[0],t);else{e=En(),t=t||Zd;var r=CO(t),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var s=0;s<n.length;s++){var o=n[s],l=o._private,u=VG(o),c=l.bbCachePosKey===u,h=r.useCache&&c&&!l.styleDirty;o.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var d=0;d<n.length;d++){var f=n[d];$o(e,EO(f,r))}}return e.x1=qn(e.x1),e.y1=qn(e.y1),e.x2=qn(e.x2),e.y2=qn(e.y2),e.w=qn(e.x2-e.x1),e.h=qn(e.y2-e.y1),e};So.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};So.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),tt(t)){var a=t;t=function(){return a}}var s=function(c,h){return c._private.bbAtOldPos=t(c,h)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=vpe(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};tc.boundingbox=tc.bb=tc.boundingBox;tc.renderedBoundingbox=tc.renderedBoundingBox;var Qge=So,Uh,If;Uh=If={};var WG=function(e){e.uppercaseName=XD(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=XD(e.outerName),Uh[e.name]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},Uh["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return o+l+u}else return 1},Uh["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Uh["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};WG({name:"width"});WG({name:"height"});If.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};If.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};If.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Jge=If,eye=function(e,r){if(e.isEdge())return r(e)},tye=function(e,r){if(e.isEdge()){var n=e.cy();return gy(r(e),n.zoom(),n.pan())}},rye=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(s){return gy(s,a,i)})}},nye=function(e){return e.renderer().getControlPoints(e)},iye=function(e){return e.renderer().getSegmentPoints(e)},aye=function(e){return e.renderer().getSourceEndpoint(e)},sye=function(e){return e.renderer().getTargetEndpoint(e)},oye=function(e){return e.renderer().getEdgeMidpoint(e)},TO={controlPoints:{get:nye,mult:!0},segmentPoints:{get:iye,mult:!0},sourceEndpoint:{get:aye},targetEndpoint:{get:sye},midpoint:{get:oye}},lye=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},uye=Object.keys(TO).reduce(function(t,e){var r=TO[e],n=lye(e);return t[e]=function(){return eye(this,r.get)},r.mult?t[n]=function(){return rye(this,r.get)}:t[n]=function(){return tye(this,r.get)},t},{}),cye=Ge({},Yge,Qge,Jge,uye);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var qG=function(e,r){this.recycle(e,r)};function Ch(){return!1}function Vp(){return!0}qG.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ch,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Vp:Ch):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Vp;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Vp;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Vp,this.stopPropagation()},isDefaultPrevented:Ch,isPropagationStopped:Ch,isImmediatePropagationStopped:Ch};var XG=/^([^.]+)(\.(?:[^.]+))?$/,hye=".*",YG={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},AO=Object.keys(YG),dye={};function Ey(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dye,e=arguments.length>1?arguments[1]:void 0,r=0;r<AO.length;r++){var n=AO[r];this[n]=t[n]||YG[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var fo=Ey.prototype,KG=function(e,r,n,i,a,s,o){Nt(i)&&(a=i,i=null),o&&(s==null?s=o:s=Ge({},s,o));for(var l=mt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!lo(c)){var h=c.match(XG);if(h){var d=h[1],f=h[2]?h[2]:null,p=r(e,c,d,f,i,a,s);if(p===!1)break}}}},RO=function(e,r){return e.addEventFields(e.context,r),new qG(r.type,r)},fye=function(e,r,n){if(Dde(n)){r(e,n);return}else if(tt(n)){r(e,RO(e,n));return}for(var i=mt(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!lo(s)){var o=s.match(XG);if(o){var l=o[1],u=o[2]?o[2]:null,c=RO(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};fo.on=fo.addListener=function(t,e,r,n,i){return KG(this,function(a,s,o,l,u,c,h){Nt(c)&&a.listeners.push({event:s,callback:c,type:o,namespace:l,qualifier:u,conf:h})},t,e,r,n,i),this};fo.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};fo.removeListener=fo.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=$fe(this.listeners));for(var a=this.listeners,s=function(u){var c=a[u];KG(i,function(h,d,f,p,g,m){if((c.type===f||t==="*")&&(!p&&c.namespace!==".*"||c.namespace===p)&&(!g||h.qualifierCompare(c.qualifier,g))&&(!m||c.callback===m))return a.splice(u,1),!1},t,e,r,n)},o=a.length-1;o>=0;o--)s(o);return this};fo.removeAllListeners=function(){return this.removeListener("*")};fo.emit=fo.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,mt(e)||(e=[e]),fye(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=function(c){var h=n[c];if(h.type===s.type&&(!h.namespace||h.namespace===s.namespace||h.namespace===hye)&&a.eventMatches(a.context,h,s)){var d=[s];e!=null&&Hfe(d,e),a.beforeEmit(a.context,h,s),h.conf&&h.conf.one&&(a.listeners=a.listeners.filter(function(g){return g!==h}));var f=a.callbackContext(a.context,h,s),p=h.callback.apply(f,d);a.afterEmit(a.context,h,s),p===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o(l);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};var pye={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Af(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Wp=function(e){return ze(e)?new co(e):e},ZG={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Ey(pye,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Wp(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Wp(r),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Wp(r),a=0;a<this.length;a++){var s=this[a];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Wp(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};st.eventAliasesOn(ZG);var QG={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(ze(e)||Mn(e))return new co(e).filter(this);if(Nt(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){ze(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(ze(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,s=this.length<e.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var c=o[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;ze(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,s=function(l,u){for(var c=0;c<l.length;c++){var h=l[c],d=h._private.data.id,f=u.hasElementWithId(d);f||n.push(h)}};return s(i,a),s(a,i),n},diff:function(e){var r=this._private.cy;ze(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=e,l=function(c,h,d){for(var f=0;f<c.length;f++){var p=c[f],g=p._private.data.id,m=h.hasElementWithId(g);m?a.merge(p):d.push(p)}};return l(s,o,n),l(o,s,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(ze(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var s=e[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&ze(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=o,a.set(l,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&ze(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);n.push(o)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l>n&&(n=l,i=o)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l<n&&(n=l,i=o)}return{value:n,ele:i}}},it=QG;it.u=it["|"]=it["+"]=it.union=it.or=it.add;it["\\"]=it["!"]=it["-"]=it.difference=it.relativeComplement=it.subtract=it.not;it.n=it["&"]=it["."]=it.and=it.intersection=it.intersect;it["^"]=it["(+)"]=it["(-)"]=it.symmetricDifference=it.symdiff=it.xor;it.fnFilter=it.filterFn=it.stdFilter=it.filter;it.complement=it.abscomp=it.absoluteComplement;var vye={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},JG=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(c){var h=c.pstyle("z-compound-depth");return h.value==="auto"?i?c.zDepth():0:h.value==="bottom"?-1:h.value==="top"?DR:0}var s=a(e)-a(r);if(s!==0)return s;function o(c){var h=c.pstyle("z-index-compare");return h.value==="auto"&&c.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},Vm={forEach:function(e,r){if(Nt(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],s=r?e.apply(r,[a,i,this]):e(a,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Nt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(JG)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:DR-1}else{var a=r.source,s=r.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};Vm.each=Vm.forEach;var mye=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":or(Symbol))!=e&&or(Symbol.iterator)!=e;r&&(Vm[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,s=this.length;return Y8({next:function(){return a<s?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};mye();var gye=Mr({nodeDimensionsIncludeLabels:!1}),Tv={layoutDimensions:function(e){e=gye(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(w){return!w.isParent()}),a=this.cy(),s=r.eles,o=function(E){return E.id()},l=Gd(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(E,_,T){var C={x:_.x1+_.w/2,y:_.y1+_.h/2},P={x:(T.x-C.x)*E,y:(T.y-C.y)*E};return{x:C.x+P.x,y:C.y+P.y}},c=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!c)return null;for(var E=En(),_=0;_<i.length;_++){var T=i[_],C=l(T,_);ype(E,C.x,C.y)}return E},d=h(),f=Gd(function(w,E){var _=l(w,E);if(c){var T=Math.abs(r.spacingFactor);_=u(T,d,_)}return r.transform!=null&&(_=r.transform(w,_)),_},o);if(r.animate){for(var p=0;p<i.length;p++){var g=i[p],m=f(g,p),v=r.animateFilter==null||r.animateFilter(g,p);if(v){var y=g.animation({position:m,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else g.position(m)}if(r.fit){var b=a.animation({fit:{boundingBox:s.boundingBoxAt(f),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var x=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}e.animations.forEach(function(w){return w.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),jc.all(e.animations.map(function(w){return w.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(f),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ge({},e,{eles:this}))}};Tv.createLayout=Tv.makeLayout=Tv.layout;function eH(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function Sy(t,e){return t=_l(t),function(n){return eH(t,e,n)}}function Cy(t,e){t=_l(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return eH(t,r,i)}}var Rr={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return e?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(tt(e)){var s=e;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(ze(e))if(r===void 0){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function U1(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function VR(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||U1(a,n);var l=o.source,u=o.target;return r(l)&&(!s||U1(l,r))&&(l===u||r(u)&&(!s||U1(u,r)))}}}var Hc=Sy("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Rr.takesUpSpace=Cy("takesUpSpace",VR({ok:Hc}));var yye=Sy("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Hc(t)}),bye=Sy("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Hc(t)});Rr.interactive=Cy("interactive",VR({ok:yye,parentOk:bye,edgeOkViaNode:Hc}));Rr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var xye=Sy("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Hc(t)}),wye=Hc;Rr.visible=Cy("visible",VR({ok:xye,edgeOkViaNode:wye}));Rr.hidden=function(){var t=this[0];if(t)return!t.visible()};Rr.isBundledBezier=Cy("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Rr.bypass=Rr.css=Rr.style;Rr.renderedCss=Rr.renderedStyle;Rr.removeBypass=Rr.removeCss=Rr.removeStyle;Rr.pstyle=Rr.parsedStyle;var to={};function PO(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Nt(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&mt(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(l);if(h!==void 0&&(u=h,!h))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function Vc(t){to[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},to[t.on]=PO({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),to[t.off]=PO({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Vc({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Vc({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Vc({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Vc({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});to.deselect=to.unselect;to.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Vc({field:"active",on:"activate",off:"unactivate"});Vc({field:"pannable",on:"panify",off:"unpanify"});to.inactive=function(){var t=this[0];if(t)return!t._private.active};var Gr={},IO=function(e){return function(n){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),c=0;c<u.length;c++){var h=u[c],d=h.source(),f=h.target();if(e.noIncomingEdges&&f===o&&d!==o||e.noOutgoingEdges&&d===o&&f!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(n)}},kO=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var s=n[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),h=u.target();e.outgoing&&c===s?(i.push(u),i.push(h)):e.incoming&&h===s&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(r)}},MO=function(e){return function(r){for(var n=this,i=[],a={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],c=u.id();a[c]||(a[c]=!0,i.push(u),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(r)}};Gr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ge(Gr,{roots:IO({noIncomingEdges:!0}),leaves:IO({noOutgoingEdges:!0}),outgoers:Qn(kO({outgoing:!0}),"outgoers"),successors:MO({outgoing:!0}),incomers:Qn(kO({incoming:!0}),"incomers"),predecessors:MO({incoming:!0})});Ge(Gr,{neighborhood:Qn(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Gr.neighbourhood=Gr.neighborhood;Gr.closedNeighbourhood=Gr.closedNeighborhood;Gr.openNeighbourhood=Gr.openNeighborhood;Ge(Gr,{source:Qn(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Qn(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:DO({attr:"source"}),targets:DO({attr:"target"})});function DO(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],s=a._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}Ge(Gr,{edgesWith:Qn(OO(),"edgesWith"),edgesTo:Qn(OO({thisIsSrc:!0}),"edgesTo")});function OO(t){return function(r){var n=[],i=this._private.cy,a=t||{};ze(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],c=u._private.data,h=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),d=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),f=h||d;f&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!h||a.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}Ge(Gr,{connectedEdges:Qn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Qn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Qn(NO(),"parallelEdges"),codirectedEdges:Qn(NO({codirected:!0}),"codirectedEdges")});function NO(t){var e={codirected:!1};return t=Ge({},e,t),function(n){for(var i=[],a=this.edges(),s=t,o=0;o<a.length;o++)for(var l=a[o],u=l._private,c=u.source,h=c._private.data.id,d=u.data.target,f=c._private.edges,p=0;p<f.length;p++){var g=f[p],m=g._private.data,v=m.target,y=m.source,b=v===d&&y===h,x=h===v&&d===y;(s.codirected&&b||!s.codirected&&(b||x))&&i.push(g)}return this.spawn(i,!0).filter(n)}}Ge(Gr,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),s=[];e!=null&&a.empty()&&(a=e.sources());var o=function(c,h){i.merge(c),a.unmerge(c),h.merge(c)};if(a.empty())return r.spawn();var l=function(){var c=n.collection();s.push(c);var h=a[0];o(h,c),r.bfs({directed:!1,roots:h,visit:function(f){return o(f,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(f){r.has(f)&&c.has(f.source())&&c.has(f.target())&&c.merge(f)})})};do l();while(a.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Gr.componentsOf=Gr.components;var Pr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){$t("A collection must have a reference to the core");return}var a=new va,s=!1;if(!r)r=[];else if(r.length>0&&tt(r[0])&&!Af(r[0])){s=!0;for(var o=[],l=new zc,u=0,c=r.length;u<c;u++){var h=r[u];h.data==null&&(h.data={});var d=h.data;if(d.id==null)d.id=fG();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var f=new my(e,h,!1);o.push(f),l.add(d.id)}r=o}this.length=0;for(var p=0,g=r.length;p<g;p++){var m=r[p][0];if(m!=null){var v=m._private.data.id;(!n||!a.has(v))&&(n&&a.set(v,{index:this.length,ele:m}),this[this.length]=m,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new va,x=this.eles,w=0;w<x.length;w++){var E=x[w];b.set(E.id(),{index:w,ele:E})}}},n&&(this._private.map=a),s&&!i&&this.restore()},wt=my.prototype=Pr.prototype=Object.create(Array.prototype);wt.instanceString=function(){return"collection"};wt.spawn=function(t,e){return new Pr(this.cy(),t,e)};wt.spawnSelf=function(){return this.spawn(this)};wt.cy=function(){return this._private.cy};wt.renderer=function(){return this._private.cy.renderer()};wt.element=function(){return this[0]};wt.collection=function(){return J8(this)?this:new Pr(this._private.cy,[this])};wt.unique=function(){return new Pr(this._private.cy,this,!0)};wt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};wt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Pr(e)};wt.$id=wt.getElementById;wt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};wt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};wt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};wt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(tt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var h=function(g,m,v){var y=t[g];y!=null&&y!==n[g]&&(y?e[m]():e[v]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:pa(n.data),position:pa(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var f=0;return n.classes.forEach(function(p){return d.classes+=f++===0?p:" "+p}),d}}};wt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};wt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new my(t,i,!1);e.push(a)}return new Pr(t,e)};wt.copy=wt.clone;wt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],o,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?a.push(c):s.push(c))}o=a.concat(s);var h,d=function(){o.splice(h,1),h--};for(h=0;h<o.length;h++){var f=o[h],p=f._private,g=p.data;if(f.clearTraversalCache(),!(!e&&!p.removed)){if(g.id===void 0)g.id=fG();else if(Ce(g.id))g.id=""+g.id;else if(lo(g.id)||!ze(g.id)){$t("Can not create element with invalid string ID `"+g.id+"`"),d();continue}else if(n.hasElementWithId(g.id)){$t("Can not create second element with ID `"+g.id+"`"),d();continue}}var m=g.id;if(f.isNode()){var v=p.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(f.isEdge()){for(var y=f,b=["source","target"],x=b.length,w=!1,E=0;E<x;E++){var _=b[E],T=g[_];Ce(T)&&(T=g[_]=""+g[_]),T==null||T===""?($t("Can not create edge `"+m+"` with unspecified "+_),w=!0):n.hasElementWithId(T)||($t("Can not create edge `"+m+"` with nonexistant "+_+" `"+T+"`"),w=!0)}if(w){d();continue}var C=n.getElementById(g.source),P=n.getElementById(g.target);C.same(P)?C._private.edges.push(y):(C._private.edges.push(y),P._private.edges.push(y)),y._private.source=C,y._private.target=P}p.map=new va,p.map.set(m,{ele:f,index:0}),p.removed=!1,e&&n.addToPool(f)}for(var M=0;M<a.length;M++){var R=a[M],I=R._private.data;Ce(I.parent)&&(I.parent=""+I.parent);var S=I.parent,B=S!=null;if(B||R._private.parent){var L=R._private.parent?n.collection().merge(R._private.parent):n.getElementById(S);if(L.empty())I.parent=void 0;else if(L[0].removed())ot("Node added with missing parent, reference to parent removed"),I.parent=void 0,R._private.parent=null;else{for(var N=!1,F=L;!F.empty();){if(R.same(F)){N=!0,I.parent=void 0;break}F=F.parent()}N||(L[0]._private.children.push(R),R._private.parent=L[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var z=o.length===r.length?r:new Pr(n,o),$=0;$<z.length;$++){var O=z[$];O.isNode()||(O.parallelEdges().clearTraversalCache(),O.source().clearTraversalCache(),O.target().clearTraversalCache())}var j;i.hasCompoundNodes?j=n.collection().merge(z).merge(z.connectedNodes()).merge(z.parent()):j=z,j.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?z.emitAndNotify("add"):e&&z.emit("add")}return r};wt.removed=function(){var t=this[0];return t&&t._private.removed};wt.inside=function(){var t=this[0];return t&&!t._private.removed};wt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(S){for(var B=S._private.edges,L=0;L<B.length;L++)l(B[L])}function o(S){for(var B=S._private.children,L=0;L<B.length;L++)l(B[L])}function l(S){var B=i[S.id()];e&&S.removed()||B||(i[S.id()]=!0,S.isNode()?(n.push(S),s(S),o(S)):n.unshift(S))}for(var u=0,c=r.length;u<c;u++){var h=r[u];l(h)}function d(S,B){var L=S._private.edges;uo(L,B),S.clearTraversalCache()}function f(S){S.clearTraversalCache()}var p=[];p.ids={};function g(S,B){B=B[0],S=S[0];var L=S._private.children,N=S.id();uo(L,B),B._private.parent=null,p.ids[N]||(p.ids[N]=!0,p.push(S))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var m=0;m<n.length;m++){var v=n[m];if(v.isEdge()){var y=v.source()[0],b=v.target()[0];d(y,v),d(b,v);for(var x=v.parallelEdges(),w=0;w<x.length;w++){var E=x[w];f(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var _=v.parent();_.length!==0&&g(_,v)}e&&(v._private.removed=!0)}var T=a._private.elements;a._private.hasCompoundNodes=!1;for(var C=0;C<T.length;C++){var P=T[C];if(P.isParent()){a._private.hasCompoundNodes=!0;break}}var M=new Pr(this.cy(),n);M.size()>0&&(t?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var R=0;R<p.length;R++){var I=p[R];(!e||!I.removed())&&I.updateStyle()}return M};wt.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var p=r[f],g=p._private.data;p.isEdge()&&(l&&(g.source=s),u&&(g.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=a(t.parent),h=c===null||e.hasElementWithId(c);if(h){var d=c===null?void 0:c;e.batch(function(){var f=r.remove(n,i);f.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var g=r[p],m=g._private.data;g.isNode()&&(m.parent=d)}f.restore(n,i)}),r.emitAndNotify("move")}}return this};[TG,Mge,Cv,eo,_c,Xge,_y,cye,ZG,QG,vye,Vm,Tv,Rr,to,Gr].forEach(function(t){Ge(wt,t)});var _ye={add:function(e){var r,n=this;if(Mn(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}r=new Pr(n,a)}}else if(mt(e)){var l=e;r=new Pr(n,l)}else if(tt(e)&&(mt(e.nodes)||mt(e.edges))){for(var u=e,c=[],h=["nodes","edges"],d=0,f=h.length;d<f;d++){var p=h[d],g=u[p];if(mt(g))for(var m=0,v=g.length;m<v;m++){var y=Ge({group:p},g[m]);c.push(y)}}r=new Pr(n,c)}else{var b=e;r=new my(n,b).collection()}return r},remove:function(e){if(!Mn(e)){if(ze(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Eye(t,e,r,n){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=c?new Float32Array(l):new Array(l);function f(P,M){return 1-3*M+3*P}function p(P,M){return 3*M-6*P}function g(P){return 3*P}function m(P,M,R){return((f(M,R)*P+p(M,R))*P+g(M))*P}function v(P,M,R){return 3*f(M,R)*P*P+2*p(M,R)*P+g(M)}function y(P,M){for(var R=0;R<i;++R){var I=v(M,t,r);if(I===0)return M;var S=m(M,t,r)-P;M-=S/I}return M}function b(){for(var P=0;P<l;++P)d[P]=m(P*u,t,r)}function x(P,M,R){var I,S,B=0;do S=M+(R-M)/2,I=m(S,t,r)-P,I>0?R=S:M=S;while(Math.abs(I)>s&&++B<o);return S}function w(P){for(var M=0,R=1,I=l-1;R!==I&&d[R]<=P;++R)M+=u;--R;var S=(P-d[R])/(d[R+1]-d[R]),B=M+S*u,L=v(B,t,r);return L>=a?y(P,B):L===0?B:x(P,M,M+u)}var E=!1;function _(){E=!0,(t!==e||r!==n)&&b()}var T=function(M){return E||_(),t===e&&r===n?M:M===0?0:M===1?1:m(w(M),e,n)};T.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var C="generateBezier("+[t,e,r,n]+")";return T.toString=function(){return C},T}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Sye=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var a={dx:n.v,dv:t(n)},s=e(n,i*.5,a),o=e(n,i*.5,s),l=e(n,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),c=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+c*i,n}return function n(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,h=16/1e3,d,f,p;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,d=s!==null,d?(u=n(i,a),f=u/s*h):f=h;p=r(p||o,f),l.push(1+p.x),u+=16,Math.abs(p.x)>c&&Math.abs(p.v)>c;);return d?function(g){return l[g*(l.length-1)|0]}:u}}(),yt=function(e,r,n,i){var a=Eye(e,r,n,i);return function(s,o,l){return s+(o-s)*a(l)}},Av={linear:function(e,r,n){return e+(r-e)*n},ease:yt(.25,.1,.25,1),"ease-in":yt(.42,0,1,1),"ease-out":yt(0,0,.58,1),"ease-in-out":yt(.42,0,.58,1),"ease-in-sine":yt(.47,0,.745,.715),"ease-out-sine":yt(.39,.575,.565,1),"ease-in-out-sine":yt(.445,.05,.55,.95),"ease-in-quad":yt(.55,.085,.68,.53),"ease-out-quad":yt(.25,.46,.45,.94),"ease-in-out-quad":yt(.455,.03,.515,.955),"ease-in-cubic":yt(.55,.055,.675,.19),"ease-out-cubic":yt(.215,.61,.355,1),"ease-in-out-cubic":yt(.645,.045,.355,1),"ease-in-quart":yt(.895,.03,.685,.22),"ease-out-quart":yt(.165,.84,.44,1),"ease-in-out-quart":yt(.77,0,.175,1),"ease-in-quint":yt(.755,.05,.855,.06),"ease-out-quint":yt(.23,1,.32,1),"ease-in-out-quint":yt(.86,0,.07,1),"ease-in-expo":yt(.95,.05,.795,.035),"ease-out-expo":yt(.19,1,.22,1),"ease-in-out-expo":yt(1,0,0,1),"ease-in-circ":yt(.6,.04,.98,.335),"ease-out-circ":yt(.075,.82,.165,1),"ease-in-out-circ":yt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Av.linear;var i=Sye(e,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":yt};function LO(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function BO(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function nu(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=BO(t,i),o=BO(e,i);if(Ce(s)&&Ce(o))return LO(a,s,o,r,n);if(mt(s)&&mt(o)){for(var l=[],u=0;u<o.length;u++){var c=s[u],h=o[u];if(c!=null&&h!=null){var d=LO(a,c,h,r,n);l.push(d)}else l.push(h)}return l}}function Cye(t,e,r,n){var i=!n,a=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),c=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=Av.linear;else{var h;if(ze(o)){var d=c.parse("transition-timing-function",o);h=d.value}else h=o;var f,p;ze(h)?(f=h,p=[]):(f=h[1],p=h.slice(2).map(function(z){return+z})),p.length>0?(f==="spring"&&p.push(s.duration),s.easingImpl=Av[f].apply(null,p)):s.easingImpl=Av[f]}var g=s.easingImpl,m;if(s.duration===0?m=1:m=(r-l)/s.duration,s.applying&&(m=s.progress),m<0?m=0:m>1&&(m=1),s.delay==null){var v=s.startPosition,y=s.position;if(y&&i&&!t.locked()){var b={};Th(v.x,y.x)&&(b.x=nu(v.x,y.x,m,g)),Th(v.y,y.y)&&(b.y=nu(v.y,y.y,m,g)),t.position(b)}var x=s.startPan,w=s.pan,E=a.pan,_=w!=null&&n;_&&(Th(x.x,w.x)&&(E.x=nu(x.x,w.x,m,g)),Th(x.y,w.y)&&(E.y=nu(x.y,w.y,m,g)),t.emit("pan"));var T=s.startZoom,C=s.zoom,P=C!=null&&n;P&&(Th(T,C)&&(a.zoom=qd(a.minZoom,nu(T,C,m,g),a.maxZoom)),t.emit("zoom")),(_||P)&&t.emit("viewport");var M=s.style;if(M&&M.length>0&&i){for(var R=0;R<M.length;R++){var I=M[R],S=I.name,B=I,L=s.startStyle[S],N=c.properties[L.name],F=nu(L,B,m,g,N);c.overrideBypass(t,S,F)}t.emit("style")}}return s.progress=m,m}function Th(t,e){return t==null||e==null?!1:Ce(t)&&Ce(e)?!0:!!(t&&e)}function Tye(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function FO(t,e){var r=e._private.aniEles,n=[];function i(c,h){var d=c._private,f=d.animation.current,p=d.animation.queue,g=!1;if(f.length===0){var m=p.shift();m&&f.push(m)}for(var v=function(E){for(var _=E.length-1;_>=0;_--){var T=E[_];T()}E.splice(0,E.length)},y=f.length-1;y>=0;y--){var b=f[y],x=b._private;if(x.stopped){f.splice(y,1),x.hooked=!1,x.playing=!1,x.started=!1,v(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||Tye(c,b,t),Cye(c,b,t,h),x.applying&&(x.applying=!1),v(x.frames),x.step!=null&&x.step(t),b.completed()&&(f.splice(y,1),x.hooked=!1,x.playing=!1,x.started=!1,v(x.completes)),g=!0)}return!h&&f.length===0&&p.length===0&&n.push(c),g}for(var a=!1,s=0;s<r.length;s++){var o=r[s],l=i(o);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var Aye={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&jm(function(a){FO(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,s){FO(s,e)},n.beforeRenderPriorities.animations):r()}},Rye={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Af(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},qp=function(e){return ze(e)?new co(e):e},tH={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Ey(Rye,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,qp(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,qp(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,qp(r),n),this},once:function(e,r,n){return this.emitter().one(e,qp(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};st.eventAliasesOn(tH);var DT={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};DT.jpeg=DT.jpg;var Rv={layout:function(e){var r=this;if(e==null){$t("Layout options must be specified to make a layout");return}if(e.name==null){$t("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){$t("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;ze(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var s=new i(Ge({},e,{cy:r,eles:a}));return s}};Rv.createLayout=Rv.makeLayout=Rv.layout;var Pye={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],s=e[a],o=r.getElementById(a);o.data(s)}})}},Iye=Mr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),OT={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){$t("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ot("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Iye(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};OT.invalidateDimensions=OT.resize;var Pv={collection:function(e,r){return ze(e)?this.$(e):Mn(e)?e.collection():mt(e)?(r||(r={}),new Pr(this,e,r.unique,r.removed)):new Pr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Pv.elements=Pv.filter=Pv.$;var qr={},sd="t",kye="f";qr.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&i.push(s)}}return i};qr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],c=t[l]===sd,h=e[l]===sd,d=c!==h,f=u.mappedProperties.length>0;if(d||h&&f){var p=void 0;d&&f||d?p=u.properties:f&&(p=u.mappedProperties);for(var g=0;g<p.length;g++){for(var m=p[g],v=m.name,y=!1,b=l+1;b<r.length;b++){var x=r[b],w=e[b]===sd;if(w&&(y=x.properties[m.name]!=null,y))break}!o[v]&&!y&&(o[v]=!0,s.push(v))}}}return n[i]=s,s};qr.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=sd:r+=kye}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};qr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===sd;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return n[e]=i,i};qr.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},s=n.types,o=0;o<i.length;o++){var l=i[o],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var h=c.mapping,d=h.fnValue=u.value(r);if(d===h.prevFnValue)continue}var f=a[l]={prev:c};n.applyParsedProperty(r,u),f.next=r.pstyle(l),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:a}};qr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(se,ve,ge){return r.getPropertiesHash(se,ve,ge)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];e.styleKeys[c]=[Iu,zh]}for(var h=function(se,ve){return e.styleKeys[ve][0]=Hd(se,e.styleKeys[ve][0])},d=function(se,ve){return e.styleKeys[ve][1]=Vd(se,e.styleKeys[ve][1])},f=function(se,ve){h(se,ve),d(se,ve)},p=function(se,ve){for(var ge=0;ge<se.length;ge++){var k=se.charCodeAt(ge);h(k,ve),d(k,ve)}},g=2e9,m=function(se){return-128<se&&se<128&&Math.floor(se)!==se?g-(se*1024|0):se},v=0;v<n.length;v++){var y=n[v],b=l[y];if(b!=null){var x=this.properties[y],w=x.type,E=x.groupKey,_=void 0;x.hashOverride!=null?_=x.hashOverride(t,b):b.pfValue!=null&&(_=b.pfValue);var T=x.enums==null?b.value:null,C=_!=null,P=T!=null,M=C||P,R=b.units;if(w.number&&M&&!w.multiple){var I=C?_:T;f(m(I),E),!C&&R!=null&&p(R,E)}else p(b.strValue,E)}}for(var S=[Iu,zh],B=0;B<i.length;B++){var L=i[B],N=e.styleKeys[L];S[0]=Hd(N[0],S[0]),S[1]=Vd(N[1],S[1])}e.styleKey=Lfe(S[0],S[1]);var F=e.styleKeys;e.labelDimsKey=xs(F.labelDimensions);var z=a(t,["label"],F.labelDimensions);if(e.labelKey=xs(z),e.labelStyleKey=xs(Fp(F.commonLabel,z)),!o){var $=a(t,["source-label"],F.labelDimensions);e.sourceLabelKey=xs($),e.sourceLabelStyleKey=xs(Fp(F.commonLabel,$));var O=a(t,["target-label"],F.labelDimensions);e.targetLabelKey=xs(O),e.targetLabelStyleKey=xs(Fp(F.commonLabel,O))}if(o){var j=e.styleKeys,J=j.nodeBody,H=j.nodeBorder,V=j.nodeOutline,X=j.backgroundImage,te=j.compound,Q=j.pie,Y=[J,H,V,X,te,Q].filter(function(ae){return ae!=null}).reduce(Fp,[Iu,zh]);e.nodeKey=xs(Y),e.hasPie=Q!=null&&Q[0]!==Iu&&Q[1]!==zh}return s!==e.styleKey};qr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};qr.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=i[n.name],c=u&&u.bypass,h=t._private,d="mapping",f=function(J){return J==null?null:J.pfValue!=null?J.pfValue:J.value},p=function(){var J=f(u),H=f(n);r.checkTriggers(t,n.name,J,H)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,p(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,p(),!0):!1:(p(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,p(),!0):!1:(p(),!0);var g=function(){ot("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var m=n.field.split("."),v=h.data,y=0;y<m.length&&v;y++){var b=m[y];v=v[b]}if(v==null)return g(),!1;var x;if(Ce(v)){var w=n.fieldMax-n.fieldMin;w===0?x=0:x=(v-n.fieldMin)/w}else return ot("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),o.color){var E=n.valueMin[0],_=n.valueMax[0],T=n.valueMin[1],C=n.valueMax[1],P=n.valueMin[2],M=n.valueMax[2],R=n.valueMin[3]==null?1:n.valueMin[3],I=n.valueMax[3]==null?1:n.valueMax[3],S=[Math.round(E+(_-E)*x),Math.round(T+(C-T)*x),Math.round(P+(M-P)*x),Math.round(R+(I-R)*x)];a={bypass:n.bypass,name:n.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else if(o.number){var B=n.valueMin+(n.valueMax-n.valueMin)*x;a=this.parse(n.name,B,n.bypass,d)}else return!1;if(!a)return g(),!1;a.mapping=n,n=a;break}case s.data:{for(var L=n.field.split("."),N=h.data,F=0;F<L.length&&N;F++){var z=L[F];N=N[z]}if(N!=null&&(a=this.parse(n.name,N,n.bypass,d)),!a)return g(),!1;a.mapping=n,n=a;break}case s.fn:{var $=n.value,O=n.fnValue!=null?n.fnValue:$(t);if(n.prevFnValue=O,O==null)return ot("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,O,n.bypass,d),!a)return ot("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=pa(n),n=a;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):c?u.bypassed=n:i[n.name]=n,p(),!0};qr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}};qr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};qr.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var c=i[u],h=t.pstyle(c),d=e[c];if(d){var f=d.prev,p=f,g=d.next!=null?d.next:h,m=!1,v=void 0,y=1e-6;p&&(Ce(p.pfValue)&&Ce(g.pfValue)?(m=g.pfValue-p.pfValue,v=p.pfValue+y*m):Ce(p.value)&&Ce(g.value)?(m=g.value-p.value,v=p.value+y*m):mt(p.value)&&mt(g.value)&&(m=p.value[0]!==g.value[0]||p.value[1]!==g.value[1]||p.value[2]!==g.value[2],v=p.strValue),m&&(o[c]=g.strValue,this.applyBypass(t,c,v),l=!0))}}if(!l)return;n.transitioning=!0,new jc(function(b){s>0?t.delayAnimation(s).play().promise().then(b):b()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};qr.checkTrigger=function(t,e,r,n,i,a){var s=this.properties[e],o=i(s);o!=null&&o(r,n)&&a(s)};qr.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};qr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};qr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var kf={};kf.applyBypass=function(t,e,r,n){var i=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,c=this.parse(u,r,!0);c&&a.push(c)}}else if(ze(e)){var h=this.parse(e,r,!0);h&&a.push(h)}else if(tt(e)){var d=e;n=r;for(var f=Object.keys(d),p=0;p<f.length;p++){var g=f[p],m=d[g];if(m===void 0&&(m=d[fy(g)]),m!==void 0){var v=this.parse(g,m,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var y=!1,b=0;b<t.length;b++){for(var x=t[b],w={},E=void 0,_=0;_<a.length;_++){var T=a[_];if(n){var C=x.pstyle(T.name);E=w[T.name]={prev:C}}y=this.applyParsedProperty(x,pa(T))||y,n&&(E.next=x.pstyle(T.name))}y&&this.updateStyleHints(x),n&&this.updateTransitions(x,w,s)}return y};kf.overrideBypass=function(t,e,r){e=MR(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}};kf.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};kf.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var h="",d=this.parse(l,h,!0),f=s[u.name]={prev:c};this.applyParsedProperty(a,d),f.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}};var WR={};WR.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};WR.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Ea={};Ea.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ea.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(n[a.name]=s,n[fy(a.name)]=s)}return n}};Ea.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};Ea.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,s=t.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&a.number&&o!=null&&Ce(o)){var c=t.cy().zoom(),h=function(m){return m*c},d=function(m,v){return h(m)+v},f=mt(o),p=f?l.every(function(g){return g!=null}):l!=null;return p?f?o.map(function(g,m){return d(g,l[m])}).join(" "):d(o,l):f?o.map(function(g){return ze(g)?g:""+h(g)}).join(" "):""+h(o)}else if(u!=null)return u}return null}};Ea.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,s=t.pstyle(a);s!==void 0&&(tt(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r};Ea.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],l=n[o],u=i[o]||i[MR(o)],c=this.parse(u.name,l);c&&r.push(c)}return r};Ea.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,s,o,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=Hd(o,n[0]),n[1]=Vd(o,n[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=Hd(o,n[0]),n[1]=Vd(o,n[1]);return n};Ea.getPropertiesHash=Ea.getNonDefaultPropertiesHash;var Ty={};Ty.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);e.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];e.css(l,u)}}return e};Ty.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Ty.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var qR={};qR.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){ot("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var h=c[1];if(h!=="core"){var d=new co(h);if(d.invalid){ot("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),o();continue}}var f=c[2],p=!1;a=f;for(var g=[];;){var m=a.match(/^\s*$/);if(m)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){ot("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+f),p=!0;break}s=v[0];var y=v[1],b=v[2],x=e.properties[y];if(!x){ot("Skipping property: Invalid property name in: "+s),l();continue}var w=r.parse(y,b);if(!w){ot("Skipping property: Invalid property definition in: "+s),l();continue}g.push({name:y,val:b}),l()}if(p){o();break}r.selector(h);for(var E=0;E<g.length;E++){var _=g[E];r.css(_.name,_.val)}o()}return r};qR.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Cr={};(function(){var t=sr,e=zde,r=Ude,n=$de,i=Gde,a=function(Y){return"^"+Y+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(Y){var ae=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+Y+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ae+")\\s*\\,\\s*("+ae+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Cr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Y,ae){switch(Y.length){case 2:return ae[0]!=="deg"&&ae[0]!=="rad"&&ae[1]!=="deg"&&ae[1]!=="rad";case 1:return ze(Y[0])||ae[0]==="deg"||ae[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Y){var ae=Y.length;return ae===1||ae===2||ae===4}}};var l={zeroNonZero:function(Y,ae){return(Y==null||ae==null)&&Y!==ae||Y==0&&ae!=0?!0:Y!=0&&ae==0},any:function(Y,ae){return Y!=ae},emptyNonEmpty:function(Y,ae){var se=lo(Y),ve=lo(ae);return se&&!ve||!se&&ve}},u=Cr.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],h=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],f=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],p=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],g=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],m=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],v=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],y=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],b=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(Y,ae){return ae.value==="label"?-Y.poolIndex():ae.pfValue},w=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],E=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],_=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],T=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],C=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],P=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],M=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],R=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],I=[];Cr.pieBackgroundN=16,I.push({name:"pie-size",type:u.sizeMaybePercent});for(var S=1;S<=Cr.pieBackgroundN;S++)I.push({name:"pie-"+S+"-background-color",type:u.color}),I.push({name:"pie-"+S+"-background-size",type:u.percent}),I.push({name:"pie-"+S+"-background-opacity",type:u.zeroOneNumber});var B=[],L=Cr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(Q){L.forEach(function(Y){var ae=Y+"-"+Q.name,se=Q.type,ve=Q.triggersBounds;B.push({name:ae,type:se,triggersBounds:ve})})},{});var N=Cr.properties=[].concat(g,b,m,v,y,M,p,f,c,h,d,w,E,_,T,I,C,P,B,R),F=Cr.propertyGroups={behavior:g,transition:b,visibility:m,overlay:v,underlay:y,ghost:M,commonLabel:p,labelDimensions:f,mainLabel:c,sourceLabel:h,targetLabel:d,nodeBody:w,nodeBorder:E,nodeOutline:_,backgroundImage:T,pie:I,compound:C,edgeLine:P,edgeArrow:B,core:R},z=Cr.propertyGroupNames={},$=Cr.propertyGroupKeys=Object.keys(F);$.forEach(function(Q){z[Q]=F[Q].map(function(Y){return Y.name}),F[Q].forEach(function(Y){return Y.groupKey=Q})});var O=Cr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Cr.propertyNames=N.map(function(Q){return Q.name});for(var j=0;j<N.length;j++){var J=N[j];N[J.name]=J}for(var H=0;H<O.length;H++){var V=O[H],X=N[V.pointsTo],te={name:V.name,alias:!0,pointsTo:X};N.push(te),N[V.name]=te}})();Cr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Cr.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ge({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Cr.pieBackgroundN;c++){var h=u.name.replace("{{i}}",c),d=u.value;l[h]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Cr.arrowPrefixes.forEach(function(c){var h=c+"-"+u.name,d=u.value;l[h]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties};Cr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ay={};Ay.parse=function(t,e,r,n){var i=this;if(Nt(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=cG(t,o,s,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=pa(c),c&&(c.value=pa(c.value))),c};Ay.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&ot("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&ot("The style value of `label` is deprecated for `"+i.name+"`"),i};Ay.parseImpl=function(t,e,r,n){var i=this;t=MR(t);var a=i.properties[t],s=e,o=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=ze(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Nt(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,h;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var f=o.mapData;if(!(u.color||u.number))return!1;var p=this.parse(t,h[4]);if(!p||p.mapped)return!1;var g=this.parse(t,h[5]);if(!g||g.mapped)return!1;if(p.pfValue===g.pfValue||p.strValue===g.strValue)return ot("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(u.color){var m=p.value,v=g.value,y=m[0]===v[0]&&m[1]===v[1]&&m[2]===v[2]&&(m[3]===v[3]||(m[3]==null||m[3]===1)&&(v[3]==null||v[3]===1));if(y)return!1}return{name:t,value:h,strValue:""+e,mapped:f,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:p.value,valueMax:g.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var b;if(l?b=e.split(/\s+/):mt(e)?b=e:b=[e],u.evenMultiple&&b.length%2!==0)return null;for(var x=[],w=[],E=[],_="",T=!1,C=0;C<b.length;C++){var P=i.parse(t,b[C],r,"multiple");T=T||ze(P.value),x.push(P.value),E.push(P.pfValue!=null?P.pfValue:P.value),w.push(P.units),_+=(C>0?" ":"")+P.strValue}return u.validate&&!u.validate(x,w)?null:u.singleEnum&&T?x.length===1&&ze(x[0])?{name:t,value:x[0],strValue:x[0],bypass:r}:null:{name:t,value:x,pfValue:E,strValue:_,bypass:r,units:w}}var M=function(){for(var Y=0;Y<u.enums.length;Y++){var ae=u.enums[Y];if(ae===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var R,I="px";if(u.units&&(R=u.units),u.implicitUnits&&(I=u.implicitUnits),!u.unitless)if(l){var S="px|em"+(u.allowPercent?"|\\%":"");R&&(S=R);var B=e.match("^("+sr+")("+S+")?$");B&&(e=B[1],R=B[2]||I)}else(!R||u.implicitUnits)&&(R=I);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,M();if(u.integer&&!Mde(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var L={name:t,value:e,strValue:""+e+(R||""),units:R,bypass:r};return u.unitless||R!=="px"&&R!=="em"?L.pfValue=e:L.pfValue=R==="px"||!R?e:this.getEmSizeInPixels()*e,(R==="ms"||R==="s")&&(L.pfValue=R==="ms"?e:1e3*e),(R==="deg"||R==="rad")&&(L.pfValue=R==="rad"?e:dpe(e)),R==="%"&&(L.pfValue=e/100),L}else if(u.propList){var N=[],F=""+e;if(F!=="none"){for(var z=F.split(/\s*,\s*|\s+/),$=0;$<z.length;$++){var O=z[$].trim();i.properties[O]?N.push(O):ot("`"+O+"` is not a valid property name")}if(N.length===0)return null}return{name:t,value:N,strValue:N.length===0?"none":N.join(" "),bypass:r}}else if(u.color){var j=Yde(e);return j?{name:t,value:j,pfValue:j,strValue:"rgb("+j[0]+","+j[1]+","+j[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var J=M();if(J)return J}for(var H=u.regexes?u.regexes:[u.regex],V=0;V<H.length;V++){var X=new RegExp(H[V]),te=X.exec(e);if(te)return{name:t,value:u.singleRegexMatchValue?te[1]:te,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?M():null};var jr=function t(e){if(!(this instanceof t))return new t(e);if(!kR(e)){$t("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Hr=jr.prototype;Hr.instanceString=function(){return"style"};Hr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Hr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Hr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Hr.selector=function(t){var e=t==="core"?null:new co(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Hr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[fy(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Hr.style=Hr.css;Hr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Hr.append=function(t){return eG(t)?t.appendToStyle(this):mt(t)?this.appendFromJson(t):ze(t)&&this.appendFromString(t),this};jr.fromJson=function(t,e){var r=new jr(t);return r.fromJson(e),r};jr.fromString=function(t,e){return new jr(t).fromString(e)};[qr,kf,WR,Ea,Ty,qR,Cr,Ay].forEach(function(t){Ge(Hr,t)});jr.types=Hr.types;jr.properties=Hr.properties;jr.propertyGroups=Hr.propertyGroups;jr.propertyGroupNames=Hr.propertyGroupNames;jr.propertyGroupKeys=Hr.propertyGroupKeys;var Mye={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return eG(e)?r.style=e.generateStyle(this):mt(e)?r.style=jr.fromJson(this,e):ze(e)?r.style=jr.fromString(this,e):r.style=jr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Dye="single",Tl={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=Dye),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,s,o;switch(e.length){case 0:return r;case 1:if(ze(e[0]))return n=e[0],r[n];if(tt(e[0])){if(!this._private.panningEnabled)return this;a=e[0],s=a.x,o=a.y,Ce(s)&&(r.x=s),Ce(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Ce(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:tt(e)&&(o=n[0],l=o.x,u=o.y,Ce(l)&&(i.x+=l),Ce(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,s=r,(a==="x"||a==="y")&&Ce(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ce(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(ze(e)){var i=e;e=this.$(i)}else if(Nde(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Mn(e)||(e=this.mutableElements());if(!(Mn(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=Ce(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Ce(e)&&Ce(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ce(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ce(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,s,o=!1;if(r.zoomingEnabled||(o=!0),Ce(e)?s=e:tt(e)&&(s=e.level,e.position!=null?a=gy(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!Ce(s)||s===i||a!=null&&(!Ce(a.x)||!Ce(a.y)))return null;if(a!=null){var l=n,u=i,c=s,h={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:h}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],s=!1,o=!1;if(!e)return this;if(Ce(e.zoom)||(n=!1),tt(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Ce(u.x)&&(r.pan.x=u.x,o=!1),Ce(u.y)&&(r.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(ze(e)){var n=e;e=this.mutableElements().filter(n)}else Mn(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(a-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Tl.centre=Tl.center;Tl.autolockNodes=Tl.autolock;Tl.autoungrabifyNodes=Tl.autoungrabify;var Qd={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Qd.attr=Qd.data;Qd.removeAttr=Qd.removeData;var Jd=function(e){var r=this;e=Ge({},e);var n=e.container;n&&!zm(n)&&zm(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=tr!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=Ge({name:s?"grid":"null"},o.layout),o.renderer=Ge({name:s?"canvas":"null"},o.renderer);var l=function(p,g,m){return g!==void 0?g:m!==void 0?m:p},u=this._private={container:n,ready:!1,options:o,elements:new Pr(this),listeners:[],aniEles:new Pr(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:Ce(o.zoom)?o.zoom:1,pan:{x:tt(o.pan)&&Ce(o.pan.x)?o.pan.x:0,y:tt(o.pan)&&Ce(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(p,g){var m=p.some(Lde);if(m)return jc.all(p).then(g);g(p)};u.styleEnabled&&r.setStyle([]);var h=Ge({},o,o.renderer);r.initRenderer(h);var d=function(p,g,m){r.notifications(!1);var v=r.mutableElements();v.length>0&&v.remove(),p!=null&&(tt(p)||mt(p))&&r.add(p),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",m),r.emit("done")});var y=Ge({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};c([o.style,o.elements],function(f){var p=f[0],g=f[1];u.styleEnabled&&r.style().append(p),d(g,function(){r.startAnimationLoop(),u.ready=!0,Nt(o.ready)&&r.on("ready",o.ready);for(var m=0;m<a.length;m++){var v=a[m];r.on("ready",v)}i&&(i.readies=[]),r.emit("ready")},o.done)})},Wm=Jd.prototype;Ge(Wm,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return tr;var r=this._private.container.ownerDocument;return r===void 0||r==null?tr:r.defaultView||tr},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!zm(e)&&zm(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ge({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return pa(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(x){return r.getElementById(x.id())};if(tt(e)){if(r.startBatch(),e.elements){var s={},o=function(x,w){for(var E=[],_=[],T=0;T<x.length;T++){var C=x[T];if(!C.data.id){ot("cy.json() cannot handle elements without an ID attribute");continue}var P=""+C.data.id,M=r.getElementById(P);s[P]=!0,M.length!==0?_.push({ele:M,json:C}):(w&&(C.group=w),E.push(C))}r.add(E);for(var R=0;R<_.length;R++){var I=_[R],S=I.ele,B=I.json;S.json(B)}};if(mt(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],h=e.elements[c];mt(h)&&o(h,c)}var d=r.collection();i.filter(function(b){return!s[b.id()]}).forEach(function(b){b.isParent()?d.merge(b):b.remove()}),d.forEach(function(b){return b.children().move({parent:null})}),d.forEach(function(b){return a(b).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<f.length;p++){var g=f[p];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var m=!!e,v={};m?v.elements=this.elements().map(function(b){return b.json()}):(v.elements={},i.forEach(function(b){var x=b.group();v.elements[x]||(v.elements[x]=[]),v.elements[x].push(b.json())})),this._private.styleEnabled&&(v.style=r.style().json()),v.data=pa(r.data());var y=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=pa(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=pa(y.renderer),v.hideEdgesOnViewport=y.hideEdgesOnViewport,v.textureOnViewport=y.textureOnViewport,v.wheelSensitivity=y.wheelSensitivity,v.motionBlur=y.motionBlur,v.multiClickDebounceTime=y.multiClickDebounceTime,v}}});Wm.$id=Wm.getElementById;[_ye,Aye,tH,DT,Rv,Pye,OT,Pv,Mye,Tl,Qd].forEach(function(t){Ge(Wm,t)});var Oye={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Nye={maximal:!1,acyclic:!1},iu=function(e){return e.scratch("breadthfirst")},zO=function(e,r){return e.scratch("breadthfirst",r)};function rH(t){this.options=Ge({},Oye,Nye,t)}rH.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(k){return!k.isParent()}),a=n,s=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,l=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u;if(Mn(e.roots))u=e.roots;else if(mt(e.roots)){for(var c=[],h=0;h<e.roots.length;h++){var d=e.roots[h],f=r.getElementById(d);c.push(f)}u=r.collection(c)}else if(ze(e.roots))u=r.$(e.roots);else if(s)u=i.roots();else{var p=n.components();u=r.collection();for(var g=function(K){var ne=p[K],U=ne.maxDegree(!1),G=ne.filter(function(q){return q.degree(!1)===U});u=u.add(G)},m=0;m<p.length;m++)g(m)}var v=[],y={},b=function(K,ne){v[ne]==null&&(v[ne]=[]);var U=v[ne].length;v[ne].push(K),zO(K,{index:U,depth:ne})},x=function(K,ne){var U=iu(K),G=U.depth,q=U.index;v[G][q]=null,b(K,ne)};a.bfs({roots:u,directed:e.directed,visit:function(K,ne,U,G,q){var oe=K[0],re=oe.id();b(oe,q),y[re]=!0}});for(var w=[],E=0;E<i.length;E++){var _=i[E];y[_.id()]||w.push(_)}var T=function(K){for(var ne=v[K],U=0;U<ne.length;U++){var G=ne[U];if(G==null){ne.splice(U,1),U--;continue}zO(G,{depth:K,index:U})}},C=function(){for(var K=0;K<v.length;K++)T(K)},P=function(K,ne){for(var U=iu(K),G=K.incomers().filter(function(fe){return fe.isNode()&&n.has(fe)}),q=-1,oe=K.id(),re=0;re<G.length;re++){var Z=G[re],ee=iu(Z);q=Math.max(q,ee.depth)}if(U.depth<=q){if(!e.acyclic&&ne[oe])return null;var ue=q+1;return x(K,ue),ne[oe]=ue,!0}return!1};if(s&&o){var M=[],R={},I=function(K){return M.push(K)},S=function(){return M.shift()};for(i.forEach(function(k){return M.push(k)});M.length>0;){var B=S(),L=P(B,R);if(L)B.outgoers().filter(function(k){return k.isNode()&&n.has(k)}).forEach(I);else if(L===null){ot("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var N=0;if(e.avoidOverlap)for(var F=0;F<i.length;F++){var z=i[F],$=z.layoutDimensions(e),O=$.w,j=$.h;N=Math.max(N,O,j)}var J={},H=function(K){if(J[K.id()])return J[K.id()];for(var ne=iu(K).depth,U=K.neighborhood(),G=0,q=0,oe=0;oe<U.length;oe++){var re=U[oe];if(!(re.isEdge()||re.isParent()||!i.has(re))){var Z=iu(re);if(Z!=null){var ee=Z.index,ue=Z.depth;if(!(ee==null||ue==null)){var fe=v[ue].length;ue<ne&&(G+=ee/fe,q++)}}}}return q=Math.max(1,q),G=G/q,q===0&&(G=0),J[K.id()]=G,G},V=function(K,ne){var U=H(K),G=H(ne),q=U-G;return q===0?rG(K.id(),ne.id()):q};e.depthSort!==void 0&&(V=e.depthSort);for(var X=0;X<v.length;X++)v[X].sort(V),T(X);for(var te=[],Q=0;Q<w.length;Q++)te.push(w[Q]);v.unshift(te),C();for(var Y=0,ae=0;ae<v.length;ae++)Y=Math.max(v[ae].length,Y);var se={x:l.x1+l.w/2,y:l.x1+l.h/2},ve=v.reduce(function(k,K){return Math.max(k,K.length)},0),ge=function(K){var ne=iu(K),U=ne.depth,G=ne.index,q=v[U].length,oe=Math.max(l.w/((e.grid?ve:q)+1),N),re=Math.max(l.h/(v.length+1),N),Z=Math.min(l.w/2/v.length,l.h/2/v.length);if(Z=Math.max(Z,N),e.circle){var ue=Z*U+Z-(v.length>0&&v[0].length<=3?Z/2:0),fe=2*Math.PI/v[U].length*G;return U===0&&v[0].length===1&&(ue=1),{x:se.x+ue*Math.cos(fe),y:se.y+ue*Math.sin(fe)}}else{var ee={x:se.x+(G+1-(q+1)/2)*oe,y:(U+1)*re};return ee}};return n.nodes().layoutPositions(this,e,ge),this};var Lye={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function nH(t){this.options=Ge({},Lye,t)}nH.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),c,h=0,d=0;d<a.length;d++){var f=a[d],p=f.layoutDimensions(e),g=p.w,m=p.h;h=Math.max(h,g,m)}if(Ce(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(s.h,s.w)/2-h,a.length>1&&e.avoidOverlap){h*=1.75;var v=Math.cos(u)-Math.cos(0),y=Math.sin(u)-Math.sin(0),b=Math.sqrt(h*h/(v*v+y*y));c=Math.max(b,c)}var x=function(E,_){var T=e.startAngle+_*u*(i?1:-1),C=c*Math.cos(T),P=c*Math.sin(T),M={x:o.x+C,y:o.y+P};return M};return n.nodes().layoutPositions(this,e,x),this};var Bye={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function iH(t){this.options=Ge({},Bye,t)}iH.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),s=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,c=0;c<a.length;c++){var h=a[c],d=void 0;d=e.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}a.updateStyle();for(var f=0;f<a.length;f++){var p=a[f],g=p.layoutDimensions(e);u=Math.max(u,g.w,g.h)}l.sort(function(k,K){return K.value-k.value});for(var m=e.levelWidth(a),v=[[]],y=v[0],b=0;b<l.length;b++){var x=l[b];if(y.length>0){var w=Math.abs(y[0].value-x.value);w>=m&&(y=[],v.push(y))}y.push(x)}var E=u+e.minNodeSpacing;if(!e.avoidOverlap){var _=v.length>0&&v[0].length>1,T=Math.min(s.w,s.h)/2-E,C=T/(v.length+_?1:0);E=Math.min(E,C)}for(var P=0,M=0;M<v.length;M++){var R=v[M],I=e.sweep===void 0?2*Math.PI-2*Math.PI/R.length:e.sweep,S=R.dTheta=I/Math.max(1,R.length-1);if(R.length>1&&e.avoidOverlap){var B=Math.cos(S)-Math.cos(0),L=Math.sin(S)-Math.sin(0),N=Math.sqrt(E*E/(B*B+L*L));P=Math.max(N,P)}R.r=P,P+=E}if(e.equidistant){for(var F=0,z=0,$=0;$<v.length;$++){var O=v[$],j=O.r-z;F=Math.max(F,j)}z=0;for(var J=0;J<v.length;J++){var H=v[J];J===0&&(z=H.r),H.r=z,z+=F}}for(var V={},X=0;X<v.length;X++)for(var te=v[X],Q=te.dTheta,Y=te.r,ae=0;ae<te.length;ae++){var se=te[ae],ve=e.startAngle+(r?1:-1)*Q*ae,ge={x:o.x+Y*Math.cos(ve),y:o.y+Y*Math.sin(ve)};V[se.node.id()]=ge}return i.nodes().layoutPositions(this,e,function(k){var K=k.id();return V[K]}),this};var $1,Fye={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ry(t){this.options=Ge({},Fye,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}Ry.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?$1=!0:$1=!1;var n=zye(e,r,t);$1&&$ye(n),t.randomize&&Gye(n);var i=is(),a=function(){Hye(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(Vye(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),f=aH(n,t,d);d.layoutPositions(r,t,f)}},l=0,u=!0;if(t.animate===!0){var c=function h(){for(var d=0;u&&d<t.refresh;)u=s(l),l++,d++;if(!u)UO(n,t),o();else{var f=is();f-i>=t.animationThreshold&&a(),jm(h)}};c()}else{for(;u;)u=s(l),l++;UO(n,t),o()}return this};Ry.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ry.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var zye=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s=En(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var h=l[c],d=0;d<h.length;d++){var f=h[d];u[f.id()]=c}for(var c=0;c<o.nodeSize;c++){var p=a[c],g=p.layoutDimensions(n),m={};m.isLocked=p.locked(),m.id=p.data("id"),m.parentId=p.data("parent"),m.cmptId=u[p.id()],m.children=[],m.positionX=p.position("x"),m.positionY=p.position("y"),m.offsetX=0,m.offsetY=0,m.height=g.w,m.width=g.h,m.maxX=m.positionX+m.width/2,m.minX=m.positionX-m.width/2,m.maxY=m.positionY+m.height/2,m.minY=m.positionY-m.height/2,m.padLeft=parseFloat(p.style("padding")),m.padRight=parseFloat(p.style("padding")),m.padTop=parseFloat(p.style("padding")),m.padBottom=parseFloat(p.style("padding")),m.nodeRepulsion=Nt(n.nodeRepulsion)?n.nodeRepulsion(p):n.nodeRepulsion,o.layoutNodes.push(m),o.idToIndex[m.id]=c}for(var v=[],y=0,b=-1,x=[],c=0;c<o.nodeSize;c++){var p=o.layoutNodes[c],w=p.parentId;w!=null?o.layoutNodes[o.idToIndex[w]].children.push(p.id):(v[++b]=p.id,x.push(p.id))}for(o.graphSet.push(x);y<=b;){var E=v[y++],_=o.idToIndex[E],f=o.layoutNodes[_],T=f.children;if(T.length>0){o.graphSet.push(T);for(var c=0;c<T.length;c++)v[++b]=T[c]}}for(var c=0;c<o.graphSet.length;c++)for(var C=o.graphSet[c],d=0;d<C.length;d++){var P=o.idToIndex[C[d]];o.indexToGraph[P]=c}for(var c=0;c<o.edgeSize;c++){var M=i[c],R={};R.id=M.data("id"),R.sourceId=M.data("source"),R.targetId=M.data("target");var I=Nt(n.idealEdgeLength)?n.idealEdgeLength(M):n.idealEdgeLength,S=Nt(n.edgeElasticity)?n.edgeElasticity(M):n.edgeElasticity,B=o.idToIndex[R.sourceId],L=o.idToIndex[R.targetId],N=o.indexToGraph[B],F=o.indexToGraph[L];if(N!=F){for(var z=jye(R.sourceId,R.targetId,o),$=o.graphSet[z],O=0,m=o.layoutNodes[B];$.indexOf(m.id)===-1;)m=o.layoutNodes[o.idToIndex[m.parentId]],O++;for(m=o.layoutNodes[L];$.indexOf(m.id)===-1;)m=o.layoutNodes[o.idToIndex[m.parentId]],O++;I*=O*n.nestingFactor}R.idealLength=I,R.elasticity=S,o.layoutEdges.push(R)}return o},jye=function(e,r,n){var i=Uye(e,r,0,n);return 2>i.count?0:i.graph},Uye=function t(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var h=i.indexToGraph[i.idToIndex[c[0]]],d=t(e,r,h,i);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},$ye,Gye=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var s=e.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},aH=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,c=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},Hye=function(e,r,n){var i=n.layout,a=n.eles.nodes(),s=aH(e,n,a);a.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Vye=function(e,r,n){Wye(e,r),Yye(e),Kye(e,r),Zye(e),Qye(e)},Wye=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],l=s+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];qye(o,u,e,r)}},jO=function(e){return-e+2*e*Math.random()},qye=function(e,r,n,i){var a=e.cmptId,s=r.cmptId;if(!(a!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=jO(u),l=jO(u));var c=Xye(e,r,o,l);if(c>0)var h=i.nodeOverlap*c,d=Math.sqrt(o*o+l*l),f=h*o/d,p=h*l/d;else var g=qm(e,o,l),m=qm(r,-1*o,-1*l),v=m.x-g.x,y=m.y-g.y,b=v*v+y*y,d=Math.sqrt(b),h=(e.nodeRepulsion+r.nodeRepulsion)/b,f=h*v/d,p=h*y/d;e.isLocked||(e.offsetX-=f,e.offsetY-=p),r.isLocked||(r.offsetX+=f,r.offsetY+=p)}},Xye=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},qm=function(e,r,n){var i=e.positionX,a=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+s/2,c):0<r&&-1*u<=l&&l<=u?(c.x=i+o/2,c.y=a+o*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=i-o/2,c.y=a-o*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=i+s*r/2/n,c.y=a+s/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=i-s*r/2/n,c.y=a-s/2),c)},Yye=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],s=e.layoutNodes[a],o=e.idToIndex[i.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,c=l.positionY-s.positionY;if(!(u===0&&c===0)){var h=qm(s,u,c),d=qm(l,-1*u,-1*c),f=d.x-h.x,p=d.y-h.y,g=Math.sqrt(f*f+p*p),m=Math.pow(i.idealLength-g,2)/i.elasticity;if(g!==0)var v=m*f/g,y=m*p/g;else var v=0,y=0;s.isLocked||(s.offsetX+=v,s.offsetY+=y),l.isLocked||(l.offsetX-=v,l.offsetY-=y)}}},Kye=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],s=a.length;if(i===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],o=c.positionX,l=c.positionY;for(var h=0;h<s;h++){var d=e.layoutNodes[e.idToIndex[a[h]]];if(!d.isLocked){var f=o-d.positionX,p=l-d.positionY,g=Math.sqrt(f*f+p*p);if(g>n){var m=r.gravity*f/g,v=r.gravity*p/g;d.offsetX+=m,d.offsetY+=v}}}}},Zye=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var s=n[i++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,h=l.offsetY,d=0;d<u.length;d++){var f=e.layoutNodes[e.idToIndex[u[d]]];f.offsetX+=c,f.offsetY+=h,n[++a]=u[d]}l.offsetX=0,l.offsetY=0}}},Qye=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=Jye(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,e0e(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Jye=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},e0e=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return t(i,r)}},UO=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var s=n[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var h=0;h<c.length;h++){var d=c[h];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var f=0,p=0,g=0,m=0,v=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var h=0;h<c.length;h++){var d=c[h];d.isLocked||(d.positionX+=f-c.x1,d.positionY+=p-c.y1)}f+=c.w+r.componentSpacing,g+=c.w+r.componentSpacing,m=Math.max(m,c.h),g>v&&(p+=m+r.componentSpacing,f=0,g=0,m=0)}}},t0e={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sH(t){this.options=Ge({},t0e,t)}sH.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(J){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),c=function(H){if(H==null)return Math.min(l,u);var V=Math.min(l,u);V==l?l=H:u=H},h=function(H){if(H==null)return Math.max(l,u);var V=Math.max(l,u);V==l?l=H:u=H},d=e.rows,f=e.cols!=null?e.cols:e.columns;if(d!=null&&f!=null)l=d,u=f;else if(d!=null&&f==null)l=d,u=Math.ceil(s/l);else if(d==null&&f!=null)u=f,l=Math.ceil(s/u);else if(u*l>s){var p=c(),g=h();(p-1)*g>=s?c(p-1):(g-1)*p>=s&&h(g-1)}else for(;u*l<s;){var m=c(),v=h();(v+1)*m>=s?h(v+1):c(m+1)}var y=a.w/u,b=a.h/l;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var x=0;x<i.length;x++){var w=i[x],E=w._private.position;(E.x==null||E.y==null)&&(E.x=0,E.y=0);var _=w.layoutDimensions(e),T=e.avoidOverlapPadding,C=_.w+T,P=_.h+T;y=Math.max(y,C),b=Math.max(b,P)}for(var M={},R=function(H,V){return!!M["c-"+H+"-"+V]},I=function(H,V){M["c-"+H+"-"+V]=!0},S=0,B=0,L=function(){B++,B>=u&&(B=0,S++)},N={},F=0;F<i.length;F++){var z=i[F],$=e.position(z);if($&&($.row!==void 0||$.col!==void 0)){var O={row:$.row,col:$.col};if(O.col===void 0)for(O.col=0;R(O.row,O.col);)O.col++;else if(O.row===void 0)for(O.row=0;R(O.row,O.col);)O.row++;N[z.id()]=O,I(O.row,O.col)}}var j=function(H,V){var X,te;if(H.locked()||H.isParent())return!1;var Q=N[H.id()];if(Q)X=Q.col*y+y/2+a.x1,te=Q.row*b+b/2+a.y1;else{for(;R(S,B);)L();X=B*y+y/2+a.x1,te=S*b+b/2+a.y1,I(S,B),L()}return{x:X,y:te}};i.layoutPositions(this,e,j)}return this};var r0e={ready:function(){},stop:function(){}};function XR(t){this.options=Ge({},r0e,t)}XR.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};XR.prototype.stop=function(){return this};var n0e={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function oH(t){this.options=Ge({},n0e,t)}oH.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Nt(t.positions);function i(a){if(t.positions==null)return ope(a.position());if(n)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return r.layoutPositions(this,t,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var i0e={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function lH(t){this.options=Ge({},i0e,t)}lH.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=En(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var a0e=[{name:"breadthfirst",impl:rH},{name:"circle",impl:nH},{name:"concentric",impl:iH},{name:"cose",impl:Ry},{name:"grid",impl:sH},{name:"null",impl:XR},{name:"preset",impl:oH},{name:"random",impl:lH}];function uH(t){this.options=t,this.notifications=0}var $O=function(){},GO=function(){throw new Error("A headless instance can not render images")};uH.prototype={recalculateRenderedStyle:$O,notify:function(){this.notifications++},init:$O,isHeadless:function(){return!0},png:GO,jpg:GO};var YR={};YR.arrowShapeWidth=.3;YR.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,h,d,f,p,g){var m=f.x-h/2-g,v=f.x+h/2+g,y=f.y-h/2-g,b=f.y+h/2+g,x=m<=u&&u<=v&&y<=c&&c<=b;return x},n=function(u,c,h,d,f){var p=u*Math.cos(d)-c*Math.sin(d),g=u*Math.sin(d)+c*Math.cos(d),m=p*h,v=g*h,y=m+f.x,b=v+f.y;return{x:y,y:b}},i=function(u,c,h,d){for(var f=[],p=0;p<u.length;p+=2){var g=u[p],m=u[p+1];f.push(n(g,m,c,h,d))}return f},a=function(u){for(var c=[],h=0;h<u.length;h++){var d=u[h];c.push(d.x,d.y)}return c},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,c){ze(c)&&(c=t[c]),t[u]=Ge({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,f,p,g,m,v){var y=a(i(this.points,p+2*v,g,m)),b=cn(d,f,y);return b},roughCollide:r,draw:function(d,f,p,g){var m=i(this.points,f,p,g);e.arrowShapeImpl("polygon")(d,m)},spacing:function(d){return 0},gap:s},c)};o("none",{collide:Um,roughCollide:Um,draw:OR,spacing:JD,gap:JD}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,h,d,f){var p=i(this.points,c,h,d),g=this.controlPoint,m=n(g[0],g[1],c,h,d);e.arrowShapeImpl(this.name)(u,p,m)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,h,d,f,p,g){var m=a(i(this.points,h+2*g,d,f)),v=a(i(this.pointsTee,h+2*g,d,f)),y=cn(u,c,m)||cn(u,c,v);return y},draw:function(u,c,h,d,f){var p=i(this.points,c,h,d),g=i(this.pointsTee,c,h,d);e.arrowShapeImpl(this.name)(u,p,g)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,h,d,f,p,g){var m=f,v=Math.pow(m.x-u,2)+Math.pow(m.y-c,2)<=Math.pow((h+2*g)*this.radius,2),y=a(i(this.points,h+2*g,d,f));return cn(u,c,y)||v},draw:function(u,c,h,d,f){var p=i(this.pointsTr,c,h,d);e.arrowShapeImpl(this.name)(u,p,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var h=this.baseCrossLinePts.slice(),d=c/u,f=3,p=5;return h[f]=h[f]-d,h[p]=h[p]-d,h},collide:function(u,c,h,d,f,p,g){var m=a(i(this.points,h+2*g,d,f)),v=a(i(this.crossLinePts(h,p),h+2*g,d,f)),y=cn(u,c,m)||cn(u,c,v);return y},draw:function(u,c,h,d,f){var p=i(this.points,c,h,d),g=i(this.crossLinePts(c,f),c,h,d);e.arrowShapeImpl(this.name)(u,p,g)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,c,h,d,f,p,g){var m=f,v=Math.pow(m.x-u,2)+Math.pow(m.y-c,2)<=Math.pow((h+2*g)*this.radius,2);return v},draw:function(u,c,h,d,f){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var Fl={};Fl.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-i)/s-o.x)/l,c=((e-a)/s-o.y)/l;return[u,c]};Fl.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(v){return parseFloat(r.getPropertyValue(v))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,h=e.width/(s+c),d=s-l,f=o-u,p=e.left+i.left+a.left,g=e.top+i.top+a.top;return this.containerBB=[p,g,d,f,h]};Fl.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Fl.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Fl.findNearestElements=function(t,e,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/l,h=(n?8:2)/l,d=(n?8:2)/l,f=1/0,p,g;r&&(s=s.interactive);function m(_,T){if(_.isNode()){if(g)return;g=_,o.push(_)}if(_.isEdge()&&(T==null||T<f))if(p){if(p.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value){for(var C=0;C<o.length;C++)if(o[C].isEdge()){o[C]=_,p=_,f=T??f;break}}}else o.push(_),p=_,f=T??f}function v(_){var T=_.outerWidth()+2*h,C=_.outerHeight()+2*h,P=T/2,M=C/2,R=_.position(),I=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,S=_._private.rscratch;if(R.x-P<=t&&t<=R.x+P&&R.y-M<=e&&e<=R.y+M){var B=a.nodeShapes[i.getNodeShape(_)];if(B.checkPoint(t,e,0,T,C,R.x,R.y,I,S))return m(_,0),!0}}function y(_){var T=_._private,C=T.rscratch,P=_.pstyle("width").pfValue,M=_.pstyle("arrow-scale").value,R=P/2+c,I=R*R,S=R*2,F=T.source,z=T.target,B;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){for(var L=C.allpts,N=0;N+3<L.length;N+=2)if(xpe(t,e,L[N],L[N+1],L[N+2],L[N+3],S)&&I>(B=Cpe(t,e,L[N],L[N+1],L[N+2],L[N+3])))return m(_,B),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){for(var L=C.allpts,N=0;N+5<C.allpts.length;N+=4)if(wpe(t,e,L[N],L[N+1],L[N+2],L[N+3],L[N+4],L[N+5],S)&&I>(B=Spe(t,e,L[N],L[N+1],L[N+2],L[N+3],L[N+4],L[N+5])))return m(_,B),!0}for(var F=F||T.source,z=z||T.target,$=i.getArrowWidth(P,M),O=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}],N=0;N<O.length;N++){var j=O[N],J=a.arrowShapes[_.pstyle(j.name+"-arrow-shape").value],H=_.pstyle("width").pfValue;if(J.roughCollide(t,e,$,j.angle,{x:j.x,y:j.y},H,c)&&J.collide(t,e,$,j.angle,{x:j.x,y:j.y},H,c))return m(_),!0}u&&o.length>0&&(v(F),v(z))}function b(_,T,C){return Ai(_,T,C)}function x(_,T){var C=_._private,P=d,M;T?M=T+"-":M="",_.boundingBox();var R=C.labelBounds[T||"main"],I=_.pstyle(M+"label").value,S=_.pstyle("text-events").strValue==="yes";if(!(!S||!I)){var B=b(C.rscratch,"labelX",T),L=b(C.rscratch,"labelY",T),N=b(C.rscratch,"labelAngle",T),F=_.pstyle(M+"text-margin-x").pfValue,z=_.pstyle(M+"text-margin-y").pfValue,$=R.x1-P-F,O=R.x2+P-F,j=R.y1-P-z,J=R.y2+P-z;if(N){var H=Math.cos(N),V=Math.sin(N),X=function(ge,k){return ge=ge-B,k=k-L,{x:ge*H-k*V+B,y:ge*V+k*H+L}},te=X($,j),Q=X($,J),Y=X(O,j),ae=X(O,J),se=[te.x+F,te.y+z,Y.x+F,Y.y+z,ae.x+F,ae.y+z,Q.x+F,Q.y+z];if(cn(t,e,se))return m(_),!0}else if(xc(R,t,e))return m(_),!0}}for(var w=s.length-1;w>=0;w--){var E=s[w];E.isNode()?v(E)||x(E):y(E)||x(E)||x(E,"source")||x(E,"target")}return o};Fl.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,r),o=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=s,r=o,e=l,n=u;for(var c=En({x1:t,y1:e,x2:r,y2:n}),h=0;h<i.length;h++){var d=i[h];if(d.isNode()){var f=d,p=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});BR(c,p)&&!yG(p,c)&&a.push(f)}else{var g=d,m=g._private,v=m.rscratch;if(v.startX!=null&&v.startY!=null&&!xc(c,v.startX,v.startY)||v.endX!=null&&v.endY!=null&&!xc(c,v.endX,v.endY))continue;if(v.edgeType==="bezier"||v.edgeType==="multibezier"||v.edgeType==="self"||v.edgeType==="compound"||v.edgeType==="segments"||v.edgeType==="haystack"){for(var y=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,b=!0,x=0;x<y.length;x++)if(!bpe(c,y[x])){b=!1;break}b&&a.push(g)}else(v.edgeType==="haystack"||v.edgeType==="straight")&&a.push(g)}}return a};var Xm={};Xm.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,c,h,d,f,v,y;if(r?(c=e.haystackPts[0],h=e.haystackPts[1],d=e.haystackPts[2],f=e.haystackPts[3]):(c=e.arrowStartX,h=e.arrowStartY,d=e.arrowEndX,f=e.arrowEndY),v=e.midX,y=e.midY,a)l=c-e.segpts[0],u=h-e.segpts[1];else if(i||s||o||n){var p=e.allpts,g=pr(p[0],p[2],p[4],.1),m=pr(p[1],p[3],p[5],.1);l=c-g,u=h-m}else l=c-v,u=h-y;e.srcArrowAngle=zp(l,u);var v=e.midX,y=e.midY;if(r&&(v=(c+d)/2,y=(h+f)/2),l=d-c,u=f-h,a){var p=e.allpts;if(p.length/2%2===0){var b=p.length/2,x=b-2;l=p[b]-p[x],u=p[b+1]-p[x+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var b=p.length/2-1,x=b-2;l=p[b]-p[x],u=p[b+1]-p[x+1]}}else if(i||s||o){var p=e.allpts,w=e.ctrlpts,E,_,T,C;if(w.length/2%2===0){var P=p.length/2-1,M=P+2,R=M+2;E=pr(p[P],p[M],p[R],0),_=pr(p[P+1],p[M+1],p[R+1],0),T=pr(p[P],p[M],p[R],1e-4),C=pr(p[P+1],p[M+1],p[R+1],1e-4)}else{var M=p.length/2-1,P=M-2,R=M+2;E=pr(p[P],p[M],p[R],.4999),_=pr(p[P+1],p[M+1],p[R+1],.4999),T=pr(p[P],p[M],p[R],.5),C=pr(p[P+1],p[M+1],p[R+1],.5)}l=T-E,u=C-_}if(e.midtgtArrowAngle=zp(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var p=e.allpts;if(p.length/2%2!==0){if(!e.isRound){var b=p.length/2-1,I=b+2;l=-(p[I]-p[b]),u=-(p[I+1]-p[b+1])}}}if(e.midsrcArrowAngle=zp(l,u),a)l=d-e.segpts[e.segpts.length-2],u=f-e.segpts[e.segpts.length-1];else if(i||s||o||n){var p=e.allpts,S=p.length,g=pr(p[S-6],p[S-4],p[S-2],.9),m=pr(p[S-5],p[S-3],p[S-1],.9);l=d-g,u=f-m}else l=d-v,u=f-y;e.tgtArrowAngle=zp(l,u)};Xm.getArrowWidth=Xm.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var NT,LT,na={},$n={},HO,VO,Ko,Iv,Da,Po,Go,Qi,au,Xp,cH,hH,BT,FT,WO,qO=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},s0e=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},o0e=function(e,r,n,i,a){if(e!==WO?qO(r,e,na):s0e($n,na),qO(r,n,$n),HO=na.nx*$n.ny-na.ny*$n.nx,VO=na.nx*$n.nx-na.ny*-$n.ny,Da=Math.asin(Math.max(-1,Math.min(1,HO))),Math.abs(Da)<1e-6){NT=r.x,LT=r.y,Go=au=0;return}Ko=1,Iv=!1,VO<0?Da<0?Da=Math.PI+Da:(Da=Math.PI-Da,Ko=-1,Iv=!0):Da>0&&(Ko=-1,Iv=!0),r.radius!==void 0?au=r.radius:au=i,Po=Da/2,Xp=Math.min(na.len/2,$n.len/2),a?(Qi=Math.abs(Math.cos(Po)*au/Math.sin(Po)),Qi>Xp?(Qi=Xp,Go=Math.abs(Qi*Math.sin(Po)/Math.cos(Po))):Go=au):(Qi=Math.min(Xp,au),Go=Math.abs(Qi*Math.sin(Po)/Math.cos(Po))),BT=r.x+$n.nx*Qi,FT=r.y+$n.ny*Qi,NT=BT-$n.ny*Go*Ko,LT=FT+$n.nx*Go*Ko,cH=r.x+na.nx*Qi,hH=r.y+na.ny*Qi,WO=r};function dH(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function KR(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(o0e(t,e,r,n,i),{cx:NT,cy:LT,radius:Go,startX:cH,startY:hH,stopX:BT,stopY:FT,startAngle:na.ang+Math.PI/2*Ko,endAngle:$n.ang-Math.PI/2*Ko,counterClockwise:Iv})}var Xr={};Xr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(w,E,_,T){var C=T-E,P=_-w,M=Math.sqrt(P*P+C*C);return{x:-C/M,y:P/M}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var h=this.manualEndptToPx(t.source()[0],s),d=wi(h,2),f=d[0],p=d[1],g=this.manualEndptToPx(t.target()[0],o),m=wi(g,2),v=m[0],y=m[1],b={x1:f,y1:p,x2:v,y2:y};i=u(f,p,v,y),a=b}else ot("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};Xr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),c=s.width(),h=o.width(),d=s.height(),f=o.height(),p=r.pstyle("haystack-radius").value,g=p/2;i.haystackPts=i.allpts=[i.source.x*c*g+l.x,i.source.y*d*g+l.y,i.target.x*h*g+u.x,i.target.y*f*g+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Xr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var h=n.pfValue[c],d=i.pfValue[c],f=1-h,p=h,g=this.findMidptPtsEtc(t,e),m=g.midptPts,v=g.vectorNormInverse,y={x:m.x1*f+m.x2*p,y:m.y1*f+m.y2*p};r.segpts.push(y.x+v.x*d,y.y+v.y*d),r.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:u)==="arc-radius")}};Xr.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=r,f=h;n&&(d=0,f=l);var p=u-Math.PI/2,g=p-c/2,m=p+c/2,v=u+"_"+c;d=a[v]===void 0?a[v]=0:++a[v],i.ctrlpts=[s.x+Math.cos(g)*1.4*f*(d/3+1),s.y+Math.sin(g)*1.4*f*(d/3+1),s.x+Math.cos(m)*1.4*f*(d/3+1),s.y+Math.sin(m)*1.4*f*(d/3+1)]};Xr.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),f=d?d.pfValue[0]:void 0,p=r,g=h;n&&(p=0,g=f);var m=50,v={x:a.x-o/2,y:a.y-l/2},y={x:s.x-u/2,y:s.y-c/2},b={x:Math.min(v.x,y.x),y:Math.min(v.y,y.y)},x=.5,w=Math.max(x,Math.log(o*.01)),E=Math.max(x,Math.log(u*.01));i.ctrlpts=[b.x,b.y-(1+Math.pow(m,1.12)/100)*g*(p/3+1)*w,b.x-(1+Math.pow(m,1.12)/100)*g*(p/3+1)*E,b.y]};Xr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Xr.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,c=o?o.pfValue[0]:void 0,h=l.value[0],d=n;a.edgeType=d?"multibezier":"bezier",a.ctrlpts=[];for(var f=0;f<u;f++){var p=(.5-e.eles.length/2+r)*s*(i?-1:1),g=void 0,m=mG(p);d&&(c=o?o.pfValue[f]:s,h=l.value[f]),n?g=c:g=c!==void 0?m*c:void 0;var v=g!==void 0?g:p,y=1-h,b=h,x=this.findMidptPtsEtc(t,e),w=x.midptPts,E=x.vectorNormInverse,_={x:w.x1*y+w.x2*b,y:w.y1*y+w.y2*b};a.ctrlpts.push(_.x+E.x*v,_.y+E.y*v)}};Xr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",c=e.posPts,h=e.srcW,d=e.srcH,f=e.tgtW,p=e.tgtH,g=t.pstyle("edge-distances").value,m=g!=="node-position",v=t.pstyle("taxi-direction").value,y=v,b=t.pstyle("taxi-turn"),x=b.units==="%",w=b.pfValue,E=w<0,_=t.pstyle("taxi-turn-min-distance").pfValue,T=m?(h+f)/2:0,C=m?(d+p)/2:0,P=c.x2-c.x1,M=c.y2-c.y1,R=function(pe,Se){return pe>0?Math.max(pe-Se,0):Math.min(pe+Se,0)},I=R(P,T),S=R(M,C),B=!1;y===u?v=Math.abs(I)>Math.abs(S)?i:n:y===l||y===o?(v=n,B=!0):(y===a||y===s)&&(v=i,B=!0);var L=v===n,N=L?S:I,F=L?M:P,z=mG(F),$=!1;!(B&&(x||E))&&(y===o&&F<0||y===l&&F>0||y===a&&F>0||y===s&&F<0)&&(z*=-1,N=z*Math.abs(N),$=!0);var O;if(x){var j=w<0?1+w:w;O=j*N}else{var J=w<0?N:0;O=J+w*z}var H=function(pe){return Math.abs(pe)<_||Math.abs(pe)>=Math.abs(N)},V=H(O),X=H(Math.abs(N)-Math.abs(O)),te=V||X;if(te&&!$)if(L){var Q=Math.abs(F)<=d/2,Y=Math.abs(P)<=f/2;if(Q){var ae=(c.x1+c.x2)/2,se=c.y1,ve=c.y2;r.segpts=[ae,se,ae,ve]}else if(Y){var ge=(c.y1+c.y2)/2,k=c.x1,K=c.x2;r.segpts=[k,ge,K,ge]}else r.segpts=[c.x1,c.y2]}else{var ne=Math.abs(F)<=h/2,U=Math.abs(M)<=p/2;if(ne){var G=(c.y1+c.y2)/2,q=c.x1,oe=c.x2;r.segpts=[q,G,oe,G]}else if(U){var re=(c.x1+c.x2)/2,Z=c.y1,ee=c.y2;r.segpts=[re,Z,re,ee]}else r.segpts=[c.x2,c.y1]}else if(L){var ue=c.y1+O+(m?d/2*z:0),fe=c.x1,ce=c.x2;r.segpts=[fe,ue,ce,ue]}else{var W=c.x1+O+(m?h/2*z:0),ie=c.y1,de=c.y2;r.segpts=[W,ie,W,de]}if(r.isRound){var le=t.pstyle("taxi-radius").value,he=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(le),r.isArcRadius=new Array(r.segpts.length/2).fill(he)}};Xr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,h=e.srcCornerRadius,d=e.tgtCornerRadius,f=e.srcRs,p=e.tgtRs,g=!Ce(r.startX)||!Ce(r.startY),m=!Ce(r.arrowStartX)||!Ce(r.arrowStartY),v=!Ce(r.endX)||!Ce(r.endY),y=!Ce(r.arrowEndX)||!Ce(r.arrowEndY),b=3,x=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,w=b*x,E=El({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),_=E<w,T=El({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),C=T<w,P=!1;if(g||m||_){P=!0;var M={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},R=Math.sqrt(M.x*M.x+M.y*M.y),I={x:M.x/R,y:M.y/R},S=Math.max(a,s),B={x:r.ctrlpts[0]+I.x*2*S,y:r.ctrlpts[1]+I.y*2*S},L=u.intersectLine(n.x,n.y,a,s,B.x,B.y,0,h,f);_?(r.ctrlpts[0]=r.ctrlpts[0]+I.x*(w-E),r.ctrlpts[1]=r.ctrlpts[1]+I.y*(w-E)):(r.ctrlpts[0]=L[0]+I.x*w,r.ctrlpts[1]=L[1]+I.y*w)}if(v||y||C){P=!0;var N={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},F=Math.sqrt(N.x*N.x+N.y*N.y),z={x:N.x/F,y:N.y/F},$=Math.max(a,s),O={x:r.ctrlpts[0]+z.x*2*$,y:r.ctrlpts[1]+z.y*2*$},j=c.intersectLine(i.x,i.y,o,l,O.x,O.y,0,d,p);C?(r.ctrlpts[0]=r.ctrlpts[0]+z.x*(w-T),r.ctrlpts[1]=r.ctrlpts[1]+z.y*(w-T)):(r.ctrlpts[0]=j[0]+z.x*w,r.ctrlpts[1]=j[1]+z.y*w)}P&&this.findEndpoints(t)}};Xr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=pr(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=pr(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(KR({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var h={x:e.segpts[c],y:e.segpts[c+1]},d=e.roundCorners[c/2],f=[h.x-d.cx,h.y-d.cy],p=d.radius/Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2));f=f.map(function(g){return g*p}),e.midX=d.cx+f[0],e.midY=d.cy+f[1],e.midVector=f}}}};Xr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ce(e.startX)&&Ce(e.startY)&&Ce(e.endX)&&Ce(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ot("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Xr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new va,get:function(_){var T=this.map.get(_[0]);return T!=null?T.get(_[1]):null},set:function(_,T){var C=this.map.get(_[0]);C==null&&(C=new va,this.map.set(_[0],C)),C.set(_[1],T)}},s=[],o=[],l=0;l<t.length;l++){var u=t[l],c=u._private,h=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(h==="haystack"){o.push(u);continue}var d=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),f=h==="unbundled-bezier"||h==="bezier",p=c.source,g=c.target,m=p.poolIndex(),v=g.poolIndex(),y=[m,v].sort(),b=a.get(y);b==null&&(b={eles:[]},a.set(y,b),s.push(y)),b.eles.push(u),d&&(b.hasUnbundled=!0),f&&(b.hasBezier=!0)}}for(var x=function(_){var T=s[_],C=a.get(T),P=void 0;if(!C.hasUnbundled){var M=C.eles[0].parallelEdges().filter(function(W){return W.isBundledBezier()});NR(C.eles),M.forEach(function(W){return C.eles.push(W)}),C.eles.sort(function(W,ie){return W.poolIndex()-ie.poolIndex()})}var R=C.eles[0],I=R.source(),S=R.target();if(I.poolIndex()>S.poolIndex()){var B=I;I=S,S=B}var L=C.srcPos=I.position(),N=C.tgtPos=S.position(),F=C.srcW=I.outerWidth(),z=C.srcH=I.outerHeight(),$=C.tgtW=S.outerWidth(),O=C.tgtH=S.outerHeight(),j=C.srcShape=r.nodeShapes[e.getNodeShape(I)],J=C.tgtShape=r.nodeShapes[e.getNodeShape(S)],H=C.srcCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,V=C.tgtCornerRadius=S.pstyle("corner-radius").value==="auto"?"auto":S.pstyle("corner-radius").pfValue,X=C.tgtRs=S._private.rscratch,te=C.srcRs=I._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Q=0;Q<C.eles.length;Q++){var Y=C.eles[Q],ae=Y[0]._private.rscratch,se=Y.pstyle("curve-style").value,ve=se==="unbundled-bezier"||se.endsWith("segments")||se.endsWith("taxi"),ge=!I.same(Y.source());if(!C.calculatedIntersection&&I!==S&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var k=j.intersectLine(L.x,L.y,F,z,N.x,N.y,0,H,te),K=C.srcIntn=k,ne=J.intersectLine(N.x,N.y,$,O,L.x,L.y,0,V,X),U=C.tgtIntn=ne,G=C.intersectionPts={x1:k[0],x2:ne[0],y1:k[1],y2:ne[1]},q=C.posPts={x1:L.x,x2:N.x,y1:L.y,y2:N.y},oe=ne[1]-k[1],re=ne[0]-k[0],Z=Math.sqrt(re*re+oe*oe),ee=C.vector={x:re,y:oe},ue=C.vectorNorm={x:ee.x/Z,y:ee.y/Z},fe={x:-ue.y,y:ue.x};C.nodesOverlap=!Ce(Z)||J.checkPoint(k[0],k[1],0,$,O,N.x,N.y,V,X)||j.checkPoint(ne[0],ne[1],0,F,z,L.x,L.y,H,te),C.vectorNormInverse=fe,P={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:N,srcRs:X,tgtPos:L,tgtRs:te,srcW:$,srcH:O,tgtW:F,tgtH:z,srcIntn:U,tgtIntn:K,srcShape:J,tgtShape:j,posPts:{x1:q.x2,y1:q.y2,x2:q.x1,y2:q.y1},intersectionPts:{x1:G.x2,y1:G.y2,x2:G.x1,y2:G.y1},vector:{x:-ee.x,y:-ee.y},vectorNorm:{x:-ue.x,y:-ue.y},vectorNormInverse:{x:-fe.x,y:-fe.y}}}var ce=ge?P:C;ae.nodesOverlap=ce.nodesOverlap,ae.srcIntn=ce.srcIntn,ae.tgtIntn=ce.tgtIntn,ae.isRound=se.startsWith("round"),i&&(I.isParent()||I.isChild()||S.isParent()||S.isChild())&&(I.parents().anySame(S)||S.parents().anySame(I)||I.same(S)&&I.isParent())?e.findCompoundLoopPoints(Y,ce,Q,ve):I===S?e.findLoopPoints(Y,ce,Q,ve):se.endsWith("segments")?e.findSegmentsPoints(Y,ce):se.endsWith("taxi")?e.findTaxiPoints(Y,ce):se==="straight"||!ve&&C.eles.length%2===1&&Q===Math.floor(C.eles.length/2)?e.findStraightEdgePoints(Y):e.findBezierPoints(Y,ce,Q,ve,ge),e.findEndpoints(Y),e.tryToCorrectInvalidPoints(Y,ce),e.checkForInvalidEdgeWarning(Y),e.storeAllpts(Y),e.storeEdgeProjections(Y),e.calculateArrowAngles(Y),e.recalculateEdgeLabelProjections(Y),e.calculateLabelAngles(Y)}},w=0;w<s.length;w++)x(w);this.findHaystackPoints(o)}};function fH(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}Xr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return fH(e.segpts)};Xr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return fH(e.ctrlpts)};Xr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Mf={};Mf.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};Mf.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),s=i.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,h=n._private.rscratch,d=i._private.rscratch,f=t.pstyle("curve-style").value,p=t._private.rscratch,g=p.edgeType,m=f==="taxi",v=g==="self"||g==="compound",y=g==="bezier"||g==="multibezier"||v,b=g!=="bezier",x=g==="straight"||g==="segments",w=g==="segments",E=y||b||x,_=v||m,T=t.pstyle("source-endpoint"),C=_?"outside-to-node":T.value,P=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,M=t.pstyle("target-endpoint"),R=_?"outside-to-node":M.value,I=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;p.srcManEndpt=T,p.tgtManEndpt=M;var S,B,L,N;if(y){var F=[p.ctrlpts[0],p.ctrlpts[1]],z=b?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:F;S=z,B=F}else if(x){var $=w?p.segpts.slice(0,2):[s.x,s.y],O=w?p.segpts.slice(p.segpts.length-2):[a.x,a.y];S=O,B=$}if(R==="inside-to-node")r=[s.x,s.y];else if(M.units)r=this.manualEndptToPx(i,M);else if(R==="outside-to-line")r=p.tgtIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?L=S:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(L=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),L[0],L[1],0,I,d),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var j=i._private.rscratch,J=j.labelWidth,H=j.labelHeight,V=j.labelX,X=j.labelY,te=J/2,Q=H/2,Y=i.pstyle("text-valign").value;Y==="top"?X-=Q:Y==="bottom"&&(X+=Q);var ae=i.pstyle("text-halign").value;ae==="left"?V-=te:ae==="right"&&(V+=te);var se=Xd(L[0],L[1],[V-te,X-Q,V+te,X-Q,V+te,X+Q,V-te,X+Q],s.x,s.y);if(se.length>0){var ve=a,ge=Uo(ve,ku(r)),k=Uo(ve,ku(se)),K=ge;if(k<ge&&(r=se,K=k),se.length>2){var ne=Uo(ve,{x:se[2],y:se[3]});ne<K&&(r=[se[2],se[3]])}}}var U=jp(r,S,e.arrowShapes[o].spacing(t)+u),G=jp(r,S,e.arrowShapes[o].gap(t)+u);if(p.endX=G[0],p.endY=G[1],p.arrowEndX=U[0],p.arrowEndY=U[1],C==="inside-to-node")r=[a.x,a.y];else if(T.units)r=this.manualEndptToPx(n,T);else if(C==="outside-to-line")r=p.srcIntn;else if(C==="outside-to-node"||C==="outside-to-node-or-label"?N=B:(C==="outside-to-line"||C==="outside-to-line-or-label")&&(N=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),N[0],N[1],0,P,h),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var q=n._private.rscratch,oe=q.labelWidth,re=q.labelHeight,Z=q.labelX,ee=q.labelY,ue=oe/2,fe=re/2,ce=n.pstyle("text-valign").value;ce==="top"?ee-=fe:ce==="bottom"&&(ee+=fe);var W=n.pstyle("text-halign").value;W==="left"?Z-=ue:W==="right"&&(Z+=ue);var ie=Xd(N[0],N[1],[Z-ue,ee-fe,Z+ue,ee-fe,Z+ue,ee+fe,Z-ue,ee+fe],a.x,a.y);if(ie.length>0){var de=s,le=Uo(de,ku(r)),he=Uo(de,ku(ie)),Ee=le;if(he<le&&(r=[ie[0],ie[1]],Ee=he),ie.length>2){var pe=Uo(de,{x:ie[2],y:ie[3]});pe<Ee&&(r=[ie[2],ie[3]])}}}var Se=jp(r,B,e.arrowShapes[l].spacing(t)+c),Be=jp(r,B,e.arrowShapes[l].gap(t)+c);p.startX=Be[0],p.startY=Be[1],p.arrowStartX=Se[0],p.arrowStartY=Se[1],E&&(!Ce(p.startX)||!Ce(p.startY)||!Ce(p.endX)||!Ce(p.endY)?p.badLine=!0:p.badLine=!1)};Mf.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Mf.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var ZR={};function l0e(t,e,r){for(var n=function(u,c,h,d){return pr(u,c,h,d)},i=e._private,a=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}ZR.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)l0e(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};ZR.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Ta={};Ta.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!lo(e)){var r,n,i=t._private,a=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(u){case"left":r=l.x-a/2-o;break;case"right":r=l.x+a/2+o;break;default:r=l.x}switch(c){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}h.labelX=r,h.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var pH=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},vH=function(e,r){var n=r.x-e.x,i=r.y-e.y;return pH(n,i)},u0e=function(e,r,n,i){var a=qd(0,i-.001,1),s=qd(0,i+.001,1),o=Qu(e,r,n,a),l=Qu(e,r,n,s);return vH(o,l)};Ta.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var s=function(h,d,f){Os(r.rscratch,h,d,f),Os(r.rstyle,h,d,f)};s("labelX",null,e.x),s("labelY",null,e.y);var o=pH(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function c(){if(c.cache)return c.cache;for(var h=[],d=0;d+5<n.allpts.length;d+=4){var f={x:n.allpts[d],y:n.allpts[d+1]},p={x:n.allpts[d+2],y:n.allpts[d+3]},g={x:n.allpts[d+4],y:n.allpts[d+5]};h.push({p0:f,p1:p,p2:g,startDist:0,length:0,segments:[]})}var m=r.rstyle.bezierPts,v=i.bezierProjPcts.length;function y(_,T,C,P,M){var R=El(T,C),I=_.segments[_.segments.length-1],S={p0:T,p1:C,t0:P,t1:M,startDist:I?I.startDist+I.length:0,length:R};_.segments.push(S),_.length+=R}for(var b=0;b<h.length;b++){var x=h[b],w=h[b-1];w&&(x.startDist=w.startDist+w.length),y(x,x.p0,m[b*v],0,i.bezierProjPcts[0]);for(var E=0;E<v-1;E++)y(x,m[b*v+E],m[b*v+E+1],i.bezierProjPcts[E],i.bezierProjPcts[E+1]);y(x,m[b*v+v-1],x.p2,i.bezierProjPcts[v-1],1)}return c.cache=h},u=function(h){var d,f=h==="source";if(a[h]){var p=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),m,v=0,y=0,b=0;b<g.length;b++){for(var x=g[f?b:g.length-1-b],w=0;w<x.segments.length;w++){var E=x.segments[f?w:x.segments.length-1-w],_=b===g.length-1&&w===x.segments.length-1;if(v=y,y+=E.length,y>=p||_){m={cp:x,segment:E};break}}if(m)break}var T=m.cp,C=m.segment,P=(p-v)/C.length,M=C.t1-C.t0,R=f?C.t0+M*P:C.t1-M*P;R=qd(0,R,1),e=Qu(T.p0,T.p1,T.p2,R),d=u0e(T.p0,T.p1,T.p2,R);break}case"straight":case"segments":case"haystack":{for(var I=0,S,B,L,N,F=n.allpts.length,z=0;z+3<F&&(f?(L={x:n.allpts[z],y:n.allpts[z+1]},N={x:n.allpts[z+2],y:n.allpts[z+3]}):(L={x:n.allpts[F-2-z],y:n.allpts[F-1-z]},N={x:n.allpts[F-4-z],y:n.allpts[F-3-z]}),S=El(L,N),B=I,I+=S,!(I>=p));z+=2);var $=p-B,O=$/S;O=qd(0,O,1),e=ppe(L,N,O),d=vH(L,N);break}}s("labelX",h,e.x),s("labelY",h,e.y),s("labelAutoAngle",h,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}};Ta.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Ta.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),a=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,o=Ai(r.rscratch,"labelWrapCachedLines",e)||[],l=s!=="wrap"?1:Math.max(o.length,1),u=i.height/l,c=u*a,h=i.width,d=i.height+(l-1)*(a-1)*u;Os(r.rstyle,"labelWidth",e,h),Os(r.rscratch,"labelWidth",e,h),Os(r.rstyle,"labelHeight",e,d),Os(r.rscratch,"labelHeight",e,d),Os(r.rscratch,"labelLineHeight",e,c)};Ta.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,s=function(J,H){return H?(Os(r.rscratch,J,e,H),H):Ai(r.rscratch,J,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="​",c=i.split(`
`),h=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,f=d==="anywhere",p=[],g=/[\s\u200b]+|$/g,m=0;m<c.length;m++){var v=c[m],y=this.calculateLabelDimensions(t,v),b=y.width;if(f){var x=v.split("").join(u);v=x}if(b>h){var w=v.matchAll(g),E="",_=0,T=Z8(w),C;try{for(T.s();!(C=T.n()).done;){var P=C.value,M=P[0],R=v.substring(_,P.index);_=P.index+M.length;var I=E.length===0?R:E+R+M,S=this.calculateLabelDimensions(t,I),B=S.width;B<=h?E+=R+M:(E&&p.push(E),E=R+M)}}catch(j){T.e(j)}finally{T.f()}E.match(/^[\s\u200b]+$/)||p.push(E)}else p.push(v)}s("labelWrapCachedLines",p),i=s("labelWrapCachedText",p.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var L=t.pstyle("text-max-width").pfValue,N="",F="…",z=!1;if(this.calculateLabelDimensions(t,i).width<L)return i;for(var $=0;$<i.length;$++){var O=this.calculateLabelDimensions(t,N+i[$]+F).width;if(O>L)break;N+=i[$],$===i.length-1&&(z=!0)}return z||(N+=F),N}return i};Ta.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Ta.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=_l(e,t._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),o=s[a];if(o!=null)return o;var l=0,u=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,f=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=i.createElement("canvas"),p=this.labelCalcCanvasContext=f.getContext("2d");var g=f.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}p.font="".concat(u," ").concat(d," ").concat(c,"px ").concat(h);for(var m=0,v=0,y=e.split(`
`),b=0;b<y.length;b++){var x=y[b],w=p.measureText(x),E=Math.ceil(w.width),_=c;m=Math.max(E,m),v+=_}return m+=l,v+=l,s[a]={width:m,height:v}};Ta.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Ta.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var mH={},XO=28,YO=!1;mH.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<XO||t.height()<XO))return YO||(ot("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),YO=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Py={};Py.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],c=u._private,h=c.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var i=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(o)for(var h=0;h<o.length;h++){var d=o[h];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Py.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Py.recalculateRenderedStyle=function(t,e){var r=function(x){return x._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],h=c._private,d=h.rstyle,f=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=f.x,d.nodeY=f.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var g=n[p],m=g._private,v=m.rstyle,y=m.rscratch;v.srcX=y.arrowStartX,v.srcY=y.arrowStartY,v.tgtX=y.arrowEndX,v.tgtY=y.arrowEndY,v.midX=y.midX,v.midY=y.midY,v.labelAngle=y.labelAngle,v.sourceLabelAngle=y.sourceLabelAngle,v.targetLabelAngle=y.targetLabelAngle}}};var Iy={};Iy.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Iy.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Iy.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(JG),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var gH={};[Fl,Xm,Xr,Mf,ZR,Ta,mH,Py,Iy].forEach(function(t){Ge(gH,t)});var yH={};yH.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var Wc={};Wc.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);a.push(l.on.apply(l,i))}}return a}var l=this.binder(t);return l.on.apply(l,i)};Wc.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||Ode(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var s=function(l,u,c){var h=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(h[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:s,addEventListener:s,addListener:s,bind:s}};Wc.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Wc.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Wc.load=function(){var t=this,e=t.cy.window(),r=function(W){return W.selected()},n=function(W){var ie=W.getRootNode();if(ie&&ie.nodeType===11&&ie.host!==void 0)return ie},i=function(W,ie,de,le){W==null&&(W=t.cy);for(var he=0;he<ie.length;he++){var Ee=ie[he];W.emit({originalEvent:de,type:Ee,position:le})}},a=function(W){return W.shiftKey||W.metaKey||W.ctrlKey},s=function(W,ie){var de=!0;if(t.cy.hasCompoundNodes()&&W&&W.pannable())for(var le=0;ie&&le<ie.length;le++){var W=ie[le];if(W.isNode()&&W.isParent()&&!W.pannable()){de=!1;break}}else de=!0;return de},o=function(W){W[0]._private.grabbed=!0},l=function(W){W[0]._private.grabbed=!1},u=function(W){W[0]._private.rscratch.inDragLayer=!0},c=function(W){W[0]._private.rscratch.inDragLayer=!1},h=function(W){W[0]._private.rscratch.isGrabTarget=!0},d=function(W){W[0]._private.rscratch.isGrabTarget=!1},f=function(W,ie){var de=ie.addToList,le=de.has(W);!le&&W.grabbable()&&!W.locked()&&(de.merge(W),o(W))},p=function(W,ie){if(W.cy().hasCompoundNodes()&&!(ie.inDragLayer==null&&ie.addToList==null)){var de=W.descendants();ie.inDragLayer&&(de.forEach(u),de.connectedEdges().forEach(u)),ie.addToList&&f(de,ie)}},g=function(W,ie){ie=ie||{};var de=W.cy().hasCompoundNodes();ie.inDragLayer&&(W.forEach(u),W.neighborhood().stdFilter(function(le){return!de||le.isEdge()}).forEach(u)),ie.addToList&&W.forEach(function(le){f(le,ie)}),p(W,ie),y(W,{inDragLayer:ie.inDragLayer}),t.updateCachedGrabbedEles()},m=g,v=function(W){W&&(t.getCachedZSortedEles().forEach(function(ie){l(ie),c(ie),d(ie)}),t.updateCachedGrabbedEles())},y=function(W,ie){if(!(ie.inDragLayer==null&&ie.addToList==null)&&W.cy().hasCompoundNodes()){var de=W.ancestors().orphans();if(!de.same(W)){var le=de.descendants().spawnSelf().merge(de).unmerge(W).unmerge(W.descendants()),he=le.connectedEdges();ie.inDragLayer&&(he.forEach(u),le.forEach(u)),ie.addToList&&le.forEach(function(Ee){f(Ee,ie)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";x?(t.removeObserver=new MutationObserver(function(ce){for(var W=0;W<ce.length;W++){var ie=ce[W],de=ie.removedNodes;if(de)for(var le=0;le<de.length;le++){var he=de[le];if(he===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ce){t.destroy()});var E=vy(function(){t.cy.resize()},100);x&&(t.styleObserver=new MutationObserver(E),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",E),w&&(t.resizeObserver=new ResizeObserver(E),t.resizeObserver.observe(t.container));var _=function(W,ie){for(;W!=null;)ie(W),W=W.parentNode},T=function(){t.invalidateContainerClientCoordsCache()};_(t.container,function(ce){t.registerBinding(ce,"transitionend",T),t.registerBinding(ce,"animationend",T),t.registerBinding(ce,"scroll",T)}),t.registerBinding(t.container,"contextmenu",function(ce){ce.preventDefault()});var C=function(){return t.selection[4]!==0},P=function(W){for(var ie=t.findContainerClientCoords(),de=ie[0],le=ie[1],he=ie[2],Ee=ie[3],pe=W.touches?W.touches:[W],Se=!1,Be=0;Be<pe.length;Be++){var je=pe[Be];if(de<=je.clientX&&je.clientX<=de+he&&le<=je.clientY&&je.clientY<=le+Ee){Se=!0;break}}if(!Se)return!1;for(var De=t.container,Ve=W.target,We=Ve.parentNode,Ue=!1;We;){if(We===De){Ue=!0;break}We=We.parentNode}return!!Ue};t.registerBinding(t.container,"mousedown",function(W){if(P(W)&&!(t.hoverData.which===1&&W.which!==1)){W.preventDefault(),b(),t.hoverData.capture=!0,t.hoverData.which=W.which;var ie=t.cy,de=[W.clientX,W.clientY],le=t.projectIntoViewport(de[0],de[1]),he=t.selection,Ee=t.findNearestElements(le[0],le[1],!0,!1),pe=Ee[0],Se=t.dragData.possibleDragElements;t.hoverData.mdownPos=le,t.hoverData.mdownGPos=de;var Be=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var lt=t.hoverData.down;lt?lt.emit({originalEvent:W,type:"taphold",position:{x:le[0],y:le[1]}}):ie.emit({originalEvent:W,type:"taphold",position:{x:le[0],y:le[1]}})}},t.tapholdDuration)};if(W.which==3){t.hoverData.cxtStarted=!0;var je={originalEvent:W,type:"cxttapstart",position:{x:le[0],y:le[1]}};pe?(pe.activate(),pe.emit(je),t.hoverData.down=pe):ie.emit(je),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(W.which==1){pe&&pe.activate();{if(pe!=null&&t.nodeIsGrabbable(pe)){var De=function(lt){return{originalEvent:W,type:lt,position:{x:le[0],y:le[1]}}},Ve=function(lt){lt.emit(De("grab"))};if(h(pe),!pe.selected())Se=t.dragData.possibleDragElements=ie.collection(),m(pe,{addToList:Se}),pe.emit(De("grabon")).emit(De("grab"));else{Se=t.dragData.possibleDragElements=ie.collection();var We=ie.$(function(Ue){return Ue.isNode()&&Ue.selected()&&t.nodeIsGrabbable(Ue)});g(We,{addToList:Se}),pe.emit(De("grabon")),We.forEach(Ve)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=pe,t.hoverData.downs=Ee,t.hoverData.downTime=new Date().getTime()}i(pe,["mousedown","tapstart","vmousedown"],W,{x:le[0],y:le[1]}),pe==null?(he[4]=1,t.data.bgActivePosistion={x:le[0],y:le[1]},t.redrawHint("select",!0),t.redraw()):pe.pannable()&&(he[4]=1),Be()}he[0]=he[2]=le[0],he[1]=he[3]=le[1]}},!1);var M=n(t.container);t.registerBinding([e,M],"mousemove",function(W){var ie=t.hoverData.capture;if(!(!ie&&!P(W))){var de=!1,le=t.cy,he=le.zoom(),Ee=[W.clientX,W.clientY],pe=t.projectIntoViewport(Ee[0],Ee[1]),Se=t.hoverData.mdownPos,Be=t.hoverData.mdownGPos,je=t.selection,De=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(De=t.findNearestElement(pe[0],pe[1],!0,!1));var Ve=t.hoverData.last,We=t.hoverData.down,Ue=[pe[0]-je[2],pe[1]-je[3]],lt=t.dragData.possibleDragElements,ut;if(Be){var cr=Ee[0]-Be[0],Cn=cr*cr,Zt=Ee[1]-Be[1],hr=Zt*Zt,dr=Cn+hr;t.hoverData.isOverThresholdDrag=ut=dr>=t.desktopTapThreshold2}var Yr=a(W);ut&&(t.hoverData.tapholdCancelled=!0);var Kr=function(){var Xi=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Xi.length===0?(Xi.push(Ue[0]),Xi.push(Ue[1])):(Xi[0]+=Ue[0],Xi[1]+=Ue[1])};de=!0,i(De,["mousemove","vmousemove","tapdrag"],W,{x:pe[0],y:pe[1]});var Wi=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||le.emit({originalEvent:W,type:"boxstart",position:{x:pe[0],y:pe[1]}}),je[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ut){var Un={originalEvent:W,type:"cxtdrag",position:{x:pe[0],y:pe[1]}};We?We.emit(Un):le.emit(Un),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||De!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:W,type:"cxtdragout",position:{x:pe[0],y:pe[1]}}),t.hoverData.cxtOver=De,De&&De.emit({originalEvent:W,type:"cxtdragover",position:{x:pe[0],y:pe[1]}}))}}else if(t.hoverData.dragging){if(de=!0,le.panningEnabled()&&le.userPanningEnabled()){var qi;if(t.hoverData.justStartedPan){var Pa=t.hoverData.mdownPos;qi={x:(pe[0]-Pa[0])*he,y:(pe[1]-Pa[1])*he},t.hoverData.justStartedPan=!1}else qi={x:Ue[0]*he,y:Ue[1]*he};le.panBy(qi),le.emit("dragpan"),t.hoverData.dragged=!0}pe=t.projectIntoViewport(W.clientX,W.clientY)}else if(je[4]==1&&(We==null||We.pannable())){if(ut){if(!t.hoverData.dragging&&le.boxSelectionEnabled()&&(Yr||!le.panningEnabled()||!le.userPanningEnabled()))Wi();else if(!t.hoverData.selecting&&le.panningEnabled()&&le.userPanningEnabled()){var Ia=s(We,t.hoverData.downs);Ia&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,je[4]=0,t.data.bgActivePosistion=ku(Se),t.redrawHint("select",!0),t.redraw())}We&&We.pannable()&&We.active()&&We.unactivate()}}else{if(We&&We.pannable()&&We.active()&&We.unactivate(),(!We||!We.grabbed())&&De!=Ve&&(Ve&&i(Ve,["mouseout","tapdragout"],W,{x:pe[0],y:pe[1]}),De&&i(De,["mouseover","tapdragover"],W,{x:pe[0],y:pe[1]}),t.hoverData.last=De),We)if(ut){if(le.boxSelectionEnabled()&&Yr)We&&We.grabbed()&&(v(lt),We.emit("freeon"),lt.emit("free"),t.dragData.didDrag&&(We.emit("dragfreeon"),lt.emit("dragfree"))),Wi();else if(We&&We.grabbed()&&t.nodeIsDraggable(We)){var Or=!t.dragData.didDrag;Or&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||g(lt,{inDragLayer:!0});var fr={x:0,y:0};if(Ce(Ue[0])&&Ce(Ue[1])&&(fr.x+=Ue[0],fr.y+=Ue[1],Or)){var on=t.hoverData.dragDelta;on&&Ce(on[0])&&Ce(on[1])&&(fr.x+=on[0],fr.y+=on[1])}t.hoverData.draggingEles=!0,lt.silentShift(fr).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Kr();de=!0}if(je[2]=pe[0],je[3]=pe[1],de)return W.stopPropagation&&W.stopPropagation(),W.preventDefault&&W.preventDefault(),!1}},!1);var R,I,S;t.registerBinding(e,"mouseup",function(W){if(!(t.hoverData.which===1&&W.which!==1&&t.hoverData.capture)){var ie=t.hoverData.capture;if(ie){t.hoverData.capture=!1;var de=t.cy,le=t.projectIntoViewport(W.clientX,W.clientY),he=t.selection,Ee=t.findNearestElement(le[0],le[1],!0,!1),pe=t.dragData.possibleDragElements,Se=t.hoverData.down,Be=a(W);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Se&&Se.unactivate(),t.hoverData.which===3){var je={originalEvent:W,type:"cxttapend",position:{x:le[0],y:le[1]}};if(Se?Se.emit(je):de.emit(je),!t.hoverData.cxtDragged){var De={originalEvent:W,type:"cxttap",position:{x:le[0],y:le[1]}};Se?Se.emit(De):de.emit(De)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(Ee,["mouseup","tapend","vmouseup"],W,{x:le[0],y:le[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(Se,["click","tap","vclick"],W,{x:le[0],y:le[1]}),I=!1,W.timeStamp-S<=de.multiClickDebounceTime()?(R&&clearTimeout(R),I=!0,S=null,i(Se,["dblclick","dbltap","vdblclick"],W,{x:le[0],y:le[1]})):(R=setTimeout(function(){I||i(Se,["oneclick","onetap","voneclick"],W,{x:le[0],y:le[1]})},de.multiClickDebounceTime()),S=W.timeStamp)),Se==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(W)&&(de.$(r).unselect(["tapunselect"]),pe.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=pe=de.collection()),Ee==Se&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ee!=null&&Ee._private.selectable&&(t.hoverData.dragging||(de.selectionType()==="additive"||Be?Ee.selected()?Ee.unselect(["tapunselect"]):Ee.select(["tapselect"]):Be||(de.$(r).unmerge(Ee).unselect(["tapunselect"]),Ee.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ve=de.collection(t.getAllInBox(he[0],he[1],he[2],he[3]));t.redrawHint("select",!0),Ve.length>0&&t.redrawHint("eles",!0),de.emit({type:"boxend",originalEvent:W,position:{x:le[0],y:le[1]}});var We=function(ut){return ut.selectable()&&!ut.selected()};de.selectionType()==="additive"||Be||de.$(r).unmerge(Ve).unselect(),Ve.emit("box").stdFilter(We).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!he[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ue=Se&&Se.grabbed();v(pe),Ue&&(Se.emit("freeon"),pe.emit("free"),t.dragData.didDrag&&(Se.emit("dragfreeon"),pe.emit("dragfree")))}}he[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var B=function(W){if(!t.scrollingPage){var ie=t.cy,de=ie.zoom(),le=ie.pan(),he=t.projectIntoViewport(W.clientX,W.clientY),Ee=[he[0]*de+le.x,he[1]*de+le.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||C()){W.preventDefault();return}if(ie.panningEnabled()&&ie.userPanningEnabled()&&ie.zoomingEnabled()&&ie.userZoomingEnabled()){W.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var pe;W.deltaY!=null?pe=W.deltaY/-250:W.wheelDeltaY!=null?pe=W.wheelDeltaY/1e3:pe=W.wheelDelta/1e3,pe=pe*t.wheelSensitivity;var Se=W.deltaMode===1;Se&&(pe*=33);var Be=ie.zoom()*Math.pow(10,pe);W.type==="gesturechange"&&(Be=t.gestureStartZoom*W.scale),ie.zoom({level:Be,renderedPosition:{x:Ee[0],y:Ee[1]}}),ie.emit(W.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",B,!0),t.registerBinding(e,"scroll",function(W){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(W){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||W.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ce){t.hasTouchStarted||B(ce)},!0),t.registerBinding(t.container,"mouseout",function(W){var ie=t.projectIntoViewport(W.clientX,W.clientY);t.cy.emit({originalEvent:W,type:"mouseout",position:{x:ie[0],y:ie[1]}})},!1),t.registerBinding(t.container,"mouseover",function(W){var ie=t.projectIntoViewport(W.clientX,W.clientY);t.cy.emit({originalEvent:W,type:"mouseover",position:{x:ie[0],y:ie[1]}})},!1);var L,N,F,z,$,O,j,J,H,V,X,te,Q,Y=function(W,ie,de,le){return Math.sqrt((de-W)*(de-W)+(le-ie)*(le-ie))},ae=function(W,ie,de,le){return(de-W)*(de-W)+(le-ie)*(le-ie)},se;t.registerBinding(t.container,"touchstart",se=function(W){if(t.hasTouchStarted=!0,!!P(W)){b(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ie=t.cy,de=t.touchData.now,le=t.touchData.earlier;if(W.touches[0]){var he=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);de[0]=he[0],de[1]=he[1]}if(W.touches[1]){var he=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);de[2]=he[0],de[3]=he[1]}if(W.touches[2]){var he=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);de[4]=he[0],de[5]=he[1]}if(W.touches[1]){t.touchData.singleTouchMoved=!0,v(t.dragData.touchDragEles);var Ee=t.findContainerClientCoords();H=Ee[0],V=Ee[1],X=Ee[2],te=Ee[3],L=W.touches[0].clientX-H,N=W.touches[0].clientY-V,F=W.touches[1].clientX-H,z=W.touches[1].clientY-V,Q=0<=L&&L<=X&&0<=F&&F<=X&&0<=N&&N<=te&&0<=z&&z<=te;var pe=ie.pan(),Se=ie.zoom();$=Y(L,N,F,z),O=ae(L,N,F,z),j=[(L+F)/2,(N+z)/2],J=[(j[0]-pe.x)/Se,(j[1]-pe.y)/Se];var Be=200,je=Be*Be;if(O<je&&!W.touches[2]){var De=t.findNearestElement(de[0],de[1],!0,!0),Ve=t.findNearestElement(de[2],de[3],!0,!0);De&&De.isNode()?(De.activate().emit({originalEvent:W,type:"cxttapstart",position:{x:de[0],y:de[1]}}),t.touchData.start=De):Ve&&Ve.isNode()?(Ve.activate().emit({originalEvent:W,type:"cxttapstart",position:{x:de[0],y:de[1]}}),t.touchData.start=Ve):ie.emit({originalEvent:W,type:"cxttapstart",position:{x:de[0],y:de[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(W.touches[2])ie.boxSelectionEnabled()&&W.preventDefault();else if(!W.touches[1]){if(W.touches[0]){var We=t.findNearestElements(de[0],de[1],!0,!0),Ue=We[0];if(Ue!=null&&(Ue.activate(),t.touchData.start=Ue,t.touchData.starts=We,t.nodeIsGrabbable(Ue))){var lt=t.dragData.touchDragEles=ie.collection(),ut=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ue.selected()?(ut=ie.$(function(dr){return dr.selected()&&t.nodeIsGrabbable(dr)}),g(ut,{addToList:lt})):m(Ue,{addToList:lt}),h(Ue);var cr=function(Yr){return{originalEvent:W,type:Yr,position:{x:de[0],y:de[1]}}};Ue.emit(cr("grabon")),ut?ut.forEach(function(dr){dr.emit(cr("grab"))}):Ue.emit(cr("grab"))}i(Ue,["touchstart","tapstart","vmousedown"],W,{x:de[0],y:de[1]}),Ue==null&&(t.data.bgActivePosistion={x:he[0],y:he[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],W,{x:de[0],y:de[1]})},t.tapholdDuration)}}if(W.touches.length>=1){for(var Cn=t.touchData.startPosition=[null,null,null,null,null,null],Zt=0;Zt<de.length;Zt++)Cn[Zt]=le[Zt]=de[Zt];var hr=W.touches[0];t.touchData.startGPosition=[hr.clientX,hr.clientY]}}},!1);var ve;t.registerBinding(e,"touchmove",ve=function(W){var ie=t.touchData.capture;if(!(!ie&&!P(W))){var de=t.selection,le=t.cy,he=t.touchData.now,Ee=t.touchData.earlier,pe=le.zoom();if(W.touches[0]){var Se=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);he[0]=Se[0],he[1]=Se[1]}if(W.touches[1]){var Se=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);he[2]=Se[0],he[3]=Se[1]}if(W.touches[2]){var Se=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);he[4]=Se[0],he[5]=Se[1]}var Be=t.touchData.startGPosition,je;if(ie&&W.touches[0]&&Be){for(var De=[],Ve=0;Ve<he.length;Ve++)De[Ve]=he[Ve]-Ee[Ve];var We=W.touches[0].clientX-Be[0],Ue=We*We,lt=W.touches[0].clientY-Be[1],ut=lt*lt,cr=Ue+ut;je=cr>=t.touchTapThreshold2}if(ie&&t.touchData.cxt){W.preventDefault();var Cn=W.touches[0].clientX-H,Zt=W.touches[0].clientY-V,hr=W.touches[1].clientX-H,dr=W.touches[1].clientY-V,Yr=ae(Cn,Zt,hr,dr),Kr=Yr/O,Wi=150,Un=Wi*Wi,qi=1.5,Pa=qi*qi;if(Kr>=Pa||Yr>=Un){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ia={originalEvent:W,type:"cxttapend",position:{x:he[0],y:he[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Ia),t.touchData.start=null):le.emit(Ia)}}if(ie&&t.touchData.cxt){var Ia={originalEvent:W,type:"cxtdrag",position:{x:he[0],y:he[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Ia):le.emit(Ia),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Or=t.findNearestElement(he[0],he[1],!0,!0);(!t.touchData.cxtOver||Or!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:W,type:"cxtdragout",position:{x:he[0],y:he[1]}}),t.touchData.cxtOver=Or,Or&&Or.emit({originalEvent:W,type:"cxtdragover",position:{x:he[0],y:he[1]}}))}else if(ie&&W.touches[2]&&le.boxSelectionEnabled())W.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||le.emit({originalEvent:W,type:"boxstart",position:{x:he[0],y:he[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,de[4]=1,!de||de.length===0||de[0]===void 0?(de[0]=(he[0]+he[2]+he[4])/3,de[1]=(he[1]+he[3]+he[5])/3,de[2]=(he[0]+he[2]+he[4])/3+1,de[3]=(he[1]+he[3]+he[5])/3+1):(de[2]=(he[0]+he[2]+he[4])/3,de[3]=(he[1]+he[3]+he[5])/3),t.redrawHint("select",!0),t.redraw();else if(ie&&W.touches[1]&&!t.touchData.didSelect&&le.zoomingEnabled()&&le.panningEnabled()&&le.userZoomingEnabled()&&le.userPanningEnabled()){W.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var fr=t.dragData.touchDragEles;if(fr){t.redrawHint("drag",!0);for(var on=0;on<fr.length;on++){var jf=fr[on]._private;jf.grabbed=!1,jf.rscratch.inDragLayer=!1}}var Xi=t.touchData.start,Cn=W.touches[0].clientX-H,Zt=W.touches[0].clientY-V,hr=W.touches[1].clientX-H,dr=W.touches[1].clientY-V,mP=Y(Cn,Zt,hr,dr),O9=mP/$;if(Q){var N9=Cn-L,L9=Zt-N,B9=hr-F,F9=dr-z,z9=(N9+B9)/2,j9=(L9+F9)/2,eh=le.zoom(),Xy=eh*O9,Uf=le.pan(),gP=J[0]*eh+Uf.x,yP=J[1]*eh+Uf.y,U9={x:-Xy/eh*(gP-Uf.x-z9)+gP,y:-Xy/eh*(yP-Uf.y-j9)+yP};if(Xi&&Xi.active()){var fr=t.dragData.touchDragEles;v(fr),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Xi.unactivate().emit("freeon"),fr.emit("free"),t.dragData.didDrag&&(Xi.emit("dragfreeon"),fr.emit("dragfree"))}le.viewport({zoom:Xy,pan:U9,cancelOnFailedZoom:!0}),le.emit("pinchzoom"),$=mP,L=Cn,N=Zt,F=hr,z=dr,t.pinching=!0}if(W.touches[0]){var Se=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);he[0]=Se[0],he[1]=Se[1]}if(W.touches[1]){var Se=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);he[2]=Se[0],he[3]=Se[1]}if(W.touches[2]){var Se=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);he[4]=Se[0],he[5]=Se[1]}}else if(W.touches[0]&&!t.touchData.didSelect){var di=t.touchData.start,Yy=t.touchData.last,Or;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Or=t.findNearestElement(he[0],he[1],!0,!0)),ie&&di!=null&&W.preventDefault(),ie&&di!=null&&t.nodeIsDraggable(di))if(je){var fr=t.dragData.touchDragEles,bP=!t.dragData.didDrag;bP&&g(fr,{inDragLayer:!0}),t.dragData.didDrag=!0;var th={x:0,y:0};if(Ce(De[0])&&Ce(De[1])&&(th.x+=De[0],th.y+=De[1],bP)){t.redrawHint("eles",!0);var fi=t.touchData.dragDelta;fi&&Ce(fi[0])&&Ce(fi[1])&&(th.x+=fi[0],th.y+=fi[1])}t.hoverData.draggingEles=!0,fr.silentShift(th).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ee[0]&&t.touchData.startPosition[1]==Ee[1]&&t.redrawHint("eles",!0),t.redraw()}else{var fi=t.touchData.dragDelta=t.touchData.dragDelta||[];fi.length===0?(fi.push(De[0]),fi.push(De[1])):(fi[0]+=De[0],fi[1]+=De[1])}if(i(di||Or,["touchmove","tapdrag","vmousemove"],W,{x:he[0],y:he[1]}),(!di||!di.grabbed())&&Or!=Yy&&(Yy&&Yy.emit({originalEvent:W,type:"tapdragout",position:{x:he[0],y:he[1]}}),Or&&Or.emit({originalEvent:W,type:"tapdragover",position:{x:he[0],y:he[1]}})),t.touchData.last=Or,ie)for(var on=0;on<he.length;on++)he[on]&&t.touchData.startPosition[on]&&je&&(t.touchData.singleTouchMoved=!0);if(ie&&(di==null||di.pannable())&&le.panningEnabled()&&le.userPanningEnabled()){var $9=s(di,t.touchData.starts);$9&&(W.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ku(t.touchData.startPosition)),t.swipePanning?(le.panBy({x:De[0]*pe,y:De[1]*pe}),le.emit("dragpan")):je&&(t.swipePanning=!0,le.panBy({x:We*pe,y:lt*pe}),le.emit("dragpan"),di&&(di.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Se=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);he[0]=Se[0],he[1]=Se[1]}}for(var Ve=0;Ve<he.length;Ve++)Ee[Ve]=he[Ve];ie&&W.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ge;t.registerBinding(e,"touchcancel",ge=function(W){var ie=t.touchData.start;t.touchData.capture=!1,ie&&ie.unactivate()});var k,K,ne,U;if(t.registerBinding(e,"touchend",k=function(W){var ie=t.touchData.start,de=t.touchData.capture;if(de)W.touches.length===0&&(t.touchData.capture=!1),W.preventDefault();else return;var le=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var he=t.cy,Ee=he.zoom(),pe=t.touchData.now,Se=t.touchData.earlier;if(W.touches[0]){var Be=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);pe[0]=Be[0],pe[1]=Be[1]}if(W.touches[1]){var Be=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);pe[2]=Be[0],pe[3]=Be[1]}if(W.touches[2]){var Be=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);pe[4]=Be[0],pe[5]=Be[1]}ie&&ie.unactivate();var je;if(t.touchData.cxt){if(je={originalEvent:W,type:"cxttapend",position:{x:pe[0],y:pe[1]}},ie?ie.emit(je):he.emit(je),!t.touchData.cxtDragged){var De={originalEvent:W,type:"cxttap",position:{x:pe[0],y:pe[1]}};ie?ie.emit(De):he.emit(De)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!W.touches[2]&&he.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ve=he.collection(t.getAllInBox(le[0],le[1],le[2],le[3]));le[0]=void 0,le[1]=void 0,le[2]=void 0,le[3]=void 0,le[4]=0,t.redrawHint("select",!0),he.emit({type:"boxend",originalEvent:W,position:{x:pe[0],y:pe[1]}});var We=function(Un){return Un.selectable()&&!Un.selected()};Ve.emit("box").stdFilter(We).select().emit("boxselect"),Ve.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ie!=null&&ie.unactivate(),W.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!W.touches[1]){if(!W.touches[0]){if(!W.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ue=t.dragData.touchDragEles;if(ie!=null){var lt=ie._private.grabbed;v(Ue),t.redrawHint("drag",!0),t.redrawHint("eles",!0),lt&&(ie.emit("freeon"),Ue.emit("free"),t.dragData.didDrag&&(ie.emit("dragfreeon"),Ue.emit("dragfree"))),i(ie,["touchend","tapend","vmouseup","tapdragout"],W,{x:pe[0],y:pe[1]}),ie.unactivate(),t.touchData.start=null}else{var ut=t.findNearestElement(pe[0],pe[1],!0,!0);i(ut,["touchend","tapend","vmouseup","tapdragout"],W,{x:pe[0],y:pe[1]})}var cr=t.touchData.startPosition[0]-pe[0],Cn=cr*cr,Zt=t.touchData.startPosition[1]-pe[1],hr=Zt*Zt,dr=Cn+hr,Yr=dr*Ee*Ee;t.touchData.singleTouchMoved||(ie||he.$(":selected").unselect(["tapunselect"]),i(ie,["tap","vclick"],W,{x:pe[0],y:pe[1]}),K=!1,W.timeStamp-U<=he.multiClickDebounceTime()?(ne&&clearTimeout(ne),K=!0,U=null,i(ie,["dbltap","vdblclick"],W,{x:pe[0],y:pe[1]})):(ne=setTimeout(function(){K||i(ie,["onetap","voneclick"],W,{x:pe[0],y:pe[1]})},he.multiClickDebounceTime()),U=W.timeStamp)),ie!=null&&!t.dragData.didDrag&&ie._private.selectable&&Yr<t.touchTapThreshold2&&!t.pinching&&(he.selectionType()==="single"?(he.$(r).unmerge(ie).unselect(["tapunselect"]),ie.select(["tapselect"])):ie.selected()?ie.unselect(["tapunselect"]):ie.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Kr=0;Kr<pe.length;Kr++)Se[Kr]=pe[Kr];t.dragData.didDrag=!1,W.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),W.touches.length<2&&(W.touches.length===1&&(t.touchData.startGPosition=[W.touches[0].clientX,W.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var G=[],q=function(W){return{clientX:W.clientX,clientY:W.clientY,force:1,identifier:W.pointerId,pageX:W.pageX,pageY:W.pageY,radiusX:W.width/2,radiusY:W.height/2,screenX:W.screenX,screenY:W.screenY,target:W.target}},oe=function(W){return{event:W,touch:q(W)}},re=function(W){G.push(oe(W))},Z=function(W){for(var ie=0;ie<G.length;ie++){var de=G[ie];if(de.event.pointerId===W.pointerId){G.splice(ie,1);return}}},ee=function(W){var ie=G.filter(function(de){return de.event.pointerId===W.pointerId})[0];ie.event=W,ie.touch=q(W)},ue=function(W){W.touches=G.map(function(ie){return ie.touch})},fe=function(W){return W.pointerType==="mouse"||W.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ce){fe(ce)||(ce.preventDefault(),re(ce),ue(ce),se(ce))}),t.registerBinding(t.container,"pointerup",function(ce){fe(ce)||(Z(ce),ue(ce),k(ce))}),t.registerBinding(t.container,"pointercancel",function(ce){fe(ce)||(Z(ce),ue(ce),ge(ce))}),t.registerBinding(t.container,"pointermove",function(ce){fe(ce)||(ce.preventDefault(),ee(ce),ue(ce),ve(ce))})}};var fs={};fs.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",n,i,a,s,o,this.points)},intersectLine:function(n,i,a,s,o,l,u,c){return Xd(o,l,this.points,n,i,a/2,s/2,u)},checkPoint:function(n,i,a,s,o,l,u,c){return as(n,i,this.points,l,u,s,o,[0,-1],a)}}};fs.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){return Ape(a,s,e,r,n/2+o,i/2+o)},checkPoint:function(e,r,n,i,a,s,o,l){return rl(e,r,i,a,s,o,n)}}};fs.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var c=a/2,h=s/2;o=o==="auto"?wG(a,s):o;for(var d=new Array(e.length/2),f=0;f<e.length/2;f++)d[f]={x:n+c*e[f*2],y:i+h*e[f*2+1]};var p,g,m,v,y=d.length;for(g=d[y-1],p=0;p<y;p++)m=d[p%y],v=d[(p+1)%y],l[u][p]=KR(g,m,v,o),g=m,m=v;return l[u]},draw:function(n,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(n,i,a,s,o,l,u,c,h){return Rpe(o,l,this.points,n,i,a,s,u,this.getOrCreateCorners(n,i,a,s,c,h,"corners"))},checkPoint:function(n,i,a,s,o,l,u,c,h){return Tpe(n,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,c,h,"corners"))}}};fs.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Qr(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){return bG(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){var u=i/2,c=a/2;l=l==="auto"?Sl(i,a):l,l=Math.min(u,c,l);var h=l*2;return!!(as(e,r,this.points,s,o,i,a-h,[0,-1],n)||as(e,r,this.points,s,o,i-h,a,[0,-1],n)||rl(e,r,h,h,s-u+l,o-c+l,n)||rl(e,r,h,h,s+u-l,o-c+l,n)||rl(e,r,h,h,s+u-l,o+c-l,n)||rl(e,r,h,h,s-u+l,o+c-l,n))}}};fs.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:FR(),points:Qr(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,s)},generateCutTrianglePts:function(e,r,n,i,a){var s=a==="auto"?this.cornerLength:a,o=r/2,l=e/2,u=n-l,c=n+l,h=i-o,d=i+o;return{topLeft:[u,h+s,u+s,h,u+s,h+s],topRight:[c-s,h,c,h+s,c-s,h+s],bottomRight:[c,d-s,c-s,d,c-s,d-s],bottomLeft:[u+s,d,u,d-s,u+s,d-s]}},intersectLine:function(e,r,n,i,a,s,o,l){var u=this.generateCutTrianglePts(n+2*o,i+2*o,e,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Xd(a,s,c,e,r)},checkPoint:function(e,r,n,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(as(e,r,this.points,s,o,i,a-2*u,[0,-1],n)||as(e,r,this.points,s,o,i-2*u,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,s,o);return cn(e,r,c.topLeft)||cn(e,r,c.topRight)||cn(e,r,c.bottomRight)||cn(e,r,c.bottomLeft)}}};fs.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Qr(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){var u=.15,c=.5,h=.85,d=this.generateBarrelBezierPts(n+2*o,i+2*o,e,r),f=function(m){var v=Qu({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),y=Qu({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},c),b=Qu({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},h);return[m[0],m[1],v.x,v.y,y.x,y.y,b.x,b.y,m[4],m[5]]},p=[].concat(f(d.topLeft),f(d.topRight),f(d.bottomRight),f(d.bottomLeft));return Xd(a,s,p,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,s=e/2,o=n-s,l=n+s,u=i-a,c=i+a,h=RT(e,r),d=h.heightOffset,f=h.widthOffset,p=h.ctrlPtOffsetPct*e,g={topLeft:[o,u+d,o+p,u,o+f,u],topRight:[l-f,u,l-p,u,l,u+d],bottomRight:[l,c-d,l-p,c,l-f,c],bottomLeft:[o+f,c,o+p,c,o,c-d]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,n,i,a,s,o,l){var u=RT(i,a),c=u.heightOffset,h=u.widthOffset;if(as(e,r,this.points,s,o,i,a-2*c,[0,-1],n)||as(e,r,this.points,s,o,i-2*h,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,s,o),f=function(T,C,P){var M=P[4],R=P[2],I=P[0],S=P[5],B=P[1],L=Math.min(M,I),N=Math.max(M,I),F=Math.min(S,B),z=Math.max(S,B);if(L<=T&&T<=N&&F<=C&&C<=z){var $=Ppe(M,R,I),O=_pe($[0],$[1],$[2],T),j=O.filter(function(J){return 0<=J&&J<=1});if(j.length>0)return j[0]}return null},p=Object.keys(d),g=0;g<p.length;g++){var m=p[g],v=d[m],y=f(e,r,v);if(y!=null){var b=v[5],x=v[3],w=v[1],E=pr(b,x,w,y);if(v.isTop&&E<=r||v.isBottom&&r<=E)return!0}}return!1}}};fs.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Qr(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){var u=e-(n/2+o),c=r-(i/2+o),h=c,d=e+(n/2+o),f=$s(a,s,e,r,u,c,d,h,!1);return f.length>0?f:bG(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){l=l==="auto"?Sl(i,a):l;var u=2*l;if(as(e,r,this.points,s,o,i,a-u,[0,-1],n)||as(e,r,this.points,s,o,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,h=a/2+2*n,d=[s-c,o-h,s-c,o,s+c,o,s+c,o-h];return!!(cn(e,r,d)||rl(e,r,u,u,s+i/2-l,o+a/2-l,n)||rl(e,r,u,u,s-i/2+l,o+a/2-l,n))}}};fs.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Qr(3,0)),this.generateRoundPolygon("round-triangle",Qr(3,0)),this.generatePolygon("rectangle",Qr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Qr(5,0)),this.generateRoundPolygon("round-pentagon",Qr(5,0)),this.generatePolygon("hexagon",Qr(6,0)),this.generateRoundPolygon("round-hexagon",Qr(6,0)),this.generatePolygon("heptagon",Qr(7,0)),this.generateRoundPolygon("round-heptagon",Qr(7,0)),this.generatePolygon("octagon",Qr(8,0)),this.generateRoundPolygon("round-octagon",Qr(8,0));var n=new Array(20);{var i=AT(5,0),a=AT(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=i[o*2],n[o*4+1]=i[o*2+1],n[o*4+2]=a[o*2],n[o*4+3]=a[o*2+1]}n=xG(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),h="polygon-"+c,d;return(d=this[h])?d:e.generatePolygon(h,u)}};var Df={};Df.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Df.redraw=function(t){t=t||pG();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Df.beforeRender=function(t,e){if(!this.destroyed){e==null&&$t("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var KO=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};Df.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){KO(t,!0,i);var a=is();t.render(t.renderOptions);var s=t.lastDrawTime=is();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-a;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else KO(t,!1,i);t.skipFrame=!1,jm(n)}};jm(r)}};var c0e=function(e){this.init(e)},bH=c0e,qc=bH.prototype;qc.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];qc.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=n.getComputedStyle(r),h=c.getPropertyValue("position");h==="static"&&ot("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ce(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};qc.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};qc.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};qc.isHeadless=function(){return!1};[YR,gH,yH,Wc,fs,Df].forEach(function(t){Ge(qc,t)});var G1=1e3/60,xH={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=vy(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(u,c){var h=is(),d=i.averageRedrawTime,f=i.lastRedrawTime,p=[],g=i.cy.extent(),m=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var v=is(),y=v-h,b=v-c;if(f<G1){var x=G1-(u?d:0);if(b>=e.deqFastCost*x)break}else if(u){if(y>=e.deqCost*f||y>=e.deqAvgCost*d)break}else if(b>=e.deqNoDrawCost*G1)break;var w=e.deq(n,m,g);if(w.length>0)for(var E=0;E<w.length;E++)p.push(w[E]);else break}p.length>0&&(e.onDeqd(n,p),!u&&e.shouldRedraw(n,p,m,g)&&a())},o=e.priority||OR;i.beforeRender(s,o(n))}}}},h0e=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Um;PR(this,t),this.idsByKey=new va,this.keyForId=new va,this.cachesByLvl=new va,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return IR(t,[{key:"getIdsFor",value:function(r){r==null&&$t("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new zc,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new va,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),t}(),ZO=25,Yp=50,kv=-4,zT=3,d0e=7.99,f0e=8,p0e=1024,v0e=1024,m0e=1024,g0e=.2,y0e=.8,b0e=10,x0e=.15,w0e=.1,_0e=.9,E0e=.9,S0e=100,C0e=1,Mu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},T0e=Mr({getKey:null,doesEleInvalidateKey:Um,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:hG,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),$h=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=T0e(r);Ge(n,i),n.lookup=new h0e(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},ur=$h.prototype;ur.reasons=Mu;ur.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ur.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};ur.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Pf(function(r,n){return n.reqs-r.reqs});return e};ur.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ur.getElement=function(t,e,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(LR(o*r))),n<kv)n=kv;else if(o>=d0e||n>zT)return null;var u=Math.pow(2,n),c=e.h*u,h=e.w*u,d=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var f=l.get(t,n);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;var p;if(c<=ZO?p=ZO:c<=Yp?p=Yp:p=Math.ceil(c/Yp)*Yp,c>m0e||h>v0e)return null;var g=a.getTextureQueue(p),m=g[g.length-2],v=function(){return a.recycleTexture(p,h)||a.addTexture(p,h)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<h&&(m=v());for(var y=function(L){return L&&L.scaledLabelShown===d},b=i&&i===Mu.dequeue,x=i&&i===Mu.highQuality,w=i&&i===Mu.downscale,E,_=n+1;_<=zT;_++){var T=l.get(t,_);if(T){E=T;break}}var C=E&&E.level===n+1?E:null,P=function(){m.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,m.usedWidth,0,h,c)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,p),y(C))P();else if(y(E))if(x){for(var M=E.level;M>n;M--)C=a.getElement(t,e,r,M,Mu.downscale);P()}else return a.queueElement(t,E.level-1),E;else{var R;if(!b&&!x&&!w)for(var I=n-1;I>=kv;I--){var S=l.get(t,I);if(S){R=S;break}}if(y(R))return a.queueElement(t,n),R;m.context.translate(m.usedWidth,0),m.context.scale(u,u),this.drawElement(m.context,t,e,d,!1),m.context.scale(1/u,1/u),m.context.translate(-m.usedWidth,0)}return f={x:m.usedWidth,texture:m,level:n,scale:u,width:h,height:c,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+f0e),m.eleCaches.push(f),l.set(t,n,f),a.checkTextureFullness(m),f};ur.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ur.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=kv;a<=zT;a++){var s=r.getForCachedKey(t,a);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};ur.checkTextureUtility=function(t){t.invalidatedWidth>=g0e*t.width&&this.retireTexture(t)};ur.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>y0e&&t.fullnessChecks>=b0e?uo(r,t):t.fullnessChecks++};ur.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;uo(n,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}NR(a);var l=e.getRetiredTextureQueue(r);l.push(t)};ur.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(p0e,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};ur.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var s=i[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,NR(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),uo(i,s),n.push(s),s}};ur.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),s=i[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(o),i[a]=o}};ur.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,s=0;s<C0e&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],c=a.hasCache(u,o.level);if(n[l]=null,c)continue;i.push(o);var h=e.getBoundingBox(u);e.getElement(u,h,t,o.level,Mu.dequeue)}return i};ur.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=DR,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};ur.onDequeue=function(t){this.onDequeues.push(t)};ur.offDequeue=function(t){uo(this.onDequeues,t)};ur.setupDequeueing=xH.setupDequeueing({deqRedrawThreshold:S0e,deqCost:x0e,deqAvgCost:w0e,deqNoDrawCost:_0e,deqFastCost:E0e,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var s=r[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(BR(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var A0e=1,od=-4,Ym=2,R0e=3.99,P0e=50,I0e=50,k0e=.15,M0e=.1,D0e=.9,O0e=.9,N0e=1,QO=250,L0e=4e3*4e3,JO=32767,B0e=!0,wH=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=is()-2*QO,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=vy(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},I0e),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=QO?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};r.layersQueue=new Pf(a),r.setupDequeueing()},Dr=wH.prototype,eN=0,F0e=Math.pow(2,53)-1;Dr.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:eN=++eN%F0e,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};Dr.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(LR(s*e)),r<od)r=od;else if(s>=R0e||r>Ym)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],h,d=n.levelIsComplete(r,t),f,p=function(){var P=function(B){if(n.validateLayersElesOrdering(B,t),n.levelIsComplete(B,t))return f=l[B],!0},M=function(B){if(!f)for(var L=r+B;od<=L&&L<=Ym&&!P(L);L+=B);};M(1),M(-1);for(var R=c.length-1;R>=0;R--){var I=c[R];I.invalid&&uo(c,I)}};if(!d)p();else return c;var g=function(){if(!h){h=En();for(var P=0;P<t.length;P++)gG(h,t[P].boundingBox())}return h},m=function(P){P=P||{};var M=P.after;g();var R=Math.ceil(h.w*u),I=Math.ceil(h.h*u);if(R>JO||I>JO)return null;var S=R*I;if(S>L0e)return null;var B=n.makeLayer(h,r);if(M!=null){var L=c.indexOf(M)+1;c.splice(L,0,B)}else(P.insert===void 0||P.insert)&&c.unshift(B);return B};if(n.skipping&&!o)return null;for(var v=null,y=t.length/A0e,b=!o,x=0;x<t.length;x++){var w=t[x],E=w._private.rscratch,_=E.imgLayerCaches=E.imgLayerCaches||{},T=_[r];if(T){v=T;continue}if((!v||v.eles.length>=y||!yG(v.bb,w.boundingBox()))&&(v=m({insert:!0,after:v}),!v))return null;f||b?n.queueLayer(v,w):n.drawEleInLayer(v,w,r,e),v.eles.push(w),_[r]=v}return f||(b?null:c)};Dr.getEleLevelForLayerLevel=function(t,e){return t};Dr.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,B0e),a.setImgSmoothing(s,!0))};Dr.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};Dr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[o+s]){this.invalidateLayer(i);break}}};Dr.updateElementsInLayers=function(t,e){for(var r=this,n=Af(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=od;u<=Ym;u++){var c=l[u];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||e(c,s,a))}};Dr.haveLayers=function(){for(var t=this,e=!1,r=od;r<=Ym;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Dr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=is(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};Dr.invalidateLayer=function(t){if(this.lastInvalidationTime=is(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];uo(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Dr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};Dr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Dr.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Dr.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<N0e&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Dr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Dr.requestRedraw=vy(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Dr.setupDequeueing=xH.setupDequeueing({deqRedrawThreshold:P0e,deqCost:k0e,deqAvgCost:M0e,deqNoDrawCost:D0e,deqFastCost:O0e,deq:function(e,r){return e.dequeue(r)},onDeqd:OR,shouldRedraw:hG,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var _H={},tN;function z0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function j0e(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function rN(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function U0e(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function $0e(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}_H.arrowShapeImpl=function(t){return(tN||(tN={polygon:z0e,"triangle-backcurve":j0e,"triangle-tee":rN,"circle-triangle":U0e,"triangle-cross":rN,circle:$0e}))[t]};var Aa={};Aa.drawElement=function(t,e,r,n,i,a){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,a):s.drawEdge(t,e,r,n,i,a)};Aa.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Aa.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Aa.drawCachedElementPortion=function(t,e,r,n,i,a,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,i,a);if(c!=null){var h=o(l,e);if(h===0)return;var d=s(l,e),f=u.x1,p=u.y1,g=u.w,m=u.h,v,y,b,x,w;if(d!==0){var E=r.getRotationPoint(e);b=E.x,x=E.y,t.translate(b,x),t.rotate(d),w=l.getImgSmoothing(t),w||l.setImgSmoothing(t,!0);var _=r.getRotationOffset(e);v=_.x,y=_.y}else v=f,y=p;var T;h!==1&&(T=t.globalAlpha,t.globalAlpha=T*h),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,v,y,g,m),h!==1&&(t.globalAlpha=T),d!==0&&(t.rotate(-d),t.translate(-b,-x),w||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var G0e=function(){return 0},H0e=function(e,r){return e.getTextAngle(r,null)},V0e=function(e,r){return e.getTextAngle(r,"source")},W0e=function(e,r){return e.getTextAngle(r,"target")},q0e=function(e,r){return r.effectiveOpacity()},H1=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Aa.drawCachedElement=function(t,e,r,n,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,c=o.slbTxrCache,h=o.tlbTxrCache,d=e.boundingBox(),f=a===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||BR(d,n))){var p=e.isEdge(),g=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,i,f,G0e,q0e),(!p||!g)&&s.drawCachedElementPortion(t,e,u,r,i,f,H0e,H1),p&&!g&&(s.drawCachedElementPortion(t,e,c,r,i,f,V0e,H1),s.drawCachedElementPortion(t,e,h,r,i,f,W0e,H1)),s.drawElementOverlay(t,e)}};Aa.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};Aa.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];i.drawCachedElement(t,s,r,n)}};Aa.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&i.drawCachedElement(t,s,r,n)}};Aa.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var ps={};ps.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,f=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,g=e.pstyle("line-outline-width").value,m=e.pstyle("line-outline-color").value,v=u*c,y=u*c,b=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;h==="straight-triangle"?(s.eleStrokeStyle(t,e,B),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=f,t.lineCap=p,s.eleStrokeStyle(t,e,B),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(t.lineWidth=f+g,t.lineCap=p,g>0)s.colorStrokeStyle(t,m[0],m[1],m[2],B);else{t.lineCap="butt";return}h==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},w=function(){i&&s.drawEdgeOverlay(t,e)},E=function(){i&&s.drawEdgeUnderlay(t,e)},_=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;s.drawArrowheads(t,e,B)},T=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var C=e.pstyle("ghost").value==="yes";if(C){var P=e.pstyle("ghost-offset-x").pfValue,M=e.pstyle("ghost-offset-y").pfValue,R=e.pstyle("ghost-opacity").value,I=v*R;t.translate(P,M),b(I),_(I),t.translate(-P,-M)}else x();E(),b(),_(),w(),T(),r&&t.translate(l.x1,l.y1)}};var EH=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,o.allpts,"solid")}}}};ps.drawEdgeOverlay=EH("overlay");ps.drawEdgeUnderlay=EH("underlay");ps.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var h=r.join("$"),d=i.pathCacheKey&&i.pathCacheKey===h;d?(s=e=i.pathCache,o=!0):(s=e=new Path2D,i.pathCacheKey=h,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)e.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var p=2;p+1<r.length;p+=2)e.lineTo(r[p],r[p+1]);break;case"segments":if(i.isRound){var g=Z8(i.roundCorners),m;try{for(g.s();!(m=g.n()).done;){var v=m.value;dH(e,v)}}catch(b){g.e(b)}finally{g.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1]);break}e=a,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};ps.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};ps.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ps.drawArrowhead=function(t,e,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),f=d.value==="match-line"?h:d.pfValue;d.units==="%"&&(f*=h);var p=e.pstyle("opacity").value;s===void 0&&(s=p);var g=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,h,l,f,n,i,a),t.globalCompositeOperation=g);var m=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,m[0],m[1],m[2],s),o.colorStrokeStyle(t,m[0],m[1],m[2],s),o.drawArrowShape(e,t,c,h,l,f,n,i,a)}}};ps.drawArrowShape=function(t,e,r,n,i,a,s,o,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",h=!1,d,f=e,p={x:s,y:o},g=t.pstyle("arrow-scale").value,m=this.getArrowWidth(n,g),v=u.arrowShapes[i];if(c){var y=u.arrowPathCache=u.arrowPathCache||[],b=_l(i),x=y[b];x!=null?(d=e=x,h=!0):(d=e=new Path2D,y[b]=d)}h||(e.beginPath&&e.beginPath(),c?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,m,l,p,n),e.closePath&&e.closePath()),e=f,c&&(e.translate(s,o),e.rotate(l),e.scale(m,m)),(r==="filled"||r==="both")&&(c?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(c?m:1),e.lineJoin="miter",c?e.stroke(d):e.stroke()),c&&(e.scale(1/m,1/m),e.rotate(-l),e.translate(-s,-o))};var QR={};QR.safeDrawImage=function(t,e,r,n,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,s,o,l,u)}catch(c){ot(c)}};QR.drawInscribedImage=function(t,e,r,n,i){var a=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),h=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),f=r.width(),p=r.height(),g=r.padding()*2,m=f+(c(r,"background-width-relative-to","value",n)==="inner"?0:g),v=p+(c(r,"background-height-relative-to","value",n)==="inner"?0:g),y=r._private.rscratch,b=c(r,"background-clip","value",n),x=b==="node",w=c(r,"background-image-opacity","value",n)*i,E=c(r,"background-image-smoothing","value",n),_=r.pstyle("corner-radius").value;_!=="auto"&&(_=r.pstyle("corner-radius").pfValue);var T=e.width||e.cachedW,C=e.height||e.cachedH;(T==null||C==null)&&(document.body.appendChild(e),T=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=T,M=C;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?P=c(r,"background-width","pfValue",n)*m:P=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?M=c(r,"background-height","pfValue",n)*v:M=c(r,"background-height","pfValue",n)),!(P===0||M===0)){if(h==="contain"){var R=Math.min(m/P,v/M);P*=R,M*=R}else if(h==="cover"){var R=Math.max(m/P,v/M);P*=R,M*=R}var I=o-m/2,S=c(r,"background-position-x","units",n),B=c(r,"background-position-x","pfValue",n);S==="%"?I+=(m-P)*B:I+=B;var L=c(r,"background-offset-x","units",n),N=c(r,"background-offset-x","pfValue",n);L==="%"?I+=(m-P)*N:I+=N;var F=l-v/2,z=c(r,"background-position-y","units",n),$=c(r,"background-position-y","pfValue",n);z==="%"?F+=(v-M)*$:F+=$;var O=c(r,"background-offset-y","units",n),j=c(r,"background-offset-y","pfValue",n);O==="%"?F+=(v-M)*j:F+=j,y.pathCache&&(I-=o,F-=l,o=0,l=0);var J=t.globalAlpha;t.globalAlpha=w;var H=a.getImgSmoothing(t),V=!1;if(E==="no"&&H?(a.setImgSmoothing(t,!1),V=!0):E==="yes"&&!H&&(a.setImgSmoothing(t,!0),V=!0),d==="no-repeat")x&&(t.save(),y.pathCache?t.clip(y.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,m,v,_,y),t.clip())),a.safeDrawImage(t,e,0,0,T,C,I,F,P,M),x&&t.restore();else{var X=t.createPattern(e,d);t.fillStyle=X,a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,m,v,_,y),t.translate(I,F),t.fill(),t.translate(-I,-F)}t.globalAlpha=J,V&&a.setImgSmoothing(t,H)}};var zl={};zl.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(LR(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};zl.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),h=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!c||!c.value)&&(!h||!h.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var f=!r,p;r&&(p=r,t.translate(-p.x1,-p.y1)),i==null?(s.drawText(t,e,null,f,a),e.isEdge()&&(s.drawText(t,e,"source",f,a),s.drawText(t,e,"target",f,a))):s.drawText(t,e,i,f,a),r&&t.translate(p.x1,p.y1)};zl.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};zl.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function V1(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s?t.stroke():t.fill()}zl.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=Ai(i,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?o:0:s.strValue==="none"?r=0:r=s.pfValue,r};zl.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=i?e.effectiveOpacity():1;if(!(i&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=Ai(s,"labelX",r),u=Ai(s,"labelY",r),c,h,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var f=r?r+"-":"",p=Ai(s,"labelWidth",r),g=Ai(s,"labelHeight",r),m=e.pstyle(f+"text-margin-x").pfValue,v=e.pstyle(f+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,x=e.pstyle("text-valign").value;y&&(b="center",x="center"),l+=m,u+=v;var w;switch(n?w=this.getTextAngle(e,r):w=0,w!==0&&(c=l,h=u,t.translate(c,h),t.rotate(w),l=0,u=0),x){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g;break}var E=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,T=e.pstyle("text-border-width").pfValue,C=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,M=P.indexOf("round")===0,R=2;if(E>0||T>0&&_>0){var I=l-C;switch(b){case"left":I-=p;break;case"center":I-=p/2;break}var S=u-g-C,B=p+2*C,L=g+2*C;if(E>0){var N=t.fillStyle,F=e.pstyle("text-background-color").value;t.fillStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+E*o+")",M?V1(t,I,S,B,L,R):t.fillRect(I,S,B,L),t.fillStyle=N}if(T>0&&_>0){var z=t.strokeStyle,$=t.lineWidth,O=e.pstyle("text-border-color").value,j=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+_*o+")",t.lineWidth=T,t.setLineDash)switch(j){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=T/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(M?V1(t,I,S,B,L,R,"stroke"):t.strokeRect(I,S,B,L),j==="double"){var J=T/2;M?V1(t,I+J,S+J,B-J*2,L-J*2,R,"stroke"):t.strokeRect(I+J,S+J,B-J*2,L-J*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=$,t.strokeStyle=z}}var H=2*e.pstyle("text-outline-width").pfValue;if(H>0&&(t.lineWidth=H),e.pstyle("text-wrap").value==="wrap"){var V=Ai(s,"labelWrapCachedLines",r),X=Ai(s,"labelLineHeight",r),te=p/2,Q=this.getLabelJustification(e);switch(Q==="auto"||(b==="left"?Q==="left"?l+=-p:Q==="center"&&(l+=-te):b==="center"?Q==="left"?l+=-te:Q==="right"&&(l+=te):b==="right"&&(Q==="center"?l+=te:Q==="right"&&(l+=p))),x){case"top":u-=(V.length-1)*X;break;case"center":case"bottom":u-=(V.length-1)*X;break}for(var Y=0;Y<V.length;Y++)H>0&&t.strokeText(V[Y],l,u),t.fillText(V[Y],l,u),u+=X}else H>0&&t.strokeText(d,l,u),t.fillText(d,l,u);w!==0&&(t.rotate(-w),t.translate(-c,-h))}}};var Xc={};Xc.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,c=u.rscratch,h=e.position();if(!(!Ce(h.x)||!Ce(h.y))&&!(a&&!e.visible())){var d=a?e.effectiveOpacity():1,f=s.usePaths(),p,g=!1,m=e.padding();o=e.width()+2*m,l=e.height()+2*m;var v;r&&(v=r,t.translate(-v.x1,-v.y1));for(var y=e.pstyle("background-image"),b=y.value,x=new Array(b.length),w=new Array(b.length),E=0,_=0;_<b.length;_++){var T=b[_],C=x[_]=T!=null&&T!=="none";if(C){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",_);E++,w[_]=s.getCachedImage(T,P,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,R=e.pstyle("border-width").pfValue,I=e.pstyle("background-opacity").value*d,S=e.pstyle("border-color").value,B=e.pstyle("border-style").value,L=e.pstyle("border-join").value,N=e.pstyle("border-cap").value,F=e.pstyle("border-position").value,z=e.pstyle("border-dash-pattern").pfValue,$=e.pstyle("border-dash-offset").pfValue,O=e.pstyle("border-opacity").value*d,j=e.pstyle("outline-width").pfValue,J=e.pstyle("outline-color").value,H=e.pstyle("outline-style").value,V=e.pstyle("outline-opacity").value*d,X=e.pstyle("outline-offset").value,te=e.pstyle("corner-radius").value;te!=="auto"&&(te=e.pstyle("corner-radius").pfValue);var Q=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;s.eleFillStyle(t,e,le)},Y=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O;s.colorStrokeStyle(t,S[0],S[1],S[2],le)},ae=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;s.colorStrokeStyle(t,J[0],J[1],J[2],le)},se=function(le,he,Ee,pe){var Se=s.nodePathCache=s.nodePathCache||[],Be=cG(Ee==="polygon"?Ee+","+pe.join(","):Ee,""+he,""+le,""+te),je=Se[Be],De,Ve=!1;return je!=null?(De=je,Ve=!0,c.pathCache=De):(De=new Path2D,Se[Be]=c.pathCache=De),{path:De,cacheHit:Ve}},ve=e.pstyle("shape").strValue,ge=e.pstyle("shape-polygon-points").pfValue;if(f){t.translate(h.x,h.y);var k=se(o,l,ve,ge);p=k.path,g=k.cacheHit}var K=function(){if(!g){var le=h;f&&(le={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(p||t,le.x,le.y,o,l,te,c)}f?t.fill(p):t.fill()},ne=function(){for(var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ee=u.backgrounding,pe=0,Se=0;Se<w.length;Se++){var Be=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Se);if(he&&Be==="over"||!he&&Be==="inside"){pe++;continue}x[Se]&&w[Se].complete&&!w[Se].error&&(pe++,s.drawInscribedImage(t,w[Se],e,Se,le))}u.backgrounding=pe!==E,Ee!==u.backgrounding&&e.updateStyle(!1)},U=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,he),le&&(f||s.nodeShapes[s.getNodeShape(e)].draw(t,h.x,h.y,o,l,te,c)))},G=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,he=(M>0?M:-M)*le,Ee=M>0?0:255;M!==0&&(s.colorFillStyle(t,Ee,Ee,Ee,he),f?t.fill(p):t.fill())},q=function(){if(R>0){if(t.lineWidth=R,t.lineCap=N,t.lineJoin=L,t.setLineDash)switch(B){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(z),t.lineDashOffset=$;break;case"solid":case"double":t.setLineDash([]);break}if(F!=="center"){if(t.save(),t.lineWidth*=2,F==="inside")f?t.clip(p):t.clip();else{var le=new Path2D;le.rect(-o/2-R,-l/2-R,o+2*R,l+2*R),le.addPath(p),t.clip(le,"evenodd")}f?t.stroke(p):t.stroke(),t.restore()}else f?t.stroke(p):t.stroke();if(B==="double"){t.lineWidth=R/3;var he=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",f?t.stroke(p):t.stroke(),t.globalCompositeOperation=he}t.setLineDash&&t.setLineDash([])}},oe=function(){if(j>0){if(t.lineWidth=j,t.lineCap="butt",t.setLineDash)switch(H){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var le=h;f&&(le={x:0,y:0});var he=s.getNodeShape(e),Ee=R;F==="inside"&&(Ee=0),F==="outside"&&(Ee*=2);var pe=(o+Ee+(j+X))/o,Se=(l+Ee+(j+X))/l,Be=o*pe,je=l*Se,De=s.nodeShapes[he].points,Ve;if(f){var We=se(Be,je,he,De);Ve=We.path}if(he==="ellipse")s.drawEllipsePath(Ve||t,le.x,le.y,Be,je);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(he)){var Ue=0,lt=0,ut=0;he==="round-diamond"?Ue=(Ee+X+j)*1.4:he==="round-heptagon"?(Ue=(Ee+X+j)*1.075,ut=-(Ee/2+X+j)/35):he==="round-hexagon"?Ue=(Ee+X+j)*1.12:he==="round-pentagon"?(Ue=(Ee+X+j)*1.13,ut=-(Ee/2+X+j)/15):he==="round-tag"?(Ue=(Ee+X+j)*1.12,lt=(Ee/2+j+X)*.07):he==="round-triangle"&&(Ue=(Ee+X+j)*(Math.PI/2),ut=-(Ee+X/2+j)/Math.PI),Ue!==0&&(pe=(o+Ue)/o,Be=o*pe,["round-hexagon","round-tag"].includes(he)||(Se=(l+Ue)/l,je=l*Se)),te=te==="auto"?wG(Be,je):te;for(var cr=Be/2,Cn=je/2,Zt=te+(Ee+j+X)/2,hr=new Array(De.length/2),dr=new Array(De.length/2),Yr=0;Yr<De.length/2;Yr++)hr[Yr]={x:le.x+lt+cr*De[Yr*2],y:le.y+ut+Cn*De[Yr*2+1]};var Kr,Wi,Un,qi,Pa=hr.length;for(Wi=hr[Pa-1],Kr=0;Kr<Pa;Kr++)Un=hr[Kr%Pa],qi=hr[(Kr+1)%Pa],dr[Kr]=KR(Wi,Un,qi,Zt),Wi=Un,Un=qi;s.drawRoundPolygonPath(Ve||t,le.x+lt,le.y+ut,o*pe,l*Se,De,dr)}else if(["roundrectangle","round-rectangle"].includes(he))te=te==="auto"?Sl(Be,je):te,s.drawRoundRectanglePath(Ve||t,le.x,le.y,Be,je,te+(Ee+j+X)/2);else if(["cutrectangle","cut-rectangle"].includes(he))te=te==="auto"?FR():te,s.drawCutRectanglePath(Ve||t,le.x,le.y,Be,je,null,te+(Ee+j+X)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(he))te=te==="auto"?Sl(Be,je):te,s.drawBottomRoundRectanglePath(Ve||t,le.x,le.y,Be,je,te+(Ee+j+X)/2);else if(he==="barrel")s.drawBarrelPath(Ve||t,le.x,le.y,Be,je);else if(he.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(he)){var Ia=(Ee+j+X)/o;De=$m(Gm(De,Ia)),s.drawPolygonPath(Ve||t,le.x,le.y,o,l,De)}else{var Or=(Ee+j+X)/o;De=$m(Gm(De,-Or)),s.drawPolygonPath(Ve||t,le.x,le.y,o,l,De)}if(f?t.stroke(Ve):t.stroke(),H==="double"){t.lineWidth=Ee/3;var fr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",f?t.stroke(Ve):t.stroke(),t.globalCompositeOperation=fr}t.setLineDash&&t.setLineDash([])}},re=function(){i&&s.drawNodeOverlay(t,e,h,o,l)},Z=function(){i&&s.drawNodeUnderlay(t,e,h,o,l)},ee=function(){s.drawElementText(t,e,null,n)},ue=e.pstyle("ghost").value==="yes";if(ue){var fe=e.pstyle("ghost-offset-x").pfValue,ce=e.pstyle("ghost-offset-y").pfValue,W=e.pstyle("ghost-opacity").value,ie=W*d;t.translate(fe,ce),ae(),oe(),Q(W*I),K(),ne(ie,!0),Y(W*O),q(),U(M!==0||R!==0),ne(ie,!1),G(ie),t.translate(-fe,-ce)}f&&t.translate(-h.x,-h.y),Z(),f&&t.translate(h.x,h.y),ae(),oe(),Q(),K(),ne(d,!0),Y(),q(),U(M!==0||R!==0),ne(d,!1),G(),f&&t.translate(-h.x,-h.y),ee(),re(),r&&t.translate(v.x1,v.y1)}};var SH=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||s==null){var f=n.padding();a=n.width()+2*f,s=n.height()+2*f}o.colorFillStyle(r,c[0],c[1],c[2],u),o.nodeShapes[h].draw(r,i.x,i.y,a+l*2,s+l*2,d),r.fill()}}}};Xc.drawNodeOverlay=SH("overlay");Xc.drawNodeUnderlay=SH("underlay");Xc.hasPie=function(t){return t=t[0],t._private.hasPie};Xc.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),s=n.x,o=n.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,h=0,d=this.usePaths();d&&(s=0,o=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var f=1;f<=i.pieBackgroundN;f++){var p=e.pstyle("pie-"+f+"-background-size").value,g=e.pstyle("pie-"+f+"-background-color").value,m=e.pstyle("pie-"+f+"-background-opacity").value*r,v=p/100;v+h>1&&(v=1-h);var y=1.5*Math.PI+2*Math.PI*h,b=2*Math.PI*v,x=y+b;p===0||h>=1||h+v>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,c,y,x),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],m),t.fill(),h+=v)}};var jn={},X0e=100;jn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};jn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};jn.createGradientStyleFor=function(t,e,r,n,i){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),h=r.midpoint(),d=El(u,h),f=El(c,h);a=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,f))}else{var p=s?{x:0,y:0}:r.position(),g=r.paddedWidth(),m=r.paddedHeight();a=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else if(r.isEdge()){var v=r.sourceEndpoint(),y=r.targetEndpoint();a=t.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=s?{x:0,y:0}:r.position(),x=r.paddedWidth(),w=r.paddedHeight(),E=x/2,_=w/2,T=r.pstyle("background-gradient-direction").value;switch(T){case"to-bottom":a=t.createLinearGradient(b.x,b.y-_,b.x,b.y+_);break;case"to-top":a=t.createLinearGradient(b.x,b.y+_,b.x,b.y-_);break;case"to-left":a=t.createLinearGradient(b.x+E,b.y,b.x-E,b.y);break;case"to-right":a=t.createLinearGradient(b.x-E,b.y,b.x+E,b.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(b.x-E,b.y-_,b.x+E,b.y+_);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(b.x-E,b.y+_,b.x+E,b.y-_);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(b.x+E,b.y-_,b.x-E,b.y+_);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(b.x+E,b.y+_,b.x-E,b.y-_);break}}if(!a)return null;for(var C=l.length===o.length,P=o.length,M=0;M<P;M++)a.addColorStop(C?l[M]:M/(P-1),"rgba("+o[M][0]+","+o[M][1]+","+o[M][2]+","+i+")");return a};jn.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};jn.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};jn.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};jn.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};jn.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};jn.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};jn.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=r.canvases[d],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=r.bufferCanvases[d],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};jn.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};jn.render=function(t){t=t||pG();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,a=t.forcedPan,s=this,o=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=s.cy,u=s.data,c=u.canvasNeedsRedraw,h=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,f=s.motionBlurPxRatio,p=l.hasCompoundNodes(),g=s.hoverData.draggingEles,m=!!(s.hoverData.selecting||s.touchData.selecting);d=d&&!e&&s.motionBlurEnabled&&!m;var v=d;e||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),d&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(v=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!h&&(c[s.NODE]=!0,c[s.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),x=i!==void 0?i:b,w=l.pan(),E={x:w.x,y:w.y},_={zoom:b,pan:{x:w.x,y:w.y}},T=s.prevViewport,C=T===void 0||_.zoom!==T.zoom||_.pan.x!==T.pan.x||_.pan.y!==T.pan.y;!C&&!(g&&!p)&&(s.motionBlurPxRatio=1),a&&(E=a),x*=o,E.x*=o,E.y*=o;var P=s.getCachedZSortedEles();function M(k,K,ne,U,G){var q=k.globalCompositeOperation;k.globalCompositeOperation="destination-out",s.colorFillStyle(k,255,255,255,s.motionBlurTransparency),k.fillRect(K,ne,U,G),k.globalCompositeOperation=q}function R(k,K){var ne,U,G,q;!s.clearingMotionBlur&&(k===u.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||k===u.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(ne={x:w.x*f,y:w.y*f},U=b*f,G=s.canvasWidth*f,q=s.canvasHeight*f):(ne=E,U=x,G=s.canvasWidth,q=s.canvasHeight),k.setTransform(1,0,0,1,0,0),K==="motionBlur"?M(k,0,0,G,q):!e&&(K===void 0||K)&&k.clearRect(0,0,G,q),r||(k.translate(ne.x,ne.y),k.scale(U,U)),a&&k.translate(a.x,a.y),i&&k.scale(i,i)}if(h||(s.textureDrawLastFrame=!1),h){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var I=s.data.bufferContexts[s.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult});var _=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight};_.mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}c[s.DRAG]=!1,c[s.NODE]=!1;var S=u.contexts[s.NODE],B=s.textureCache.texture,_=s.textureCache.viewport;S.setTransform(1,0,0,1,0,0),d?M(S,0,0,_.width,_.height):S.clearRect(0,0,_.width,_.height);var L=y.core("outside-texture-bg-color").value,N=y.core("outside-texture-bg-opacity").value;s.colorFillStyle(S,L[0],L[1],L[2],N),S.fillRect(0,0,_.width,_.height);var b=l.zoom();R(S,!1),S.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/o,_.height/_.zoom/o),S.drawImage(B,_.mpan.x,_.mpan.y,_.width/_.zoom/o,_.height/_.zoom/o)}else s.textureOnViewport&&!e&&(s.textureCache=null);var F=l.extent(),z=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),$=s.hideEdgesOnViewport&&z,O=[];if(O[s.NODE]=!c[s.NODE]&&d&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,O[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),O[s.DRAG]=!c[s.DRAG]&&d&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,O[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),c[s.NODE]||r||n||O[s.NODE]){var j=d&&!O[s.NODE]&&f!==1,S=e||(j?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:u.contexts[s.NODE]),J=d&&!j?"motionBlur":void 0;R(S,J),$?s.drawCachedNodes(S,P.nondrag,o,F):s.drawLayeredElements(S,P.nondrag,o,F),s.debug&&s.drawDebugPoints(S,P.nondrag),!r&&!d&&(c[s.NODE]=!1)}if(!n&&(c[s.DRAG]||r||O[s.DRAG])){var j=d&&!O[s.DRAG]&&f!==1,S=e||(j?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:u.contexts[s.DRAG]);R(S,d&&!j?"motionBlur":void 0),$?s.drawCachedNodes(S,P.drag,o,F):s.drawCachedElements(S,P.drag,o,F),s.debug&&s.drawDebugPoints(S,P.drag),!r&&!d&&(c[s.DRAG]=!1)}if(s.showFps||!n&&c[s.SELECT_BOX]&&!r){var S=e||u.contexts[s.SELECT_BOX];if(R(S),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var b=s.cy.zoom(),H=y.core("selection-box-border-width").value/b;S.lineWidth=H,S.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",S.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),H>0&&(S.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",S.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(u.bgActivePosistion&&!s.hoverData.selecting){var b=s.cy.zoom(),V=u.bgActivePosistion;S.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",S.beginPath(),S.arc(V.x,V.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),S.fill()}var X=s.lastRedrawTime;if(s.showFps&&X){X=Math.round(X);var te=Math.round(1e3/X);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+X+" ms = "+te+" fps",0,20);var Q=60;S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(te/Q,1),20)}r||(c[s.SELECT_BOX]=!1)}if(d&&f!==1){var Y=u.contexts[s.NODE],ae=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],se=u.contexts[s.DRAG],ve=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],ge=function(K,ne,U){K.setTransform(1,0,0,1,0,0),U||!v?K.clearRect(0,0,s.canvasWidth,s.canvasHeight):M(K,0,0,s.canvasWidth,s.canvasHeight);var G=f;K.drawImage(ne,0,0,s.canvasWidth*G,s.canvasHeight*G,0,0,s.canvasWidth,s.canvasHeight)};(c[s.NODE]||O[s.NODE])&&(ge(Y,ae,O[s.NODE]),c[s.NODE]=!1),(c[s.DRAG]||O[s.DRAG])&&(ge(se,ve,O[s.DRAG]),c[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),d&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!h,s.mbFrames=0,c[s.NODE]=!0,c[s.DRAG]=!0,s.redraw()},X0e)),e||l.emit("render")};var Co={};Co.drawPolygonPath=function(t,e,r,n,i,a){var s=n/2,o=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+s*a[l*2],r+o*a[l*2+1]);t.closePath()};Co.drawRoundPolygonPath=function(t,e,r,n,i,a,s){s.forEach(function(o){return dH(t,o)}),t.closePath()};Co.drawRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?Sl(n,i):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};Co.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?Sl(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};Co.drawCutRectanglePath=function(t,e,r,n,i,a,s){var o=n/2,l=i/2,u=s==="auto"?FR():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};Co.drawBarrelPath=function(t,e,r,n,i){var a=n/2,s=i/2,o=e-a,l=e+a,u=r-s,c=r+s,h=RT(n,i),d=h.widthOffset,f=h.heightOffset,p=h.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,u+f),t.lineTo(o,c-f),t.quadraticCurveTo(o+p,c,o+d,c),t.lineTo(l-d,c),t.quadraticCurveTo(l-p,c,l,c-f),t.lineTo(l,u+f),t.quadraticCurveTo(l-p,u,l-d,u),t.lineTo(o+d,u),t.quadraticCurveTo(o+p,u,o,u+f),t.closePath()};var nN=Math.sin(0),iN=Math.cos(0),jT={},UT={},CH=Math.PI/40;for(var su=0*Math.PI;su<2*Math.PI;su+=CH)jT[su]=Math.sin(su),UT[su]=Math.cos(su);Co.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=CH)a=e-o*jT[u]*nN+o*UT[u]*iN,s=r+l*UT[u]*nN+l*jT[u]*iN,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};var Of={};Of.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Of.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=Ce(t.maxWidth)||Ce(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var c=1/0,h=1/0;Ce(t.maxWidth)&&(c=u*t.maxWidth/a),Ce(t.maxHeight)&&(h=u*t.maxHeight/s),u=Math.min(c,h),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var d=document.createElement("canvas");d.width=a,d.height=s,d.style.width=a+"px",d.style.height=s+"px";var f=d.getContext("2d");if(a>0&&s>0){f.clearRect(0,0,a,s),f.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)f.translate(-n.x1*u,-n.y1*u),f.scale(u,u),this.drawElements(f,p),f.scale(1/u,1/u),f.translate(n.x1*u,n.y1*u);else{var g=e.pan(),m={x:g.x*u,y:g.y*u};u*=e.zoom(),f.translate(m.x,m.y),f.scale(u,u),this.drawElements(f,p),f.scale(1/u,1/u),f.translate(-m.x,-m.y)}t.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=t.bg,f.rect(0,0,a,s),f.fill())}return d};function Y0e(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function aN(t){var e=t.indexOf(",");return t.substr(e+1)}function TH(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new jc(function(i,a){try{e.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return Y0e(aN(n()),r);case"base64":return aN(n());case"base64uri":default:return n()}}Of.png=function(t){return TH(t,this.bufferCanvasImage(t),"image/png")};Of.jpg=function(t){return TH(t,this.bufferCanvasImage(t),"image/jpeg")};var AH={};AH.nodeShapeImpl=function(t,e,r,n,i,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,o);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var K0e=RH,nt=RH.prototype;nt.CANVAS_LAYERS=3;nt.SELECT_BOX=0;nt.DRAG=1;nt.NODE=2;nt.BUFFER_COUNT=3;nt.TEXTURE_BUFFER=0;nt.MOTIONBLUR_BUFFER_NODE=1;nt.MOTIONBLUR_BUFFER_DRAG=2;function RH(t){var e=this,r=e.cy.window(),n=r.document;e.data={canvases:new Array(nt.CANVAS_LAYERS),contexts:new Array(nt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(nt.CANVAS_LAYERS),bufferCanvases:new Array(nt.BUFFER_COUNT),bufferContexts:new Array(nt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Bde()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<nt.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=n.createElement("canvas");e.data.contexts[u]=c.getContext("2d"),Object.keys(l).forEach(function(Q){c.style[Q]=l[Q]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(nt.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[nt.NODE].setAttribute("data-id","layer"+nt.NODE+"-node"),e.data.canvases[nt.SELECT_BOX].setAttribute("data-id","layer"+nt.SELECT_BOX+"-selectbox"),e.data.canvases[nt.DRAG].setAttribute("data-id","layer"+nt.DRAG+"-drag");for(var u=0;u<nt.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var h=En(),d=function(Y){return{x:(Y.x1+Y.x2)/2,y:(Y.y1+Y.y2)/2}},f=function(Y){return{x:-Y.w/2,y:-Y.h/2}},p=function(Y){var ae=Y[0]._private,se=ae.oldBackgroundTimestamp===ae.backgroundTimestamp;return!se},g=function(Y){return Y[0]._private.nodeKey},m=function(Y){return Y[0]._private.labelStyleKey},v=function(Y){return Y[0]._private.sourceLabelStyleKey},y=function(Y){return Y[0]._private.targetLabelStyleKey},b=function(Y,ae,se,ve,ge){return e.drawElement(Y,ae,se,!1,!1,ge)},x=function(Y,ae,se,ve,ge){return e.drawElementText(Y,ae,se,ve,"main",ge)},w=function(Y,ae,se,ve,ge){return e.drawElementText(Y,ae,se,ve,"source",ge)},E=function(Y,ae,se,ve,ge){return e.drawElementText(Y,ae,se,ve,"target",ge)},_=function(Y){return Y.boundingBox(),Y[0]._private.bodyBounds},T=function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.main||h},C=function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.source||h},P=function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.target||h},M=function(Y,ae){return ae},R=function(Y){return d(_(Y))},I=function(Y,ae,se){var ve=Y?Y+"-":"";return{x:ae.x+se.pstyle(ve+"text-margin-x").pfValue,y:ae.y+se.pstyle(ve+"text-margin-y").pfValue}},S=function(Y,ae,se){var ve=Y[0]._private.rscratch;return{x:ve[ae],y:ve[se]}},B=function(Y){return I("",S(Y,"labelX","labelY"),Y)},L=function(Y){return I("source",S(Y,"sourceLabelX","sourceLabelY"),Y)},N=function(Y){return I("target",S(Y,"targetLabelX","targetLabelY"),Y)},F=function(Y){return f(_(Y))},z=function(Y){return f(C(Y))},$=function(Y){return f(P(Y))},O=function(Y){var ae=T(Y),se=f(T(Y));if(Y.isNode()){switch(Y.pstyle("text-halign").value){case"left":se.x=-ae.w-(ae.leftPad||0);break;case"right":se.x=-(ae.rightPad||0);break}switch(Y.pstyle("text-valign").value){case"top":se.y=-ae.h-(ae.topPad||0);break;case"bottom":se.y=-(ae.botPad||0);break}}return se},j=e.data.eleTxrCache=new $h(e,{getKey:g,doesEleInvalidateKey:p,drawElement:b,getBoundingBox:_,getRotationPoint:R,getRotationOffset:F,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),J=e.data.lblTxrCache=new $h(e,{getKey:m,drawElement:x,getBoundingBox:T,getRotationPoint:B,getRotationOffset:O,isVisible:M}),H=e.data.slbTxrCache=new $h(e,{getKey:v,drawElement:w,getBoundingBox:C,getRotationPoint:L,getRotationOffset:z,isVisible:M}),V=e.data.tlbTxrCache=new $h(e,{getKey:y,drawElement:E,getBoundingBox:P,getRotationPoint:N,getRotationOffset:$,isVisible:M}),X=e.data.lyrTxrCache=new wH(e);e.onUpdateEleCalcs(function(Y,ae){j.invalidateElements(ae),J.invalidateElements(ae),H.invalidateElements(ae),V.invalidateElements(ae),X.invalidateElements(ae);for(var se=0;se<ae.length;se++){var ve=ae[se]._private;ve.oldBackgroundTimestamp=ve.backgroundTimestamp}});var te=function(Y){for(var ae=0;ae<Y.length;ae++)X.enqueueElementRefinement(Y[ae].ele)};j.onDequeue(te),J.onDequeue(te),H.onDequeue(te),V.onDequeue(te)}nt.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[nt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[nt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[nt.SELECT_BOX]=e;break}};var Z0e=typeof Path2D<"u";nt.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};nt.usePaths=function(){return Z0e&&this.pathsEnabled};nt.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};nt.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};nt.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":or(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[_H,Aa,ps,QR,zl,Xc,jn,Co,Of,AH].forEach(function(t){Ge(nt,t)});var Q0e=[{name:"null",impl:uH},{name:"base",impl:bH},{name:"canvas",impl:K0e}],J0e=[{type:"layout",extensions:a0e},{type:"renderer",extensions:Q0e}],PH={},IH={};function kH(t,e,r){var n=r,i=function(T){ot("Can not register `"+e+"` for `"+t+"` since `"+T+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Jd.prototype[e])return i(e);Jd.prototype[e]=r}else if(t==="collection"){if(Pr.prototype[e])return i(e);Pr.prototype[e]=r}else if(t==="layout"){for(var a=function(T){this.options=T,r.call(this,T),tt(this._private)||(this._private={}),this._private.cy=T.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var _=this.options;if(_&&_.animate){var T=this.animations;if(T)for(var C=0;C<T.length;C++)T[C].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var h=function(T){return T._private.cy},d={addEventFields:function(T,C){C.layout=T,C.cy=h(T),C.target=T},bubble:function(){return!0},parent:function(T){return h(T)}};Ge(s,{createEmitter:function(){return this._private.emitter=new Ey(d,this),this},emitter:function(){return this._private.emitter},on:function(T,C){return this.emitter().on(T,C),this},one:function(T,C){return this.emitter().one(T,C),this},once:function(T,C){return this.emitter().one(T,C),this},removeListener:function(T,C){return this.emitter().removeListener(T,C),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(T,C){return this.emitter().emit(T,C),this}}),st.eventAliasesOn(s),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var f=MH("renderer","base"),p=f.prototype,g=r,m=r.prototype,v=function(){f.apply(this,arguments),g.apply(this,arguments)},y=v.prototype;for(var b in p){var x=p[b],w=m[b]!=null;if(w)return i(b);y[b]=x}for(var E in m)y[E]=m[E];p.clientFunctions.forEach(function(_){y[_]=y[_]||function(){$t("Renderer does not implement `renderer."+_+"()` on its prototype")}}),n=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return $t(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return nG({map:PH,keys:[t,e],value:n})}function MH(t,e){return iG({map:PH,keys:[t,e]})}function e1e(t,e,r,n,i){return nG({map:IH,keys:[t,e,r,n],value:i})}function t1e(t,e,r,n){return iG({map:IH,keys:[t,e,r,n]})}var $T=function(){if(arguments.length===2)return MH.apply(null,arguments);if(arguments.length===3)return kH.apply(null,arguments);if(arguments.length===4)return t1e.apply(null,arguments);if(arguments.length===5)return e1e.apply(null,arguments);$t("Invalid extension access syntax")};Jd.prototype.extension=$T;J0e.forEach(function(t){t.extensions.forEach(function(e){kH(t.type,e.name,e.impl)})});var DH=function t(){if(!(this instanceof t))return new t;this.length=0},Al=DH.prototype;Al.instanceString=function(){return"stylesheet"};Al.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Al.css=function(t,e){var r=this.length-1;if(ze(t))this[r].properties.push({name:t,value:e});else if(tt(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var l=jr.properties[s]||jr.properties[fy(s)];if(l!=null){var u=l.name,c=o;this[r].properties.push({name:u,value:c})}}}return this};Al.style=Al.css;Al.generateStyle=function(t){var e=new jr(t);return this.appendToStyle(e)};Al.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var s=i[a];t.css(s.name,s.value)}}return t};var r1e="3.30.3",po=function(e){if(e===void 0&&(e={}),tt(e))return new Jd(e);if(ze(e))return $T.apply($T,arguments)};po.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(po),t.apply(null,e),this};po.warnings=function(t){return dG(t)};po.version=r1e;po.stylesheet=po.Stylesheet=DH;var OH={exports:{}},W1,sN;function n1e(){if(sN)return W1;sN=1;function t(){this.__data__=[],this.size=0}return W1=t,W1}var q1,oN;function Yc(){if(oN)return q1;oN=1;function t(e,r){return e===r||e!==e&&r!==r}return q1=t,q1}var X1,lN;function ky(){if(lN)return X1;lN=1;var t=Yc();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return X1=e,X1}var Y1,uN;function i1e(){if(uN)return Y1;uN=1;var t=ky(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Y1=n,Y1}var K1,cN;function a1e(){if(cN)return K1;cN=1;var t=ky();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return K1=e,K1}var Z1,hN;function s1e(){if(hN)return Z1;hN=1;var t=ky();function e(r){return t(this.__data__,r)>-1}return Z1=e,Z1}var Q1,dN;function o1e(){if(dN)return Q1;dN=1;var t=ky();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Q1=e,Q1}var J1,fN;function My(){if(fN)return J1;fN=1;var t=n1e(),e=i1e(),r=a1e(),n=s1e(),i=o1e();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,J1=a,J1}var eb,pN;function l1e(){if(pN)return eb;pN=1;var t=My();function e(){this.__data__=new t,this.size=0}return eb=e,eb}var tb,vN;function u1e(){if(vN)return tb;vN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return tb=t,tb}var rb,mN;function c1e(){if(mN)return rb;mN=1;function t(e){return this.__data__.get(e)}return rb=t,rb}var nb,gN;function h1e(){if(gN)return nb;gN=1;function t(e){return this.__data__.has(e)}return nb=t,nb}var ib,yN;function NH(){if(yN)return ib;yN=1;var t=typeof ir=="object"&&ir&&ir.Object===Object&&ir;return ib=t,ib}var ab,bN;function Vi(){if(bN)return ab;bN=1;var t=NH(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ab=r,ab}var sb,xN;function Kc(){if(xN)return sb;xN=1;var t=Vi(),e=t.Symbol;return sb=e,sb}var ob,wN;function d1e(){if(wN)return ob;wN=1;var t=Kc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=n.call(s);return u&&(o?s[i]=l:delete s[i]),c}return ob=a,ob}var lb,_N;function f1e(){if(_N)return lb;_N=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return lb=r,lb}var ub,EN;function jl(){if(EN)return ub;EN=1;var t=Kc(),e=d1e(),r=f1e(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return ub=s,ub}var cb,SN;function ci(){if(SN)return cb;SN=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return cb=t,cb}var hb,CN;function Nf(){if(CN)return hb;CN=1;var t=jl(),e=ci(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==i||l==r||l==a}return hb=s,hb}var db,TN;function p1e(){if(TN)return db;TN=1;var t=Vi(),e=t["__core-js_shared__"];return db=e,db}var fb,AN;function v1e(){if(AN)return fb;AN=1;var t=p1e(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return fb=r,fb}var pb,RN;function LH(){if(RN)return pb;RN=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return pb=r,pb}var vb,PN;function m1e(){if(PN)return vb;PN=1;var t=Nf(),e=v1e(),r=ci(),n=LH(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(d){if(!r(d)||e(d))return!1;var f=t(d)?c:a;return f.test(n(d))}return vb=h,vb}var mb,IN;function g1e(){if(IN)return mb;IN=1;function t(e,r){return e==null?void 0:e[r]}return mb=t,mb}var gb,kN;function Ul(){if(kN)return gb;kN=1;var t=m1e(),e=g1e();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return gb=r,gb}var yb,MN;function JR(){if(MN)return yb;MN=1;var t=Ul(),e=Vi(),r=t(e,"Map");return yb=r,yb}var bb,DN;function Dy(){if(DN)return bb;DN=1;var t=Ul(),e=t(Object,"create");return bb=e,bb}var xb,ON;function y1e(){if(ON)return xb;ON=1;var t=Dy();function e(){this.__data__=t?t(null):{},this.size=0}return xb=e,xb}var wb,NN;function b1e(){if(NN)return wb;NN=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return wb=t,wb}var _b,LN;function x1e(){if(LN)return _b;LN=1;var t=Dy(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return _b=i,_b}var Eb,BN;function w1e(){if(BN)return Eb;BN=1;var t=Dy(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Eb=n,Eb}var Sb,FN;function _1e(){if(FN)return Sb;FN=1;var t=Dy(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Sb=r,Sb}var Cb,zN;function E1e(){if(zN)return Cb;zN=1;var t=y1e(),e=b1e(),r=x1e(),n=w1e(),i=_1e();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Cb=a,Cb}var Tb,jN;function S1e(){if(jN)return Tb;jN=1;var t=E1e(),e=My(),r=JR();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Tb=n,Tb}var Ab,UN;function C1e(){if(UN)return Ab;UN=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Ab=t,Ab}var Rb,$N;function Oy(){if($N)return Rb;$N=1;var t=C1e();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Rb=e,Rb}var Pb,GN;function T1e(){if(GN)return Pb;GN=1;var t=Oy();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Pb=e,Pb}var Ib,HN;function A1e(){if(HN)return Ib;HN=1;var t=Oy();function e(r){return t(this,r).get(r)}return Ib=e,Ib}var kb,VN;function R1e(){if(VN)return kb;VN=1;var t=Oy();function e(r){return t(this,r).has(r)}return kb=e,kb}var Mb,WN;function P1e(){if(WN)return Mb;WN=1;var t=Oy();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Mb=e,Mb}var Db,qN;function eP(){if(qN)return Db;qN=1;var t=S1e(),e=T1e(),r=A1e(),n=R1e(),i=P1e();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Db=a,Db}var Ob,XN;function I1e(){if(XN)return Ob;XN=1;var t=My(),e=JR(),r=eP(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<n-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(a,s),this.size=o.size,this}return Ob=i,Ob}var Nb,YN;function Ny(){if(YN)return Nb;YN=1;var t=My(),e=l1e(),r=u1e(),n=c1e(),i=h1e(),a=I1e();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,Nb=s,Nb}var Lb,KN;function tP(){if(KN)return Lb;KN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return Lb=t,Lb}var Bb,ZN;function BH(){if(ZN)return Bb;ZN=1;var t=Ul(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Bb=e,Bb}var Fb,QN;function Ly(){if(QN)return Fb;QN=1;var t=BH();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Fb=e,Fb}var zb,JN;function By(){if(JN)return zb;JN=1;var t=Ly(),e=Yc(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var l=a[s];(!(n.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return zb=i,zb}var jb,eL;function Lf(){if(eL)return jb;eL=1;var t=By(),e=Ly();function r(n,i,a,s){var o=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var c=i[l],h=s?s(a[c],n[c],c,a,n):void 0;h===void 0&&(h=n[c]),o?e(a,c,h):t(a,c,h)}return a}return jb=r,jb}var Ub,tL;function k1e(){if(tL)return Ub;tL=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Ub=t,Ub}var $b,rL;function Ra(){if(rL)return $b;rL=1;function t(e){return e!=null&&typeof e=="object"}return $b=t,$b}var Gb,nL;function M1e(){if(nL)return Gb;nL=1;var t=jl(),e=Ra(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Gb=n,Gb}var Hb,iL;function Bf(){if(iL)return Hb;iL=1;var t=M1e(),e=Ra(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Hb=a,Hb}var Vb,aL;function Kt(){if(aL)return Vb;aL=1;var t=Array.isArray;return Vb=t,Vb}var Gh={exports:{}},Wb,sL;function D1e(){if(sL)return Wb;sL=1;function t(){return!1}return Wb=t,Wb}Gh.exports;var oL;function Zc(){return oL||(oL=1,function(t,e){var r=Vi(),n=D1e(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u}(Gh,Gh.exports)),Gh.exports}var qb,lL;function Fy(){if(lL)return qb;lL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return qb=r,qb}var Xb,uL;function rP(){if(uL)return Xb;uL=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Xb=e,Xb}var Yb,cL;function O1e(){if(cL)return Yb;cL=1;var t=jl(),e=rP(),r=Ra(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",h="[object Object]",d="[object RegExp]",f="[object Set]",p="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",P="[object Uint32Array]",M={};M[y]=M[b]=M[x]=M[w]=M[E]=M[_]=M[T]=M[C]=M[P]=!0,M[n]=M[i]=M[m]=M[a]=M[v]=M[s]=M[o]=M[l]=M[u]=M[c]=M[h]=M[d]=M[f]=M[p]=M[g]=!1;function R(I){return r(I)&&e(I.length)&&!!M[t(I)]}return Yb=R,Yb}var Kb,hL;function zy(){if(hL)return Kb;hL=1;function t(e){return function(r){return e(r)}}return Kb=t,Kb}var Hh={exports:{}};Hh.exports;var dL;function nP(){return dL||(dL=1,function(t,e){var r=NH(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(Hh,Hh.exports)),Hh.exports}var Zb,fL;function Ff(){if(fL)return Zb;fL=1;var t=O1e(),e=zy(),r=nP(),n=r&&r.isTypedArray,i=n?e(n):t;return Zb=i,Zb}var Qb,pL;function FH(){if(pL)return Qb;pL=1;var t=k1e(),e=Bf(),r=Kt(),n=Zc(),i=Fy(),a=Ff(),s=Object.prototype,o=s.hasOwnProperty;function l(u,c){var h=r(u),d=!h&&e(u),f=!h&&!d&&n(u),p=!h&&!d&&!f&&a(u),g=h||d||f||p,m=g?t(u.length,String):[],v=m.length;for(var y in u)(c||o.call(u,y))&&!(g&&(y=="length"||f&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,v)))&&m.push(y);return m}return Qb=l,Qb}var Jb,vL;function jy(){if(vL)return Jb;vL=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Jb=e,Jb}var ex,mL;function zH(){if(mL)return ex;mL=1;function t(e,r){return function(n){return e(r(n))}}return ex=t,ex}var tx,gL;function N1e(){if(gL)return tx;gL=1;var t=zH(),e=t(Object.keys,Object);return tx=e,tx}var rx,yL;function iP(){if(yL)return rx;yL=1;var t=jy(),e=N1e(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return rx=i,rx}var nx,bL;function vs(){if(bL)return nx;bL=1;var t=Nf(),e=rP();function r(n){return n!=null&&e(n.length)&&!t(n)}return nx=r,nx}var ix,xL;function To(){if(xL)return ix;xL=1;var t=FH(),e=iP(),r=vs();function n(i){return r(i)?t(i):e(i)}return ix=n,ix}var ax,wL;function L1e(){if(wL)return ax;wL=1;var t=Lf(),e=To();function r(n,i){return n&&t(i,e(i),n)}return ax=r,ax}var sx,_L;function B1e(){if(_L)return sx;_L=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return sx=t,sx}var ox,EL;function F1e(){if(EL)return ox;EL=1;var t=ci(),e=jy(),r=B1e(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!t(s))return r(s);var o=e(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return ox=a,ox}var lx,SL;function $l(){if(SL)return lx;SL=1;var t=FH(),e=F1e(),r=vs();function n(i){return r(i)?t(i,!0):e(i)}return lx=n,lx}var ux,CL;function z1e(){if(CL)return ux;CL=1;var t=Lf(),e=$l();function r(n,i){return n&&t(i,e(i),n)}return ux=r,ux}var Vh={exports:{}};Vh.exports;var TL;function jH(){return TL||(TL=1,function(t,e){var r=Vi(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=o?o(h):new u.constructor(h);return u.copy(d),d}t.exports=l}(Vh,Vh.exports)),Vh.exports}var cx,AL;function UH(){if(AL)return cx;AL=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return cx=t,cx}var hx,RL;function $H(){if(RL)return hx;RL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return hx=t,hx}var dx,PL;function GH(){if(PL)return dx;PL=1;function t(){return[]}return dx=t,dx}var fx,IL;function aP(){if(IL)return fx;IL=1;var t=$H(),e=GH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return fx=a,fx}var px,kL;function j1e(){if(kL)return px;kL=1;var t=Lf(),e=aP();function r(n,i){return t(n,e(n),i)}return px=r,px}var vx,ML;function sP(){if(ML)return vx;ML=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return vx=t,vx}var mx,DL;function Uy(){if(DL)return mx;DL=1;var t=zH(),e=t(Object.getPrototypeOf,Object);return mx=e,mx}var gx,OL;function HH(){if(OL)return gx;OL=1;var t=sP(),e=Uy(),r=aP(),n=GH(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return gx=a,gx}var yx,NL;function U1e(){if(NL)return yx;NL=1;var t=Lf(),e=HH();function r(n,i){return t(n,e(n),i)}return yx=r,yx}var bx,LL;function VH(){if(LL)return bx;LL=1;var t=sP(),e=Kt();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return bx=r,bx}var xx,BL;function WH(){if(BL)return xx;BL=1;var t=VH(),e=aP(),r=To();function n(i){return t(i,r,e)}return xx=n,xx}var wx,FL;function $1e(){if(FL)return wx;FL=1;var t=VH(),e=HH(),r=$l();function n(i){return t(i,r,e)}return wx=n,wx}var _x,zL;function G1e(){if(zL)return _x;zL=1;var t=Ul(),e=Vi(),r=t(e,"DataView");return _x=r,_x}var Ex,jL;function H1e(){if(jL)return Ex;jL=1;var t=Ul(),e=Vi(),r=t(e,"Promise");return Ex=r,Ex}var Sx,UL;function qH(){if(UL)return Sx;UL=1;var t=Ul(),e=Vi(),r=t(e,"Set");return Sx=r,Sx}var Cx,$L;function V1e(){if($L)return Cx;$L=1;var t=Ul(),e=Vi(),r=t(e,"WeakMap");return Cx=r,Cx}var Tx,GL;function Qc(){if(GL)return Tx;GL=1;var t=G1e(),e=JR(),r=H1e(),n=qH(),i=V1e(),a=jl(),s=LH(),o="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",h="[object WeakMap]",d="[object DataView]",f=s(t),p=s(e),g=s(r),m=s(n),v=s(i),y=a;return(t&&y(new t(new ArrayBuffer(1)))!=d||e&&y(new e)!=o||r&&y(r.resolve())!=u||n&&y(new n)!=c||i&&y(new i)!=h)&&(y=function(b){var x=a(b),w=x==l?b.constructor:void 0,E=w?s(w):"";if(E)switch(E){case f:return d;case p:return o;case g:return u;case m:return c;case v:return h}return x}),Tx=y,Tx}var Ax,HL;function W1e(){if(HL)return Ax;HL=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return Ax=r,Ax}var Rx,VL;function XH(){if(VL)return Rx;VL=1;var t=Vi(),e=t.Uint8Array;return Rx=e,Rx}var Px,WL;function oP(){if(WL)return Px;WL=1;var t=XH();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Px=e,Px}var Ix,qL;function q1e(){if(qL)return Ix;qL=1;var t=oP();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Ix=e,Ix}var kx,XL;function X1e(){if(XL)return kx;XL=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return kx=e,kx}var Mx,YL;function Y1e(){if(YL)return Mx;YL=1;var t=Kc(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return Mx=n,Mx}var Dx,KL;function YH(){if(KL)return Dx;KL=1;var t=oP();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Dx=e,Dx}var Ox,ZL;function K1e(){if(ZL)return Ox;ZL=1;var t=oP(),e=q1e(),r=X1e(),n=Y1e(),i=YH(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",h="[object String]",d="[object Symbol]",f="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",m="[object Float64Array]",v="[object Int8Array]",y="[object Int16Array]",b="[object Int32Array]",x="[object Uint8Array]",w="[object Uint8ClampedArray]",E="[object Uint16Array]",_="[object Uint32Array]";function T(C,P,M){var R=C.constructor;switch(P){case f:return t(C);case a:case s:return new R(+C);case p:return e(C,M);case g:case m:case v:case y:case b:case x:case w:case E:case _:return i(C,M);case o:return new R;case l:case h:return new R(C);case u:return r(C);case c:return new R;case d:return n(C)}}return Ox=T,Ox}var Nx,QL;function KH(){if(QL)return Nx;QL=1;var t=ci(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return Nx=r,Nx}var Lx,JL;function ZH(){if(JL)return Lx;JL=1;var t=KH(),e=Uy(),r=jy();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return Lx=n,Lx}var Bx,eB;function Z1e(){if(eB)return Bx;eB=1;var t=Qc(),e=Ra(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return Bx=n,Bx}var Fx,tB;function Q1e(){if(tB)return Fx;tB=1;var t=Z1e(),e=zy(),r=nP(),n=r&&r.isMap,i=n?e(n):t;return Fx=i,Fx}var zx,rB;function J1e(){if(rB)return zx;rB=1;var t=Qc(),e=Ra(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return zx=n,zx}var jx,nB;function ebe(){if(nB)return jx;nB=1;var t=J1e(),e=zy(),r=nP(),n=r&&r.isSet,i=n?e(n):t;return jx=i,jx}var Ux,iB;function QH(){if(iB)return Ux;iB=1;var t=Ny(),e=tP(),r=By(),n=L1e(),i=z1e(),a=jH(),s=UH(),o=j1e(),l=U1e(),u=WH(),c=$1e(),h=Qc(),d=W1e(),f=K1e(),p=ZH(),g=Kt(),m=Zc(),v=Q1e(),y=ci(),b=ebe(),x=To(),w=$l(),E=1,_=2,T=4,C="[object Arguments]",P="[object Array]",M="[object Boolean]",R="[object Date]",I="[object Error]",S="[object Function]",B="[object GeneratorFunction]",L="[object Map]",N="[object Number]",F="[object Object]",z="[object RegExp]",$="[object Set]",O="[object String]",j="[object Symbol]",J="[object WeakMap]",H="[object ArrayBuffer]",V="[object DataView]",X="[object Float32Array]",te="[object Float64Array]",Q="[object Int8Array]",Y="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",ve="[object Uint8ClampedArray]",ge="[object Uint16Array]",k="[object Uint32Array]",K={};K[C]=K[P]=K[H]=K[V]=K[M]=K[R]=K[X]=K[te]=K[Q]=K[Y]=K[ae]=K[L]=K[N]=K[F]=K[z]=K[$]=K[O]=K[j]=K[se]=K[ve]=K[ge]=K[k]=!0,K[I]=K[S]=K[J]=!1;function ne(U,G,q,oe,re,Z){var ee,ue=G&E,fe=G&_,ce=G&T;if(q&&(ee=re?q(U,oe,re,Z):q(U)),ee!==void 0)return ee;if(!y(U))return U;var W=g(U);if(W){if(ee=d(U),!ue)return s(U,ee)}else{var ie=h(U),de=ie==S||ie==B;if(m(U))return a(U,ue);if(ie==F||ie==C||de&&!re){if(ee=fe||de?{}:p(U),!ue)return fe?l(U,i(ee,U)):o(U,n(ee,U))}else{if(!K[ie])return re?U:{};ee=f(U,ie,ue)}}Z||(Z=new t);var le=Z.get(U);if(le)return le;Z.set(U,ee),b(U)?U.forEach(function(pe){ee.add(ne(pe,G,q,pe,U,Z))}):v(U)&&U.forEach(function(pe,Se){ee.set(Se,ne(pe,G,q,Se,U,Z))});var he=ce?fe?c:u:fe?w:x,Ee=W?void 0:he(U);return e(Ee||U,function(pe,Se){Ee&&(Se=pe,pe=U[Se]),r(ee,Se,ne(pe,G,q,Se,U,Z))}),ee}return Ux=ne,Ux}var $x,aB;function tbe(){if(aB)return $x;aB=1;var t=QH(),e=4;function r(n){return t(n,e)}return $x=r,$x}var Gx,sB;function lP(){if(sB)return Gx;sB=1;function t(e){return function(){return e}}return Gx=t,Gx}var Hx,oB;function rbe(){if(oB)return Hx;oB=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),l=o.length;l--;){var u=o[e?l:++a];if(n(s[u],u,s)===!1)break}return r}}return Hx=t,Hx}var Vx,lB;function uP(){if(lB)return Vx;lB=1;var t=rbe(),e=t();return Vx=e,Vx}var Wx,uB;function cP(){if(uB)return Wx;uB=1;var t=uP(),e=To();function r(n,i){return n&&t(n,i,e)}return Wx=r,Wx}var qx,cB;function nbe(){if(cB)return qx;cB=1;var t=vs();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,o=n?s:-1,l=Object(i);(n?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return qx=e,qx}var Xx,hB;function $y(){if(hB)return Xx;hB=1;var t=cP(),e=nbe(),r=e(t);return Xx=r,Xx}var Yx,dB;function Gl(){if(dB)return Yx;dB=1;function t(e){return e}return Yx=t,Yx}var Kx,fB;function JH(){if(fB)return Kx;fB=1;var t=Gl();function e(r){return typeof r=="function"?r:t}return Kx=e,Kx}var Zx,pB;function e9(){if(pB)return Zx;pB=1;var t=tP(),e=$y(),r=JH(),n=Kt();function i(a,s){var o=n(a)?t:e;return o(a,r(s))}return Zx=i,Zx}var Qx,vB;function t9(){return vB||(vB=1,Qx=e9()),Qx}var Jx,mB;function ibe(){if(mB)return Jx;mB=1;var t=$y();function e(r,n){var i=[];return t(r,function(a,s,o){n(a,s,o)&&i.push(a)}),i}return Jx=e,Jx}var ew,gB;function abe(){if(gB)return ew;gB=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return ew=e,ew}var tw,yB;function sbe(){if(yB)return tw;yB=1;function t(e){return this.__data__.has(e)}return tw=t,tw}var rw,bB;function r9(){if(bB)return rw;bB=1;var t=eP(),e=abe(),r=sbe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,rw=n,rw}var nw,xB;function obe(){if(xB)return nw;xB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return nw=t,nw}var iw,wB;function n9(){if(wB)return iw;wB=1;function t(e,r){return e.has(r)}return iw=t,iw}var aw,_B;function i9(){if(_B)return aw;_B=1;var t=r9(),e=obe(),r=n9(),n=1,i=2;function a(s,o,l,u,c,h){var d=l&n,f=s.length,p=o.length;if(f!=p&&!(d&&p>f))return!1;var g=h.get(s),m=h.get(o);if(g&&m)return g==o&&m==s;var v=-1,y=!0,b=l&i?new t:void 0;for(h.set(s,o),h.set(o,s);++v<f;){var x=s[v],w=o[v];if(u)var E=d?u(w,x,v,o,s,h):u(x,w,v,s,o,h);if(E!==void 0){if(E)continue;y=!1;break}if(b){if(!e(o,function(_,T){if(!r(b,T)&&(x===_||c(x,_,l,u,h)))return b.push(T)})){y=!1;break}}else if(!(x===w||c(x,w,l,u,h))){y=!1;break}}return h.delete(s),h.delete(o),y}return aw=a,aw}var sw,EB;function lbe(){if(EB)return sw;EB=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return sw=t,sw}var ow,SB;function hP(){if(SB)return ow;SB=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ow=t,ow}var lw,CB;function ube(){if(CB)return lw;CB=1;var t=Kc(),e=XH(),r=Yc(),n=i9(),i=lbe(),a=hP(),s=1,o=2,l="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",b=t?t.prototype:void 0,x=b?b.valueOf:void 0;function w(E,_,T,C,P,M,R){switch(T){case y:if(E.byteLength!=_.byteLength||E.byteOffset!=_.byteOffset)return!1;E=E.buffer,_=_.buffer;case v:return!(E.byteLength!=_.byteLength||!M(new e(E),new e(_)));case l:case u:case d:return r(+E,+_);case c:return E.name==_.name&&E.message==_.message;case f:case g:return E==_+"";case h:var I=i;case p:var S=C&s;if(I||(I=a),E.size!=_.size&&!S)return!1;var B=R.get(E);if(B)return B==_;C|=o,R.set(E,_);var L=n(I(E),I(_),C,P,M,R);return R.delete(E),L;case m:if(x)return x.call(E)==x.call(_)}return!1}return lw=w,lw}var uw,TB;function cbe(){if(TB)return uw;TB=1;var t=WH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,l,u,c){var h=o&e,d=t(a),f=d.length,p=t(s),g=p.length;if(f!=g&&!h)return!1;for(var m=f;m--;){var v=d[m];if(!(h?v in s:n.call(s,v)))return!1}var y=c.get(a),b=c.get(s);if(y&&b)return y==s&&b==a;var x=!0;c.set(a,s),c.set(s,a);for(var w=h;++m<f;){v=d[m];var E=a[v],_=s[v];if(l)var T=h?l(_,E,v,s,a,c):l(E,_,v,a,s,c);if(!(T===void 0?E===_||u(E,_,o,l,c):T)){x=!1;break}w||(w=v=="constructor")}if(x&&!w){var C=a.constructor,P=s.constructor;C!=P&&"constructor"in a&&"constructor"in s&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(x=!1)}return c.delete(a),c.delete(s),x}return uw=i,uw}var cw,AB;function hbe(){if(AB)return cw;AB=1;var t=Ny(),e=i9(),r=ube(),n=cbe(),i=Qc(),a=Kt(),s=Zc(),o=Ff(),l=1,u="[object Arguments]",c="[object Array]",h="[object Object]",d=Object.prototype,f=d.hasOwnProperty;function p(g,m,v,y,b,x){var w=a(g),E=a(m),_=w?c:i(g),T=E?c:i(m);_=_==u?h:_,T=T==u?h:T;var C=_==h,P=T==h,M=_==T;if(M&&s(g)){if(!s(m))return!1;w=!0,C=!1}if(M&&!C)return x||(x=new t),w||o(g)?e(g,m,v,y,b,x):r(g,m,_,v,y,b,x);if(!(v&l)){var R=C&&f.call(g,"__wrapped__"),I=P&&f.call(m,"__wrapped__");if(R||I){var S=R?g.value():g,B=I?m.value():m;return x||(x=new t),b(S,B,v,y,x)}}return M?(x||(x=new t),n(g,m,v,y,b,x)):!1}return cw=p,cw}var hw,RB;function a9(){if(RB)return hw;RB=1;var t=hbe(),e=Ra();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return hw=r,hw}var dw,PB;function dbe(){if(PB)return dw;PB=1;var t=Ny(),e=a9(),r=1,n=2;function i(a,s,o,l){var u=o.length,c=u,h=!l;if(a==null)return!c;for(a=Object(a);u--;){var d=o[u];if(h&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++u<c;){d=o[u];var f=d[0],p=a[f],g=d[1];if(h&&d[2]){if(p===void 0&&!(f in a))return!1}else{var m=new t;if(l)var v=l(p,g,f,a,s,m);if(!(v===void 0?e(g,p,r|n,l,m):v))return!1}}return!0}return dw=i,dw}var fw,IB;function s9(){if(IB)return fw;IB=1;var t=ci();function e(r){return r===r&&!t(r)}return fw=e,fw}var pw,kB;function fbe(){if(kB)return pw;kB=1;var t=s9(),e=To();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,t(o)]}return i}return pw=r,pw}var vw,MB;function o9(){if(MB)return vw;MB=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return vw=t,vw}var mw,DB;function pbe(){if(DB)return mw;DB=1;var t=dbe(),e=fbe(),r=o9();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return mw=n,mw}var gw,OB;function Jc(){if(OB)return gw;OB=1;var t=jl(),e=Ra(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return gw=n,gw}var yw,NB;function dP(){if(NB)return yw;NB=1;var t=Kt(),e=Jc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return yw=i,yw}var bw,LB;function vbe(){if(LB)return bw;LB=1;var t=eP(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,bw=r,bw}var xw,BB;function mbe(){if(BB)return xw;BB=1;var t=vbe(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return xw=r,xw}var ww,FB;function gbe(){if(FB)return ww;FB=1;var t=mbe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,u){a.push(l?u.replace(r,"$1"):o||s)}),a});return ww=n,ww}var _w,zB;function Gy(){if(zB)return _w;zB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return _w=t,_w}var Ew,jB;function ybe(){if(jB)return Ew;jB=1;var t=Kc(),e=Gy(),r=Kt(),n=Jc(),i=1/0,a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-i?"-0":u}return Ew=o,Ew}var Sw,UB;function l9(){if(UB)return Sw;UB=1;var t=ybe();function e(r){return r==null?"":t(r)}return Sw=e,Sw}var Cw,$B;function Hy(){if($B)return Cw;$B=1;var t=Kt(),e=dP(),r=gbe(),n=l9();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return Cw=i,Cw}var Tw,GB;function zf(){if(GB)return Tw;GB=1;var t=Jc(),e=1/0;function r(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-e?"-0":i}return Tw=r,Tw}var Aw,HB;function Vy(){if(HB)return Aw;HB=1;var t=Hy(),e=zf();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return Aw=r,Aw}var Rw,VB;function bbe(){if(VB)return Rw;VB=1;var t=Vy();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Rw=e,Rw}var Pw,WB;function xbe(){if(WB)return Pw;WB=1;function t(e,r){return e!=null&&r in Object(e)}return Pw=t,Pw}var Iw,qB;function u9(){if(qB)return Iw;qB=1;var t=Hy(),e=Bf(),r=Kt(),n=Fy(),i=rP(),a=zf();function s(o,l,u){l=t(l,o);for(var c=-1,h=l.length,d=!1;++c<h;){var f=a(l[c]);if(!(d=o!=null&&u(o,f)))break;o=o[f]}return d||++c!=h?d:(h=o==null?0:o.length,!!h&&i(h)&&n(f,h)&&(r(o)||e(o)))}return Iw=s,Iw}var kw,XB;function c9(){if(XB)return kw;XB=1;var t=xbe(),e=u9();function r(n,i){return n!=null&&e(n,i,t)}return kw=r,kw}var Mw,YB;function wbe(){if(YB)return Mw;YB=1;var t=a9(),e=bbe(),r=c9(),n=dP(),i=s9(),a=o9(),s=zf(),o=1,l=2;function u(c,h){return n(c)&&i(h)?a(s(c),h):function(d){var f=e(d,c);return f===void 0&&f===h?r(d,c):t(h,f,o|l)}}return Mw=u,Mw}var Dw,KB;function h9(){if(KB)return Dw;KB=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Dw=t,Dw}var Ow,ZB;function _be(){if(ZB)return Ow;ZB=1;var t=Vy();function e(r){return function(n){return t(n,r)}}return Ow=e,Ow}var Nw,QB;function Ebe(){if(QB)return Nw;QB=1;var t=h9(),e=_be(),r=dP(),n=zf();function i(a){return r(a)?t(n(a)):e(a)}return Nw=i,Nw}var Lw,JB;function ms(){if(JB)return Lw;JB=1;var t=pbe(),e=wbe(),r=Gl(),n=Kt(),i=Ebe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Lw=a,Lw}var Bw,eF;function d9(){if(eF)return Bw;eF=1;var t=$H(),e=ibe(),r=ms(),n=Kt();function i(a,s){var o=n(a)?t:e;return o(a,r(s,3))}return Bw=i,Bw}var Fw,tF;function Sbe(){if(tF)return Fw;tF=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return Fw=r,Fw}var zw,rF;function f9(){if(rF)return zw;rF=1;var t=Sbe(),e=u9();function r(n,i){return n!=null&&e(n,i,t)}return zw=r,zw}var jw,nF;function Cbe(){if(nF)return jw;nF=1;var t=iP(),e=Qc(),r=Bf(),n=Kt(),i=vs(),a=Zc(),s=jy(),o=Ff(),l="[object Map]",u="[object Set]",c=Object.prototype,h=c.hasOwnProperty;function d(f){if(f==null)return!0;if(i(f)&&(n(f)||typeof f=="string"||typeof f.splice=="function"||a(f)||o(f)||r(f)))return!f.length;var p=e(f);if(p==l||p==u)return!f.size;if(s(f))return!t(f).length;for(var g in f)if(h.call(f,g))return!1;return!0}return jw=d,jw}var Uw,iF;function p9(){if(iF)return Uw;iF=1;function t(e){return e===void 0}return Uw=t,Uw}var $w,aF;function v9(){if(aF)return $w;aF=1;var t=$y(),e=vs();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(o,l,u){s[++a]=i(o,l,u)}),s}return $w=r,$w}var Gw,sF;function m9(){if(sF)return Gw;sF=1;var t=Gy(),e=ms(),r=v9(),n=Kt();function i(a,s){var o=n(a)?t:r;return o(a,e(s,3))}return Gw=i,Gw}var Hw,oF;function Tbe(){if(oF)return Hw;oF=1;function t(e,r,n,i){var a=-1,s=e==null?0:e.length;for(i&&s&&(n=e[++a]);++a<s;)n=r(n,e[a],a,e);return n}return Hw=t,Hw}var Vw,lF;function Abe(){if(lF)return Vw;lF=1;function t(e,r,n,i,a){return a(e,function(s,o,l){n=i?(i=!1,s):r(n,s,o,l)}),n}return Vw=t,Vw}var Ww,uF;function g9(){if(uF)return Ww;uF=1;var t=Tbe(),e=$y(),r=ms(),n=Abe(),i=Kt();function a(s,o,l){var u=i(s)?t:n,c=arguments.length<3;return u(s,r(o,4),l,c,e)}return Ww=a,Ww}var qw,cF;function Rbe(){if(cF)return qw;cF=1;var t=jl(),e=Kt(),r=Ra(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return qw=i,qw}var Xw,hF;function Pbe(){if(hF)return Xw;hF=1;var t=h9(),e=t("length");return Xw=e,Xw}var Yw,dF;function Ibe(){if(dF)return Yw;dF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function l(u){return o.test(u)}return Yw=l,Yw}var Kw,fF;function kbe(){if(fF)return Kw;fF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",c="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",p=u+"?",g="["+a+"]?",m="(?:"+f+"(?:"+[c,h,d].join("|")+")"+g+p+")*",v=g+p+m,y="(?:"+[c+o+"?",o,h,d,s].join("|")+")",b=RegExp(l+"(?="+l+")|"+y+v,"g");function x(w){for(var E=b.lastIndex=0;b.test(w);)++E;return E}return Kw=x,Kw}var Zw,pF;function Mbe(){if(pF)return Zw;pF=1;var t=Pbe(),e=Ibe(),r=kbe();function n(i){return e(i)?r(i):t(i)}return Zw=n,Zw}var Qw,vF;function Dbe(){if(vF)return Qw;vF=1;var t=iP(),e=Qc(),r=vs(),n=Rbe(),i=Mbe(),a="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(r(l))return n(l)?i(l):l.length;var u=e(l);return u==a||u==s?l.size:t(l).length}return Qw=o,Qw}var Jw,mF;function Obe(){if(mF)return Jw;mF=1;var t=tP(),e=KH(),r=cP(),n=ms(),i=Uy(),a=Kt(),s=Zc(),o=Nf(),l=ci(),u=Ff();function c(h,d,f){var p=a(h),g=p||s(h)||u(h);if(d=n(d,4),f==null){var m=h&&h.constructor;g?f=p?new m:[]:l(h)?f=o(m)?e(i(h)):{}:f={}}return(g?t:r)(h,function(v,y,b){return d(f,v,y,b)}),f}return Jw=c,Jw}var e_,gF;function Nbe(){if(gF)return e_;gF=1;var t=Kc(),e=Bf(),r=Kt(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return e_=i,e_}var t_,yF;function fP(){if(yF)return t_;yF=1;var t=sP(),e=Nbe();function r(n,i,a,s,o){var l=-1,u=n.length;for(a||(a=e),o||(o=[]);++l<u;){var c=n[l];i>0&&a(c)?i>1?r(c,i-1,a,s,o):t(o,c):s||(o[o.length]=c)}return o}return t_=r,t_}var r_,bF;function Lbe(){if(bF)return r_;bF=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return r_=t,r_}var n_,xF;function y9(){if(xF)return n_;xF=1;var t=Lbe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var c=Array(i+1);++o<i;)c[o]=s[o];return c[i]=a(u),t(n,this,c)}}return n_=r,n_}var i_,wF;function Bbe(){if(wF)return i_;wF=1;var t=lP(),e=BH(),r=Gl(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return i_=n,i_}var a_,_F;function Fbe(){if(_F)return a_;_F=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return a_=n,a_}var s_,EF;function b9(){if(EF)return s_;EF=1;var t=Bbe(),e=Fbe(),r=e(t);return s_=r,s_}var o_,SF;function Wy(){if(SF)return o_;SF=1;var t=Gl(),e=y9(),r=b9();function n(i,a){return r(e(i,a,t),i+"")}return o_=n,o_}var l_,CF;function x9(){if(CF)return l_;CF=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return l_=t,l_}var u_,TF;function zbe(){if(TF)return u_;TF=1;function t(e){return e!==e}return u_=t,u_}var c_,AF;function jbe(){if(AF)return c_;AF=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return c_=t,c_}var h_,RF;function Ube(){if(RF)return h_;RF=1;var t=x9(),e=zbe(),r=jbe();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return h_=n,h_}var d_,PF;function $be(){if(PF)return d_;PF=1;var t=Ube();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return d_=e,d_}var f_,IF;function Gbe(){if(IF)return f_;IF=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return f_=t,f_}var p_,kF;function Hbe(){if(kF)return p_;kF=1;function t(){}return p_=t,p_}var v_,MF;function Vbe(){if(MF)return v_;MF=1;var t=qH(),e=Hbe(),r=hP(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return v_=i,v_}var m_,DF;function Wbe(){if(DF)return m_;DF=1;var t=r9(),e=$be(),r=Gbe(),n=n9(),i=Vbe(),a=hP(),s=200;function o(l,u,c){var h=-1,d=e,f=l.length,p=!0,g=[],m=g;if(c)p=!1,d=r;else if(f>=s){var v=u?null:i(l);if(v)return a(v);p=!1,d=n,m=new t}else m=u?[]:g;e:for(;++h<f;){var y=l[h],b=u?u(y):y;if(y=c||y!==0?y:0,p&&b===b){for(var x=m.length;x--;)if(m[x]===b)continue e;u&&m.push(b),g.push(y)}else d(m,b,c)||(m!==g&&m.push(b),g.push(y))}return g}return m_=o,m_}var g_,OF;function w9(){if(OF)return g_;OF=1;var t=vs(),e=Ra();function r(n){return e(n)&&t(n)}return g_=r,g_}var y_,NF;function qbe(){if(NF)return y_;NF=1;var t=fP(),e=Wy(),r=Wbe(),n=w9(),i=e(function(a){return r(t(a,1,n,!0))});return y_=i,y_}var b_,LF;function Xbe(){if(LF)return b_;LF=1;var t=Gy();function e(r,n){return t(n,function(i){return r[i]})}return b_=e,b_}var x_,BF;function _9(){if(BF)return x_;BF=1;var t=Xbe(),e=To();function r(n){return n==null?[]:t(n,e(n))}return x_=r,x_}var w_,FF;function hi(){if(FF)return w_;FF=1;var t;if(typeof tl=="function")try{t={clone:tbe(),constant:lP(),each:t9(),filter:d9(),has:f9(),isArray:Kt(),isEmpty:Cbe(),isFunction:Nf(),isUndefined:p9(),keys:To(),map:m9(),reduce:g9(),size:Dbe(),transform:Obe(),union:qbe(),values:_9()}}catch{}return t||(t=window._),w_=t,w_}var __,zF;function pP(){if(zF)return __;zF=1;var t=hi();__=i;var e="\0",r="\0",n="";function i(c){this._isDirected=t.has(c,"directed")?c.directed:!0,this._isMultigraph=t.has(c,"multigraph")?c.multigraph:!1,this._isCompound=t.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return t.isFunction(c)||(c=t.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var c=this;return t.filter(this.nodes(),function(h){return t.isEmpty(c._in[h])})},i.prototype.sinks=function(){var c=this;return t.filter(this.nodes(),function(h){return t.isEmpty(c._out[h])})},i.prototype.setNodes=function(c,h){var d=arguments,f=this;return t.each(c,function(p){d.length>1?f.setNode(p,h):f.setNode(p)}),this},i.prototype.setNode=function(c,h){return t.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=h),this):(this._nodes[c]=arguments.length>1?h:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return t.has(this._nodes,c)},i.prototype.removeNode=function(c){var h=this;if(t.has(this._nodes,c)){var d=function(f){h.removeEdge(h._edgeObjs[f])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],t.each(this.children(c),function(f){h.setParent(f)}),delete this._children[c]),t.each(t.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],t.each(t.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=r;else{h+="";for(var d=h;!t.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+h+" as parent of "+c+" would create a cycle");this.setNode(h)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=h,this._children[h][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var h=this._parent[c];if(h!==r)return h}},i.prototype.children=function(c){if(t.isUndefined(c)&&(c=r),this._isCompound){var h=this._children[c];if(h)return t.keys(h)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var h=this._preds[c];if(h)return t.keys(h)},i.prototype.successors=function(c){var h=this._sucs[c];if(h)return t.keys(h)},i.prototype.neighbors=function(c){var h=this.predecessors(c);if(h)return t.union(h,this.successors(c))},i.prototype.isLeaf=function(c){var h;return this.isDirected()?h=this.successors(c):h=this.neighbors(c),h.length===0},i.prototype.filterNodes=function(c){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var d=this;t.each(this._nodes,function(g,m){c(m)&&h.setNode(m,g)}),t.each(this._edgeObjs,function(g){h.hasNode(g.v)&&h.hasNode(g.w)&&h.setEdge(g,d.edge(g))});var f={};function p(g){var m=d.parent(g);return m===void 0||h.hasNode(m)?(f[g]=m,m):m in f?f[m]:p(m)}return this._isCompound&&t.each(h.nodes(),function(g){h.setParent(g,p(g))}),h},i.prototype.setDefaultEdgeLabel=function(c){return t.isFunction(c)||(c=t.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(c,h){var d=this,f=arguments;return t.reduce(c,function(p,g){return f.length>1?d.setEdge(p,g,h):d.setEdge(p,g),g}),this},i.prototype.setEdge=function(){var c,h,d,f,p=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(c=g.v,h=g.w,d=g.name,arguments.length===2&&(f=arguments[1],p=!0)):(c=g,h=arguments[1],d=arguments[3],arguments.length>2&&(f=arguments[2],p=!0)),c=""+c,h=""+h,t.isUndefined(d)||(d=""+d);var m=o(this._isDirected,c,h,d);if(t.has(this._edgeLabels,m))return p&&(this._edgeLabels[m]=f),this;if(!t.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(h),this._edgeLabels[m]=p?f:this._defaultEdgeLabelFn(c,h,d);var v=l(this._isDirected,c,h,d);return c=v.v,h=v.w,Object.freeze(v),this._edgeObjs[m]=v,a(this._preds[h],c),a(this._sucs[c],h),this._in[h][m]=v,this._out[c][m]=v,this._edgeCount++,this},i.prototype.edge=function(c,h,d){var f=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,h,d);return this._edgeLabels[f]},i.prototype.hasEdge=function(c,h,d){var f=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,h,d);return t.has(this._edgeLabels,f)},i.prototype.removeEdge=function(c,h,d){var f=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,h,d),p=this._edgeObjs[f];return p&&(c=p.v,h=p.w,delete this._edgeLabels[f],delete this._edgeObjs[f],s(this._preds[h],c),s(this._sucs[c],h),delete this._in[h][f],delete this._out[c][f],this._edgeCount--),this},i.prototype.inEdges=function(c,h){var d=this._in[c];if(d){var f=t.values(d);return h?t.filter(f,function(p){return p.v===h}):f}},i.prototype.outEdges=function(c,h){var d=this._out[c];if(d){var f=t.values(d);return h?t.filter(f,function(p){return p.w===h}):f}},i.prototype.nodeEdges=function(c,h){var d=this.inEdges(c,h);if(d)return d.concat(this.outEdges(c,h))};function a(c,h){c[h]?c[h]++:c[h]=1}function s(c,h){--c[h]||delete c[h]}function o(c,h,d,f){var p=""+h,g=""+d;if(!c&&p>g){var m=p;p=g,g=m}return p+n+g+n+(t.isUndefined(f)?e:f)}function l(c,h,d,f){var p=""+h,g=""+d;if(!c&&p>g){var m=p;p=g,g=m}var v={v:p,w:g};return f&&(v.name=f),v}function u(c,h){return o(c,h.v,h.w,h.name)}return __}var E_,jF;function Ybe(){return jF||(jF=1,E_="2.1.8"),E_}var S_,UF;function Kbe(){return UF||(UF=1,S_={Graph:pP(),version:Ybe()}),S_}var C_,$F;function Zbe(){if($F)return C_;$F=1;var t=hi(),e=pP();C_={write:r,read:a};function r(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return t.isUndefined(s.graph())||(o.value=t.clone(s.graph())),o}function n(s){return t.map(s.nodes(),function(o){var l=s.node(o),u=s.parent(o),c={v:o};return t.isUndefined(l)||(c.value=l),t.isUndefined(u)||(c.parent=u),c})}function i(s){return t.map(s.edges(),function(o){var l=s.edge(o),u={v:o.v,w:o.w};return t.isUndefined(o.name)||(u.name=o.name),t.isUndefined(l)||(u.value=l),u})}function a(s){var o=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),t.each(s.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return C_}var T_,GF;function Qbe(){if(GF)return T_;GF=1;var t=hi();T_=e;function e(r){var n={},i=[],a;function s(o){t.has(n,o)||(n[o]=!0,a.push(o),t.each(r.successors(o),s),t.each(r.predecessors(o),s))}return t.each(r.nodes(),function(o){a=[],s(o),a.length&&i.push(a)}),i}return T_}var A_,HF;function E9(){if(HF)return A_;HF=1;var t=hi();A_=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!t.has(i,r)){var a=this._arr,s=a.length;return i[r]=s,a.push({key:r,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(r){var n=this._arr,i=2*r,a=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,a<n.length&&(s=n[a].priority<n[s].priority?a:s),s!==r&&(this._swap(r,s),this._heapify(s)))},e.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,a;r!==0&&(a=r>>1,!(n[a].priority<i));)this._swap(r,a),r=a},e.prototype._swap=function(r,n){var i=this._arr,a=this._keyIndices,s=i[r],o=i[n];i[r]=o,i[n]=s,a[o.key]=r,a[s.key]=n},A_}var R_,VF;function S9(){if(VF)return R_;VF=1;var t=hi(),e=E9();R_=n;var r=t.constant(1);function n(a,s,o,l){return i(a,String(s),o||r,l||function(u){return a.outEdges(u)})}function i(a,s,o,l){var u={},c=new e,h,d,f=function(p){var g=p.v!==h?p.v:p.w,m=u[g],v=o(p),y=d.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+v);y<m.distance&&(m.distance=y,m.predecessor=h,c.decrease(g,y))};for(a.nodes().forEach(function(p){var g=p===s?0:Number.POSITIVE_INFINITY;u[p]={distance:g},c.add(p,g)});c.size()>0&&(h=c.removeMin(),d=u[h],d.distance!==Number.POSITIVE_INFINITY);)l(h).forEach(f);return u}return R_}var P_,WF;function Jbe(){if(WF)return P_;WF=1;var t=S9(),e=hi();P_=r;function r(n,i,a){return e.transform(n.nodes(),function(s,o){s[o]=t(n,o,i,a)},{})}return P_}var I_,qF;function C9(){if(qF)return I_;qF=1;var t=hi();I_=e;function e(r){var n=0,i=[],a={},s=[];function o(l){var u=a[l]={onStack:!0,lowlink:n,index:n++};if(i.push(l),r.successors(l).forEach(function(d){t.has(a,d)?a[d].onStack&&(u.lowlink=Math.min(u.lowlink,a[d].index)):(o(d),u.lowlink=Math.min(u.lowlink,a[d].lowlink))}),u.lowlink===u.index){var c=[],h;do h=i.pop(),a[h].onStack=!1,c.push(h);while(l!==h);s.push(c)}}return r.nodes().forEach(function(l){t.has(a,l)||o(l)}),s}return I_}var k_,XF;function exe(){if(XF)return k_;XF=1;var t=hi(),e=C9();k_=r;function r(n){return t.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return k_}var M_,YF;function txe(){if(YF)return M_;YF=1;var t=hi();M_=r;var e=t.constant(1);function r(i,a,s){return n(i,a||e,s||function(o){return i.outEdges(o)})}function n(i,a,s){var o={},l=i.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(c){u!==c&&(o[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var h=c.v===u?c.w:c.v,d=a(c);o[u][h]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=o[u];l.forEach(function(h){var d=o[h];l.forEach(function(f){var p=d[u],g=c[f],m=d[f],v=p.distance+g.distance;v<m.distance&&(m.distance=v,m.predecessor=g.predecessor)})})}),o}return M_}var D_,KF;function T9(){if(KF)return D_;KF=1;var t=hi();D_=e,e.CycleException=r;function e(n){var i={},a={},s=[];function o(l){if(t.has(a,l))throw new r;t.has(i,l)||(a[l]=!0,i[l]=!0,t.each(n.predecessors(l),o),delete a[l],s.push(l))}if(t.each(n.sinks(),o),t.size(i)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,D_}var O_,ZF;function rxe(){if(ZF)return O_;ZF=1;var t=T9();O_=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return O_}var N_,QF;function A9(){if(QF)return N_;QF=1;var t=hi();N_=e;function e(n,i,a){t.isArray(i)||(i=[i]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],l={};return t.each(i,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,a==="post",l,s,o)}),o}function r(n,i,a,s,o,l){t.has(s,i)||(s[i]=!0,a||l.push(i),t.each(o(i),function(u){r(n,u,a,s,o,l)}),a&&l.push(i))}return N_}var L_,JF;function nxe(){if(JF)return L_;JF=1;var t=A9();L_=e;function e(r,n){return t(r,n,"post")}return L_}var B_,e3;function ixe(){if(e3)return B_;e3=1;var t=A9();B_=e;function e(r,n){return t(r,n,"pre")}return B_}var F_,t3;function axe(){if(t3)return F_;t3=1;var t=hi(),e=pP(),r=E9();F_=n;function n(i,a){var s=new e,o={},l=new r,u;function c(d){var f=d.v===u?d.w:d.v,p=l.priority(f);if(p!==void 0){var g=a(d);g<p&&(o[f]=u,l.decrease(f,g))}}if(i.nodeCount()===0)return s;t.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),l.decrease(i.nodes()[0],0);for(var h=!1;l.size()>0;){if(u=l.removeMin(),t.has(o,u))s.setEdge(u,o[u]);else{if(h)throw new Error("Input graph is not connected: "+i);h=!0}i.nodeEdges(u).forEach(c)}return s}return F_}var z_,r3;function sxe(){return r3||(r3=1,z_={components:Qbe(),dijkstra:S9(),dijkstraAll:Jbe(),findCycles:exe(),floydWarshall:txe(),isAcyclic:rxe(),postorder:nxe(),preorder:ixe(),prim:axe(),tarjan:C9(),topsort:T9()}),z_}var j_,n3;function oxe(){if(n3)return j_;n3=1;var t=Kbe();return j_={Graph:t.Graph,json:Zbe(),alg:sxe(),version:t.version},j_}var U_,i3;function $i(){if(i3)return U_;i3=1;var t;if(typeof tl=="function")try{t=oxe()}catch{}return t||(t=window.graphlib),U_=t,U_}var $_,a3;function lxe(){if(a3)return $_;a3=1;var t=QH(),e=1,r=4;function n(i){return t(i,e|r)}return $_=n,$_}var G_,s3;function qy(){if(s3)return G_;s3=1;var t=Yc(),e=vs(),r=Fy(),n=ci();function i(a,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?e(o)&&r(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return G_=i,G_}var H_,o3;function uxe(){if(o3)return H_;o3=1;var t=Wy(),e=Yc(),r=qy(),n=$l(),i=Object.prototype,a=i.hasOwnProperty,s=t(function(o,l){o=Object(o);var u=-1,c=l.length,h=c>2?l[2]:void 0;for(h&&r(l[0],l[1],h)&&(c=1);++u<c;)for(var d=l[u],f=n(d),p=-1,g=f.length;++p<g;){var m=f[p],v=o[m];(v===void 0||e(v,i[m])&&!a.call(o,m))&&(o[m]=d[m])}return o});return H_=s,H_}var V_,l3;function cxe(){if(l3)return V_;l3=1;var t=ms(),e=vs(),r=To();function n(i){return function(a,s,o){var l=Object(a);if(!e(a)){var u=t(s,3);a=r(a),s=function(h){return u(l[h],h,l)}}var c=i(a,s,o);return c>-1?l[u?a[c]:c]:void 0}}return V_=n,V_}var W_,u3;function hxe(){if(u3)return W_;u3=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return W_=e,W_}var q_,c3;function dxe(){if(c3)return q_;c3=1;var t=hxe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return q_=r,q_}var X_,h3;function fxe(){if(h3)return X_;h3=1;var t=dxe(),e=ci(),r=Jc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=a.test(u);return h||s.test(u)?o(u.slice(2),h?2:8):i.test(u)?n:+u}return X_=l,X_}var Y_,d3;function R9(){if(d3)return Y_;d3=1;var t=fxe(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Y_=n,Y_}var K_,f3;function pxe(){if(f3)return K_;f3=1;var t=R9();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return K_=e,K_}var Z_,p3;function vxe(){if(p3)return Z_;p3=1;var t=x9(),e=ms(),r=pxe(),n=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var u=o==null?0:r(o);return u<0&&(u=n(l+u,0)),t(a,e(s,3),u)}return Z_=i,Z_}var Q_,v3;function mxe(){if(v3)return Q_;v3=1;var t=cxe(),e=vxe(),r=t(e);return Q_=r,Q_}var J_,m3;function P9(){if(m3)return J_;m3=1;var t=fP();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return J_=e,J_}var eE,g3;function gxe(){if(g3)return eE;g3=1;var t=uP(),e=JH(),r=$l();function n(i,a){return i==null?i:t(i,e(a),r)}return eE=n,eE}var tE,y3;function yxe(){if(y3)return tE;y3=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return tE=t,tE}var rE,b3;function bxe(){if(b3)return rE;b3=1;var t=Ly(),e=cP(),r=ms();function n(i,a){var s={};return a=r(a,3),e(i,function(o,l,u){t(s,l,a(o,l,u))}),s}return rE=n,rE}var nE,x3;function vP(){if(x3)return nE;x3=1;var t=Jc();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var o=r[a],l=n(o);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,c=o}return c}return nE=e,nE}var iE,w3;function xxe(){if(w3)return iE;w3=1;function t(e,r){return e>r}return iE=t,iE}var aE,_3;function wxe(){if(_3)return aE;_3=1;var t=vP(),e=xxe(),r=Gl();function n(i){return i&&i.length?t(i,r,e):void 0}return aE=n,aE}var sE,E3;function I9(){if(E3)return sE;E3=1;var t=Ly(),e=Yc();function r(n,i,a){(a!==void 0&&!e(n[i],a)||a===void 0&&!(i in n))&&t(n,i,a)}return sE=r,sE}var oE,S3;function _xe(){if(S3)return oE;S3=1;var t=jl(),e=Uy(),r=Ra(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(c){if(!r(c)||t(c)!=n)return!1;var h=e(c);if(h===null)return!0;var d=o.call(h,"constructor")&&h.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==l}return oE=u,oE}var lE,C3;function k9(){if(C3)return lE;C3=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return lE=t,lE}var uE,T3;function Exe(){if(T3)return uE;T3=1;var t=Lf(),e=$l();function r(n){return t(n,e(n))}return uE=r,uE}var cE,A3;function Sxe(){if(A3)return cE;A3=1;var t=I9(),e=jH(),r=YH(),n=UH(),i=ZH(),a=Bf(),s=Kt(),o=w9(),l=Zc(),u=Nf(),c=ci(),h=_xe(),d=Ff(),f=k9(),p=Exe();function g(m,v,y,b,x,w,E){var _=f(m,y),T=f(v,y),C=E.get(T);if(C){t(m,y,C);return}var P=w?w(_,T,y+"",m,v,E):void 0,M=P===void 0;if(M){var R=s(T),I=!R&&l(T),S=!R&&!I&&d(T);P=T,R||I||S?s(_)?P=_:o(_)?P=n(_):I?(M=!1,P=e(T,!0)):S?(M=!1,P=r(T,!0)):P=[]:h(T)||a(T)?(P=_,a(_)?P=p(_):(!c(_)||u(_))&&(P=i(T))):M=!1}M&&(E.set(T,P),x(P,T,b,w,E),E.delete(T)),t(m,y,P)}return cE=g,cE}var hE,R3;function Cxe(){if(R3)return hE;R3=1;var t=Ny(),e=I9(),r=uP(),n=Sxe(),i=ci(),a=$l(),s=k9();function o(l,u,c,h,d){l!==u&&r(u,function(f,p){if(d||(d=new t),i(f))n(l,u,p,c,o,h,d);else{var g=h?h(s(l,p),f,p+"",l,u,d):void 0;g===void 0&&(g=f),e(l,p,g)}},a)}return hE=o,hE}var dE,P3;function Txe(){if(P3)return dE;P3=1;var t=Wy(),e=qy();function r(n){return t(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(l=n.length>3&&typeof l=="function"?(o--,l):void 0,u&&e(a[0],a[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var c=a[s];c&&n(i,c,s,l)}return i})}return dE=r,dE}var fE,I3;function Axe(){if(I3)return fE;I3=1;var t=Cxe(),e=Txe(),r=e(function(n,i,a){t(n,i,a)});return fE=r,fE}var pE,k3;function M9(){if(k3)return pE;k3=1;function t(e,r){return e<r}return pE=t,pE}var vE,M3;function Rxe(){if(M3)return vE;M3=1;var t=vP(),e=M9(),r=Gl();function n(i){return i&&i.length?t(i,r,e):void 0}return vE=n,vE}var mE,D3;function Pxe(){if(D3)return mE;D3=1;var t=vP(),e=ms(),r=M9();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return mE=n,mE}var gE,O3;function Ixe(){if(O3)return gE;O3=1;var t=Vi(),e=function(){return t.Date.now()};return gE=e,gE}var yE,N3;function kxe(){if(N3)return yE;N3=1;var t=By(),e=Hy(),r=Fy(),n=ci(),i=zf();function a(s,o,l,u){if(!n(s))return s;o=e(o,s);for(var c=-1,h=o.length,d=h-1,f=s;f!=null&&++c<h;){var p=i(o[c]),g=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return s;if(c!=d){var m=f[p];g=u?u(m,p,f):void 0,g===void 0&&(g=n(m)?m:r(o[c+1])?[]:{})}t(f,p,g),f=f[p]}return s}return yE=a,yE}var bE,L3;function Mxe(){if(L3)return bE;L3=1;var t=Vy(),e=kxe(),r=Hy();function n(i,a,s){for(var o=-1,l=a.length,u={};++o<l;){var c=a[o],h=t(i,c);s(h,c)&&e(u,r(c,i),h)}return u}return bE=n,bE}var xE,B3;function Dxe(){if(B3)return xE;B3=1;var t=Mxe(),e=c9();function r(n,i){return t(n,i,function(a,s){return e(n,s)})}return xE=r,xE}var wE,F3;function Oxe(){if(F3)return wE;F3=1;var t=P9(),e=y9(),r=b9();function n(i){return r(e(i,void 0,t),i+"")}return wE=n,wE}var _E,z3;function Nxe(){if(z3)return _E;z3=1;var t=Dxe(),e=Oxe(),r=e(function(n,i){return n==null?{}:t(n,i)});return _E=r,_E}var EE,j3;function Lxe(){if(j3)return EE;j3=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var o=-1,l=e(t((i-n)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=n,n+=a;return u}return EE=r,EE}var SE,U3;function Bxe(){if(U3)return SE;U3=1;var t=Lxe(),e=qy(),r=R9();function n(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),o=o===void 0?a<s?1:-1:r(o),t(a,s,o,i)}}return SE=n,SE}var CE,$3;function Fxe(){if($3)return CE;$3=1;var t=Bxe(),e=t();return CE=e,CE}var TE,G3;function zxe(){if(G3)return TE;G3=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return TE=t,TE}var AE,H3;function jxe(){if(H3)return AE;H3=1;var t=Jc();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,o=t(r),l=n!==void 0,u=n===null,c=n===n,h=t(n);if(!u&&!h&&!o&&r>n||o&&l&&c&&!u&&!h||a&&l&&c||!i&&c||!s)return 1;if(!a&&!o&&!h&&r<n||h&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!c)return-1}return 0}return AE=e,AE}var RE,V3;function Uxe(){if(V3)return RE;V3=1;var t=jxe();function e(r,n,i){for(var a=-1,s=r.criteria,o=n.criteria,l=s.length,u=i.length;++a<l;){var c=t(s[a],o[a]);if(c){if(a>=u)return c;var h=i[a];return c*(h=="desc"?-1:1)}}return r.index-n.index}return RE=e,RE}var PE,W3;function $xe(){if(W3)return PE;W3=1;var t=Gy(),e=Vy(),r=ms(),n=v9(),i=zxe(),a=zy(),s=Uxe(),o=Gl(),l=Kt();function u(c,h,d){h.length?h=t(h,function(g){return l(g)?function(m){return e(m,g.length===1?g[0]:g)}:g}):h=[o];var f=-1;h=t(h,a(r));var p=n(c,function(g,m,v){var y=t(h,function(b){return b(g)});return{criteria:y,index:++f,value:g}});return i(p,function(g,m){return s(g,m,d)})}return PE=u,PE}var IE,q3;function Gxe(){if(q3)return IE;q3=1;var t=fP(),e=$xe(),r=Wy(),n=qy(),i=r(function(a,s){if(a==null)return[];var o=s.length;return o>1&&n(a,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return IE=i,IE}var kE,X3;function Hxe(){if(X3)return kE;X3=1;var t=l9(),e=0;function r(n){var i=++e;return t(n)+i}return kE=r,kE}var ME,Y3;function Vxe(){if(Y3)return ME;Y3=1;function t(e,r,n){for(var i=-1,a=e.length,s=r.length,o={};++i<a;){var l=i<s?r[i]:void 0;n(o,e[i],l)}return o}return ME=t,ME}var DE,K3;function Wxe(){if(K3)return DE;K3=1;var t=By(),e=Vxe();function r(n,i){return e(n||[],i||[],t)}return DE=r,DE}var OE,Z3;function Pt(){if(Z3)return OE;Z3=1;var t;if(typeof tl=="function")try{t={cloneDeep:lxe(),constant:lP(),defaults:uxe(),each:t9(),filter:d9(),find:mxe(),flatten:P9(),forEach:e9(),forIn:gxe(),has:f9(),isUndefined:p9(),last:yxe(),map:m9(),mapValues:bxe(),max:wxe(),merge:Axe(),min:Rxe(),minBy:Pxe(),now:Ixe(),pick:Nxe(),range:Fxe(),reduce:g9(),sortBy:Gxe(),uniqueId:Hxe(),values:_9(),zipObject:Wxe()}}catch{}return t||(t=window._),OE=t,OE}var NE,Q3;function qxe(){if(Q3)return NE;Q3=1,NE=t;function t(){var n={};n._next=n._prev=n,this._sentinel=n}t.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return e(i),i},t.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&e(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},t.prototype.toString=function(){for(var n=[],i=this._sentinel,a=i._prev;a!==i;)n.push(JSON.stringify(a,r)),a=a._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return NE}var LE,J3;function Xxe(){if(J3)return LE;J3=1;var t=Pt(),e=$i().Graph,r=qxe();LE=i;var n=t.constant(1);function i(u,c){if(u.nodeCount()<=1)return[];var h=o(u,c||n),d=a(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(d,function(f){return u.outEdges(f.v,f.w)}),!0)}function a(u,c,h){for(var d=[],f=c[c.length-1],p=c[0],g;u.nodeCount();){for(;g=p.dequeue();)s(u,c,h,g);for(;g=f.dequeue();)s(u,c,h,g);if(u.nodeCount()){for(var m=c.length-2;m>0;--m)if(g=c[m].dequeue(),g){d=d.concat(s(u,c,h,g,!0));break}}}return d}function s(u,c,h,d,f){var p=f?[]:void 0;return t.forEach(u.inEdges(d.v),function(g){var m=u.edge(g),v=u.node(g.v);f&&p.push({v:g.v,w:g.w}),v.out-=m,l(c,h,v)}),t.forEach(u.outEdges(d.v),function(g){var m=u.edge(g),v=g.w,y=u.node(v);y.in-=m,l(c,h,y)}),u.removeNode(d.v),p}function o(u,c){var h=new e,d=0,f=0;t.forEach(u.nodes(),function(m){h.setNode(m,{v:m,in:0,out:0})}),t.forEach(u.edges(),function(m){var v=h.edge(m.v,m.w)||0,y=c(m),b=v+y;h.setEdge(m.v,m.w,b),f=Math.max(f,h.node(m.v).out+=y),d=Math.max(d,h.node(m.w).in+=y)});var p=t.range(f+d+3).map(function(){return new r}),g=d+1;return t.forEach(h.nodes(),function(m){l(p,g,h.node(m))}),{graph:h,buckets:p,zeroIdx:g}}function l(u,c,h){h.out?h.in?u[h.out-h.in+c].enqueue(h):u[u.length-1].enqueue(h):u[0].enqueue(h)}return LE}var BE,e5;function Yxe(){if(e5)return BE;e5=1;var t=Pt(),e=Xxe();BE={run:r,undo:i};function r(a){var s=a.graph().acyclicer==="greedy"?e(a,o(a)):n(a);t.forEach(s,function(l){var u=a.edge(l);a.removeEdge(l),u.forwardName=l.name,u.reversed=!0,a.setEdge(l.w,l.v,u,t.uniqueId("rev"))});function o(l){return function(u){return l.edge(u).weight}}}function n(a){var s=[],o={},l={};function u(c){t.has(l,c)||(l[c]=!0,o[c]=!0,t.forEach(a.outEdges(c),function(h){t.has(o,h.w)?s.push(h):u(h.w)}),delete o[c])}return t.forEach(a.nodes(),u),s}function i(a){t.forEach(a.edges(),function(s){var o=a.edge(s);if(o.reversed){a.removeEdge(s);var l=o.forwardName;delete o.reversed,delete o.forwardName,a.setEdge(s.w,s.v,o,l)}})}return BE}var FE,t5;function xn(){if(t5)return FE;t5=1;var t=Pt(),e=$i().Graph;FE={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:a,predecessorWeights:s,intersectRect:o,buildLayerMatrix:l,normalizeRanks:u,removeEmptyRanks:c,addBorderNode:h,maxRank:d,partition:f,time:p,notime:g};function r(m,v,y,b){var x;do x=t.uniqueId(b);while(m.hasNode(x));return y.dummy=v,m.setNode(x,y),x}function n(m){var v=new e().setGraph(m.graph());return t.forEach(m.nodes(),function(y){v.setNode(y,m.node(y))}),t.forEach(m.edges(),function(y){var b=v.edge(y.v,y.w)||{weight:0,minlen:1},x=m.edge(y);v.setEdge(y.v,y.w,{weight:b.weight+x.weight,minlen:Math.max(b.minlen,x.minlen)})}),v}function i(m){var v=new e({multigraph:m.isMultigraph()}).setGraph(m.graph());return t.forEach(m.nodes(),function(y){m.children(y).length||v.setNode(y,m.node(y))}),t.forEach(m.edges(),function(y){v.setEdge(y,m.edge(y))}),v}function a(m){var v=t.map(m.nodes(),function(y){var b={};return t.forEach(m.outEdges(y),function(x){b[x.w]=(b[x.w]||0)+m.edge(x).weight}),b});return t.zipObject(m.nodes(),v)}function s(m){var v=t.map(m.nodes(),function(y){var b={};return t.forEach(m.inEdges(y),function(x){b[x.v]=(b[x.v]||0)+m.edge(x).weight}),b});return t.zipObject(m.nodes(),v)}function o(m,v){var y=m.x,b=m.y,x=v.x-y,w=v.y-b,E=m.width/2,_=m.height/2;if(!x&&!w)throw new Error("Not possible to find intersection inside of the rectangle");var T,C;return Math.abs(w)*E>Math.abs(x)*_?(w<0&&(_=-_),T=_*x/w,C=_):(x<0&&(E=-E),T=E,C=E*w/x),{x:y+T,y:b+C}}function l(m){var v=t.map(t.range(d(m)+1),function(){return[]});return t.forEach(m.nodes(),function(y){var b=m.node(y),x=b.rank;t.isUndefined(x)||(v[x][b.order]=y)}),v}function u(m){var v=t.min(t.map(m.nodes(),function(y){return m.node(y).rank}));t.forEach(m.nodes(),function(y){var b=m.node(y);t.has(b,"rank")&&(b.rank-=v)})}function c(m){var v=t.min(t.map(m.nodes(),function(w){return m.node(w).rank})),y=[];t.forEach(m.nodes(),function(w){var E=m.node(w).rank-v;y[E]||(y[E]=[]),y[E].push(w)});var b=0,x=m.graph().nodeRankFactor;t.forEach(y,function(w,E){t.isUndefined(w)&&E%x!==0?--b:b&&t.forEach(w,function(_){m.node(_).rank+=b})})}function h(m,v,y,b){var x={width:0,height:0};return arguments.length>=4&&(x.rank=y,x.order=b),r(m,"border",x,v)}function d(m){return t.max(t.map(m.nodes(),function(v){var y=m.node(v).rank;if(!t.isUndefined(y))return y}))}function f(m,v){var y={lhs:[],rhs:[]};return t.forEach(m,function(b){v(b)?y.lhs.push(b):y.rhs.push(b)}),y}function p(m,v){var y=t.now();try{return v()}finally{console.log(m+" time: "+(t.now()-y)+"ms")}}function g(m,v){return v()}return FE}var zE,r5;function Kxe(){if(r5)return zE;r5=1;var t=Pt(),e=xn();zE={run:r,undo:i};function r(a){a.graph().dummyChains=[],t.forEach(a.edges(),function(s){n(a,s)})}function n(a,s){var o=s.v,l=a.node(o).rank,u=s.w,c=a.node(u).rank,h=s.name,d=a.edge(s),f=d.labelRank;if(c!==l+1){a.removeEdge(s);var p,g,m;for(m=0,++l;l<c;++m,++l)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:s,rank:l},p=e.addDummyNode(a,"edge",g,"_d"),l===f&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),a.setEdge(o,p,{weight:d.weight},h),m===0&&a.graph().dummyChains.push(p),o=p;a.setEdge(o,u,{weight:d.weight},h)}}function i(a){t.forEach(a.graph().dummyChains,function(s){var o=a.node(s),l=o.edgeLabel,u;for(a.setEdge(o.edgeObj,l);o.dummy;)u=a.successors(s)[0],a.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=a.node(s)})}return zE}var jE,n5;function Km(){if(n5)return jE;n5=1;var t=Pt();jE={longestPath:e,slack:r};function e(n){var i={};function a(s){var o=n.node(s);if(t.has(i,s))return o.rank;i[s]=!0;var l=t.min(t.map(n.outEdges(s),function(u){return a(u.w)-n.edge(u).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}t.forEach(n.sources(),a)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return jE}var UE,i5;function D9(){if(i5)return UE;i5=1;var t=Pt(),e=$i().Graph,r=Km().slack;UE=n;function n(o){var l=new e({directed:!1}),u=o.nodes()[0],c=o.nodeCount();l.setNode(u,{});for(var h,d;i(l,o)<c;)h=a(l,o),d=l.hasNode(h.v)?r(o,h):-r(o,h),s(l,o,d);return l}function i(o,l){function u(c){t.forEach(l.nodeEdges(c),function(h){var d=h.v,f=c===d?h.w:d;!o.hasNode(f)&&!r(l,h)&&(o.setNode(f,{}),o.setEdge(c,f,{}),u(f))})}return t.forEach(o.nodes(),u),o.nodeCount()}function a(o,l){return t.minBy(l.edges(),function(u){if(o.hasNode(u.v)!==o.hasNode(u.w))return r(l,u)})}function s(o,l,u){t.forEach(o.nodes(),function(c){l.node(c).rank+=u})}return UE}var $E,a5;function Zxe(){if(a5)return $E;a5=1;var t=Pt(),e=D9(),r=Km().slack,n=Km().longestPath,i=$i().alg.preorder,a=$i().alg.postorder,s=xn().simplify;$E=o,o.initLowLimValues=h,o.initCutValues=l,o.calcCutValue=c,o.leaveEdge=f,o.enterEdge=p,o.exchangeEdges=g;function o(b){b=s(b),n(b);var x=e(b);h(x),l(x,b);for(var w,E;w=f(x);)E=p(x,b,w),g(x,b,w,E)}function l(b,x){var w=a(b,b.nodes());w=w.slice(0,w.length-1),t.forEach(w,function(E){u(b,x,E)})}function u(b,x,w){var E=b.node(w),_=E.parent;b.edge(w,_).cutvalue=c(b,x,w)}function c(b,x,w){var E=b.node(w),_=E.parent,T=!0,C=x.edge(w,_),P=0;return C||(T=!1,C=x.edge(_,w)),P=C.weight,t.forEach(x.nodeEdges(w),function(M){var R=M.v===w,I=R?M.w:M.v;if(I!==_){var S=R===T,B=x.edge(M).weight;if(P+=S?B:-B,v(b,w,I)){var L=b.edge(w,I).cutvalue;P+=S?-L:L}}}),P}function h(b,x){arguments.length<2&&(x=b.nodes()[0]),d(b,{},1,x)}function d(b,x,w,E,_){var T=w,C=b.node(E);return x[E]=!0,t.forEach(b.neighbors(E),function(P){t.has(x,P)||(w=d(b,x,w,P,E))}),C.low=T,C.lim=w++,_?C.parent=_:delete C.parent,w}function f(b){return t.find(b.edges(),function(x){return b.edge(x).cutvalue<0})}function p(b,x,w){var E=w.v,_=w.w;x.hasEdge(E,_)||(E=w.w,_=w.v);var T=b.node(E),C=b.node(_),P=T,M=!1;T.lim>C.lim&&(P=C,M=!0);var R=t.filter(x.edges(),function(I){return M===y(b,b.node(I.v),P)&&M!==y(b,b.node(I.w),P)});return t.minBy(R,function(I){return r(x,I)})}function g(b,x,w,E){var _=w.v,T=w.w;b.removeEdge(_,T),b.setEdge(E.v,E.w,{}),h(b),l(b,x),m(b,x)}function m(b,x){var w=t.find(b.nodes(),function(_){return!x.node(_).parent}),E=i(b,w);E=E.slice(1),t.forEach(E,function(_){var T=b.node(_).parent,C=x.edge(_,T),P=!1;C||(C=x.edge(T,_),P=!0),x.node(_).rank=x.node(T).rank+(P?C.minlen:-C.minlen)})}function v(b,x,w){return b.hasEdge(x,w)}function y(b,x,w){return w.low<=x.lim&&x.lim<=w.lim}return $E}var GE,s5;function Qxe(){if(s5)return GE;s5=1;var t=Km(),e=t.longestPath,r=D9(),n=Zxe();GE=i;function i(l){switch(l.graph().ranker){case"network-simplex":o(l);break;case"tight-tree":s(l);break;case"longest-path":a(l);break;default:o(l)}}var a=e;function s(l){e(l),r(l)}function o(l){n(l)}return GE}var HE,o5;function Jxe(){if(o5)return HE;o5=1;var t=Pt();HE=e;function e(i){var a=n(i);t.forEach(i.graph().dummyChains,function(s){for(var o=i.node(s),l=o.edgeObj,u=r(i,a,l.v,l.w),c=u.path,h=u.lca,d=0,f=c[d],p=!0;s!==l.w;){if(o=i.node(s),p){for(;(f=c[d])!==h&&i.node(f).maxRank<o.rank;)d++;f===h&&(p=!1)}if(!p){for(;d<c.length-1&&i.node(f=c[d+1]).minRank<=o.rank;)d++;f=c[d]}i.setParent(s,f),s=i.successors(s)[0]}})}function r(i,a,s,o){var l=[],u=[],c=Math.min(a[s].low,a[o].low),h=Math.max(a[s].lim,a[o].lim),d,f;d=s;do d=i.parent(d),l.push(d);while(d&&(a[d].low>c||h>a[d].lim));for(f=d,d=o;(d=i.parent(d))!==f;)u.push(d);return{path:l.concat(u.reverse()),lca:f}}function n(i){var a={},s=0;function o(l){var u=s;t.forEach(i.children(l),o),a[l]={low:u,lim:s++}}return t.forEach(i.children(),o),a}return HE}var VE,l5;function ewe(){if(l5)return VE;l5=1;var t=Pt(),e=xn();VE={run:r,cleanup:s};function r(o){var l=e.addDummyNode(o,"root",{},"_root"),u=i(o),c=t.max(t.values(u))-1,h=2*c+1;o.graph().nestingRoot=l,t.forEach(o.edges(),function(f){o.edge(f).minlen*=h});var d=a(o)+1;t.forEach(o.children(),function(f){n(o,l,h,d,c,u,f)}),o.graph().nodeRankFactor=h}function n(o,l,u,c,h,d,f){var p=o.children(f);if(!p.length){f!==l&&o.setEdge(l,f,{weight:0,minlen:u});return}var g=e.addBorderNode(o,"_bt"),m=e.addBorderNode(o,"_bb"),v=o.node(f);o.setParent(g,f),v.borderTop=g,o.setParent(m,f),v.borderBottom=m,t.forEach(p,function(y){n(o,l,u,c,h,d,y);var b=o.node(y),x=b.borderTop?b.borderTop:y,w=b.borderBottom?b.borderBottom:y,E=b.borderTop?c:2*c,_=x!==w?1:h-d[f]+1;o.setEdge(g,x,{weight:E,minlen:_,nestingEdge:!0}),o.setEdge(w,m,{weight:E,minlen:_,nestingEdge:!0})}),o.parent(f)||o.setEdge(l,g,{weight:0,minlen:h+d[f]})}function i(o){var l={};function u(c,h){var d=o.children(c);d&&d.length&&t.forEach(d,function(f){u(f,h+1)}),l[c]=h}return t.forEach(o.children(),function(c){u(c,1)}),l}function a(o){return t.reduce(o.edges(),function(l,u){return l+o.edge(u).weight},0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,t.forEach(o.edges(),function(u){var c=o.edge(u);c.nestingEdge&&o.removeEdge(u)})}return VE}var WE,u5;function twe(){if(u5)return WE;u5=1;var t=Pt(),e=xn();WE=r;function r(i){function a(s){var o=i.children(s),l=i.node(s);if(o.length&&t.forEach(o,a),t.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var u=l.minRank,c=l.maxRank+1;u<c;++u)n(i,"borderLeft","_bl",s,l,u),n(i,"borderRight","_br",s,l,u)}}t.forEach(i.children(),a)}function n(i,a,s,o,l,u){var c={width:0,height:0,rank:u,borderType:a},h=l[a][u-1],d=e.addDummyNode(i,"border",c,s);l[a][u]=d,i.setParent(d,o),h&&i.setEdge(h,d,{weight:1})}return WE}var qE,c5;function rwe(){if(c5)return qE;c5=1;var t=Pt();qE={adjust:e,undo:r};function e(u){var c=u.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(u)}function r(u){var c=u.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&a(u),(c==="lr"||c==="rl")&&(o(u),n(u))}function n(u){t.forEach(u.nodes(),function(c){i(u.node(c))}),t.forEach(u.edges(),function(c){i(u.edge(c))})}function i(u){var c=u.width;u.width=u.height,u.height=c}function a(u){t.forEach(u.nodes(),function(c){s(u.node(c))}),t.forEach(u.edges(),function(c){var h=u.edge(c);t.forEach(h.points,s),t.has(h,"y")&&s(h)})}function s(u){u.y=-u.y}function o(u){t.forEach(u.nodes(),function(c){l(u.node(c))}),t.forEach(u.edges(),function(c){var h=u.edge(c);t.forEach(h.points,l),t.has(h,"x")&&l(h)})}function l(u){var c=u.x;u.x=u.y,u.y=c}return qE}var XE,h5;function nwe(){if(h5)return XE;h5=1;var t=Pt();XE=e;function e(r){var n={},i=t.filter(r.nodes(),function(u){return!r.children(u).length}),a=t.max(t.map(i,function(u){return r.node(u).rank})),s=t.map(t.range(a+1),function(){return[]});function o(u){if(!t.has(n,u)){n[u]=!0;var c=r.node(u);s[c.rank].push(u),t.forEach(r.successors(u),o)}}var l=t.sortBy(i,function(u){return r.node(u).rank});return t.forEach(l,o),s}return XE}var YE,d5;function iwe(){if(d5)return YE;d5=1;var t=Pt();YE=e;function e(n,i){for(var a=0,s=1;s<i.length;++s)a+=r(n,i[s-1],i[s]);return a}function r(n,i,a){for(var s=t.zipObject(a,t.map(a,function(d,f){return f})),o=t.flatten(t.map(i,function(d){return t.sortBy(t.map(n.outEdges(d),function(f){return{pos:s[f.w],weight:n.edge(f).weight}}),"pos")}),!0),l=1;l<a.length;)l<<=1;var u=2*l-1;l-=1;var c=t.map(new Array(u),function(){return 0}),h=0;return t.forEach(o.forEach(function(d){var f=d.pos+l;c[f]+=d.weight;for(var p=0;f>0;)f%2&&(p+=c[f+1]),f=f-1>>1,c[f]+=d.weight;h+=d.weight*p})),h}return YE}var KE,f5;function awe(){if(f5)return KE;f5=1;var t=Pt();KE=e;function e(r,n){return t.map(n,function(i){var a=r.inEdges(i);if(a.length){var s=t.reduce(a,function(o,l){var u=r.edge(l),c=r.node(l.v);return{sum:o.sum+u.weight*c.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:i,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:i}})}return KE}var ZE,p5;function swe(){if(p5)return ZE;p5=1;var t=Pt();ZE=e;function e(i,a){var s={};t.forEach(i,function(l,u){var c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};t.isUndefined(l.barycenter)||(c.barycenter=l.barycenter,c.weight=l.weight)}),t.forEach(a.edges(),function(l){var u=s[l.v],c=s[l.w];!t.isUndefined(u)&&!t.isUndefined(c)&&(c.indegree++,u.out.push(s[l.w]))});var o=t.filter(s,function(l){return!l.indegree});return r(o)}function r(i){var a=[];function s(u){return function(c){c.merged||(t.isUndefined(c.barycenter)||t.isUndefined(u.barycenter)||c.barycenter>=u.barycenter)&&n(u,c)}}function o(u){return function(c){c.in.push(u),--c.indegree===0&&i.push(c)}}for(;i.length;){var l=i.pop();a.push(l),t.forEach(l.in.reverse(),s(l)),t.forEach(l.out,o(l))}return t.map(t.filter(a,function(u){return!u.merged}),function(u){return t.pick(u,["vs","i","barycenter","weight"])})}function n(i,a){var s=0,o=0;i.weight&&(s+=i.barycenter*i.weight,o+=i.weight),a.weight&&(s+=a.barycenter*a.weight,o+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=s/o,i.weight=o,i.i=Math.min(a.i,i.i),a.merged=!0}return ZE}var QE,v5;function owe(){if(v5)return QE;v5=1;var t=Pt(),e=xn();QE=r;function r(a,s){var o=e.partition(a,function(g){return t.has(g,"barycenter")}),l=o.lhs,u=t.sortBy(o.rhs,function(g){return-g.i}),c=[],h=0,d=0,f=0;l.sort(i(!!s)),f=n(c,u,f),t.forEach(l,function(g){f+=g.vs.length,c.push(g.vs),h+=g.barycenter*g.weight,d+=g.weight,f=n(c,u,f)});var p={vs:t.flatten(c,!0)};return d&&(p.barycenter=h/d,p.weight=d),p}function n(a,s,o){for(var l;s.length&&(l=t.last(s)).i<=o;)s.pop(),a.push(l.vs),o++;return o}function i(a){return function(s,o){return s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:a?o.i-s.i:s.i-o.i}}return QE}var JE,m5;function lwe(){if(m5)return JE;m5=1;var t=Pt(),e=awe(),r=swe(),n=owe();JE=i;function i(o,l,u,c){var h=o.children(l),d=o.node(l),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,g={};f&&(h=t.filter(h,function(w){return w!==f&&w!==p}));var m=e(o,h);t.forEach(m,function(w){if(o.children(w.v).length){var E=i(o,w.v,u,c);g[w.v]=E,t.has(E,"barycenter")&&s(w,E)}});var v=r(m,u);a(v,g);var y=n(v,c);if(f&&(y.vs=t.flatten([f,y.vs,p],!0),o.predecessors(f).length)){var b=o.node(o.predecessors(f)[0]),x=o.node(o.predecessors(p)[0]);t.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+x.order)/(y.weight+2),y.weight+=2}return y}function a(o,l){t.forEach(o,function(u){u.vs=t.flatten(u.vs.map(function(c){return l[c]?l[c].vs:c}),!0)})}function s(o,l){t.isUndefined(o.barycenter)?(o.barycenter=l.barycenter,o.weight=l.weight):(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight)}return JE}var eS,g5;function uwe(){if(g5)return eS;g5=1;var t=Pt(),e=$i().Graph;eS=r;function r(i,a,s){var o=n(i),l=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(u){return i.node(u)});return t.forEach(i.nodes(),function(u){var c=i.node(u),h=i.parent(u);(c.rank===a||c.minRank<=a&&a<=c.maxRank)&&(l.setNode(u),l.setParent(u,h||o),t.forEach(i[s](u),function(d){var f=d.v===u?d.w:d.v,p=l.edge(f,u),g=t.isUndefined(p)?0:p.weight;l.setEdge(f,u,{weight:i.edge(d).weight+g})}),t.has(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[a],borderRight:c.borderRight[a]}))}),l}function n(i){for(var a;i.hasNode(a=t.uniqueId("_root")););return a}return eS}var tS,y5;function cwe(){if(y5)return tS;y5=1;var t=Pt();tS=e;function e(r,n,i){var a={},s;t.forEach(i,function(o){for(var l=r.parent(o),u,c;l;){if(u=r.parent(l),u?(c=a[u],a[u]=l):(c=s,s=l),c&&c!==l){n.setEdge(c,l);return}l=u}})}return tS}var rS,b5;function hwe(){if(b5)return rS;b5=1;var t=Pt(),e=nwe(),r=iwe(),n=lwe(),i=uwe(),a=cwe(),s=$i().Graph,o=xn();rS=l;function l(d){var f=o.maxRank(d),p=u(d,t.range(1,f+1),"inEdges"),g=u(d,t.range(f-1,-1,-1),"outEdges"),m=e(d);h(d,m);for(var v=Number.POSITIVE_INFINITY,y,b=0,x=0;x<4;++b,++x){c(b%2?p:g,b%4>=2),m=o.buildLayerMatrix(d);var w=r(d,m);w<v&&(x=0,y=t.cloneDeep(m),v=w)}h(d,y)}function u(d,f,p){return t.map(f,function(g){return i(d,g,p)})}function c(d,f){var p=new s;t.forEach(d,function(g){var m=g.graph().root,v=n(g,m,p,f);t.forEach(v.vs,function(y,b){g.node(y).order=b}),a(g,p,v.vs)})}function h(d,f){t.forEach(f,function(p){t.forEach(p,function(g,m){d.node(g).order=m})})}return rS}var nS,x5;function dwe(){if(x5)return nS;x5=1;var t=Pt(),e=$i().Graph,r=xn();nS={positionX:p,findType1Conflicts:n,findType2Conflicts:i,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:d,findSmallestWidthAlignment:h,balance:f};function n(v,y){var b={};function x(w,E){var _=0,T=0,C=w.length,P=t.last(E);return t.forEach(E,function(M,R){var I=a(v,M),S=I?v.node(I).order:C;(I||M===P)&&(t.forEach(E.slice(T,R+1),function(B){t.forEach(v.predecessors(B),function(L){var N=v.node(L),F=N.order;(F<_||S<F)&&!(N.dummy&&v.node(B).dummy)&&s(b,L,B)})}),T=R+1,_=S)}),E}return t.reduce(y,x),b}function i(v,y){var b={};function x(E,_,T,C,P){var M;t.forEach(t.range(_,T),function(R){M=E[R],v.node(M).dummy&&t.forEach(v.predecessors(M),function(I){var S=v.node(I);S.dummy&&(S.order<C||S.order>P)&&s(b,I,M)})})}function w(E,_){var T=-1,C,P=0;return t.forEach(_,function(M,R){if(v.node(M).dummy==="border"){var I=v.predecessors(M);I.length&&(C=v.node(I[0]).order,x(_,P,R,T,C),P=R,T=C)}x(_,P,_.length,C,E.length)}),_}return t.reduce(y,w),b}function a(v,y){if(v.node(y).dummy)return t.find(v.predecessors(y),function(b){return v.node(b).dummy})}function s(v,y,b){if(y>b){var x=y;y=b,b=x}var w=v[y];w||(v[y]=w={}),w[b]=!0}function o(v,y,b){if(y>b){var x=y;y=b,b=x}return t.has(v[y],b)}function l(v,y,b,x){var w={},E={},_={};return t.forEach(y,function(T){t.forEach(T,function(C,P){w[C]=C,E[C]=C,_[C]=P})}),t.forEach(y,function(T){var C=-1;t.forEach(T,function(P){var M=x(P);if(M.length){M=t.sortBy(M,function(L){return _[L]});for(var R=(M.length-1)/2,I=Math.floor(R),S=Math.ceil(R);I<=S;++I){var B=M[I];E[P]===P&&C<_[B]&&!o(b,P,B)&&(E[B]=P,E[P]=w[P]=w[B],C=_[B])}}})}),{root:w,align:E}}function u(v,y,b,x,w){var E={},_=c(v,y,b,w),T=w?"borderLeft":"borderRight";function C(R,I){for(var S=_.nodes(),B=S.pop(),L={};B;)L[B]?R(B):(L[B]=!0,S.push(B),S=S.concat(I(B))),B=S.pop()}function P(R){E[R]=_.inEdges(R).reduce(function(I,S){return Math.max(I,E[S.v]+_.edge(S))},0)}function M(R){var I=_.outEdges(R).reduce(function(B,L){return Math.min(B,E[L.w]-_.edge(L))},Number.POSITIVE_INFINITY),S=v.node(R);I!==Number.POSITIVE_INFINITY&&S.borderType!==T&&(E[R]=Math.max(E[R],I))}return C(P,_.predecessors.bind(_)),C(M,_.successors.bind(_)),t.forEach(x,function(R){E[R]=E[b[R]]}),E}function c(v,y,b,x){var w=new e,E=v.graph(),_=g(E.nodesep,E.edgesep,x);return t.forEach(y,function(T){var C;t.forEach(T,function(P){var M=b[P];if(w.setNode(M),C){var R=b[C],I=w.edge(R,M);w.setEdge(R,M,Math.max(_(v,P,C),I||0))}C=P})}),w}function h(v,y){return t.minBy(t.values(y),function(b){var x=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY;return t.forIn(b,function(E,_){var T=m(v,_)/2;x=Math.max(E+T,x),w=Math.min(E-T,w)}),x-w})}function d(v,y){var b=t.values(y),x=t.min(b),w=t.max(b);t.forEach(["u","d"],function(E){t.forEach(["l","r"],function(_){var T=E+_,C=v[T],P;if(C!==y){var M=t.values(C);P=_==="l"?x-t.min(M):w-t.max(M),P&&(v[T]=t.mapValues(C,function(R){return R+P}))}})})}function f(v,y){return t.mapValues(v.ul,function(b,x){if(y)return v[y.toLowerCase()][x];var w=t.sortBy(t.map(v,x));return(w[1]+w[2])/2})}function p(v){var y=r.buildLayerMatrix(v),b=t.merge(n(v,y),i(v,y)),x={},w;t.forEach(["u","d"],function(_){w=_==="u"?y:t.values(y).reverse(),t.forEach(["l","r"],function(T){T==="r"&&(w=t.map(w,function(R){return t.values(R).reverse()}));var C=(_==="u"?v.predecessors:v.successors).bind(v),P=l(v,w,b,C),M=u(v,w,P.root,P.align,T==="r");T==="r"&&(M=t.mapValues(M,function(R){return-R})),x[_+T]=M})});var E=h(v,x);return d(x,E),f(x,v.graph().align)}function g(v,y,b){return function(x,w,E){var _=x.node(w),T=x.node(E),C=0,P;if(C+=_.width/2,t.has(_,"labelpos"))switch(_.labelpos.toLowerCase()){case"l":P=-_.width/2;break;case"r":P=_.width/2;break}if(P&&(C+=b?P:-P),P=0,C+=(_.dummy?y:v)/2,C+=(T.dummy?y:v)/2,C+=T.width/2,t.has(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":P=T.width/2;break;case"r":P=-T.width/2;break}return P&&(C+=b?P:-P),P=0,C}}function m(v,y){return v.node(y).width}return nS}var iS,w5;function fwe(){if(w5)return iS;w5=1;var t=Pt(),e=xn(),r=dwe().positionX;iS=n;function n(a){a=e.asNonCompoundGraph(a),i(a),t.forEach(r(a),function(s,o){a.node(o).x=s})}function i(a){var s=e.buildLayerMatrix(a),o=a.graph().ranksep,l=0;t.forEach(s,function(u){var c=t.max(t.map(u,function(h){return a.node(h).height}));t.forEach(u,function(h){a.node(h).y=l+c/2}),l+=c+o})}return iS}var aS,_5;function pwe(){if(_5)return aS;_5=1;var t=Pt(),e=Yxe(),r=Kxe(),n=Qxe(),i=xn().normalizeRanks,a=Jxe(),s=xn().removeEmptyRanks,o=ewe(),l=twe(),u=rwe(),c=hwe(),h=fwe(),d=xn(),f=$i().Graph;aS=p;function p(H,V){var X=V&&V.debugTiming?d.time:d.notime;X("layout",function(){var te=X("  buildLayoutGraph",function(){return C(H)});X("  runLayout",function(){g(te,X)}),X("  updateInputGraph",function(){m(H,te)})})}function g(H,V){V("    makeSpaceForEdgeLabels",function(){P(H)}),V("    removeSelfEdges",function(){z(H)}),V("    acyclic",function(){e.run(H)}),V("    nestingGraph.run",function(){o.run(H)}),V("    rank",function(){n(d.asNonCompoundGraph(H))}),V("    injectEdgeLabelProxies",function(){M(H)}),V("    removeEmptyRanks",function(){s(H)}),V("    nestingGraph.cleanup",function(){o.cleanup(H)}),V("    normalizeRanks",function(){i(H)}),V("    assignRankMinMax",function(){R(H)}),V("    removeEdgeLabelProxies",function(){I(H)}),V("    normalize.run",function(){r.run(H)}),V("    parentDummyChains",function(){a(H)}),V("    addBorderSegments",function(){l(H)}),V("    order",function(){c(H)}),V("    insertSelfEdges",function(){$(H)}),V("    adjustCoordinateSystem",function(){u.adjust(H)}),V("    position",function(){h(H)}),V("    positionSelfEdges",function(){O(H)}),V("    removeBorderNodes",function(){F(H)}),V("    normalize.undo",function(){r.undo(H)}),V("    fixupEdgeLabelCoords",function(){L(H)}),V("    undoCoordinateSystem",function(){u.undo(H)}),V("    translateGraph",function(){S(H)}),V("    assignNodeIntersects",function(){B(H)}),V("    reversePoints",function(){N(H)}),V("    acyclic.undo",function(){e.undo(H)})}function m(H,V){t.forEach(H.nodes(),function(X){var te=H.node(X),Q=V.node(X);te&&(te.x=Q.x,te.y=Q.y,V.children(X).length&&(te.width=Q.width,te.height=Q.height))}),t.forEach(H.edges(),function(X){var te=H.edge(X),Q=V.edge(X);te.points=Q.points,t.has(Q,"x")&&(te.x=Q.x,te.y=Q.y)}),H.graph().width=V.graph().width,H.graph().height=V.graph().height}var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"];function C(H){var V=new f({multigraph:!0,compound:!0}),X=J(H.graph());return V.setGraph(t.merge({},y,j(X,v),t.pick(X,b))),t.forEach(H.nodes(),function(te){var Q=J(H.node(te));V.setNode(te,t.defaults(j(Q,x),w)),V.setParent(te,H.parent(te))}),t.forEach(H.edges(),function(te){var Q=J(H.edge(te));V.setEdge(te,t.merge({},_,j(Q,E),t.pick(Q,T)))}),V}function P(H){var V=H.graph();V.ranksep/=2,t.forEach(H.edges(),function(X){var te=H.edge(X);te.minlen*=2,te.labelpos.toLowerCase()!=="c"&&(V.rankdir==="TB"||V.rankdir==="BT"?te.width+=te.labeloffset:te.height+=te.labeloffset)})}function M(H){t.forEach(H.edges(),function(V){var X=H.edge(V);if(X.width&&X.height){var te=H.node(V.v),Q=H.node(V.w),Y={rank:(Q.rank-te.rank)/2+te.rank,e:V};d.addDummyNode(H,"edge-proxy",Y,"_ep")}})}function R(H){var V=0;t.forEach(H.nodes(),function(X){var te=H.node(X);te.borderTop&&(te.minRank=H.node(te.borderTop).rank,te.maxRank=H.node(te.borderBottom).rank,V=t.max(V,te.maxRank))}),H.graph().maxRank=V}function I(H){t.forEach(H.nodes(),function(V){var X=H.node(V);X.dummy==="edge-proxy"&&(H.edge(X.e).labelRank=X.rank,H.removeNode(V))})}function S(H){var V=Number.POSITIVE_INFINITY,X=0,te=Number.POSITIVE_INFINITY,Q=0,Y=H.graph(),ae=Y.marginx||0,se=Y.marginy||0;function ve(ge){var k=ge.x,K=ge.y,ne=ge.width,U=ge.height;V=Math.min(V,k-ne/2),X=Math.max(X,k+ne/2),te=Math.min(te,K-U/2),Q=Math.max(Q,K+U/2)}t.forEach(H.nodes(),function(ge){ve(H.node(ge))}),t.forEach(H.edges(),function(ge){var k=H.edge(ge);t.has(k,"x")&&ve(k)}),V-=ae,te-=se,t.forEach(H.nodes(),function(ge){var k=H.node(ge);k.x-=V,k.y-=te}),t.forEach(H.edges(),function(ge){var k=H.edge(ge);t.forEach(k.points,function(K){K.x-=V,K.y-=te}),t.has(k,"x")&&(k.x-=V),t.has(k,"y")&&(k.y-=te)}),Y.width=X-V+ae,Y.height=Q-te+se}function B(H){t.forEach(H.edges(),function(V){var X=H.edge(V),te=H.node(V.v),Q=H.node(V.w),Y,ae;X.points?(Y=X.points[0],ae=X.points[X.points.length-1]):(X.points=[],Y=Q,ae=te),X.points.unshift(d.intersectRect(te,Y)),X.points.push(d.intersectRect(Q,ae))})}function L(H){t.forEach(H.edges(),function(V){var X=H.edge(V);if(t.has(X,"x"))switch((X.labelpos==="l"||X.labelpos==="r")&&(X.width-=X.labeloffset),X.labelpos){case"l":X.x-=X.width/2+X.labeloffset;break;case"r":X.x+=X.width/2+X.labeloffset;break}})}function N(H){t.forEach(H.edges(),function(V){var X=H.edge(V);X.reversed&&X.points.reverse()})}function F(H){t.forEach(H.nodes(),function(V){if(H.children(V).length){var X=H.node(V),te=H.node(X.borderTop),Q=H.node(X.borderBottom),Y=H.node(t.last(X.borderLeft)),ae=H.node(t.last(X.borderRight));X.width=Math.abs(ae.x-Y.x),X.height=Math.abs(Q.y-te.y),X.x=Y.x+X.width/2,X.y=te.y+X.height/2}}),t.forEach(H.nodes(),function(V){H.node(V).dummy==="border"&&H.removeNode(V)})}function z(H){t.forEach(H.edges(),function(V){if(V.v===V.w){var X=H.node(V.v);X.selfEdges||(X.selfEdges=[]),X.selfEdges.push({e:V,label:H.edge(V)}),H.removeEdge(V)}})}function $(H){var V=d.buildLayerMatrix(H);t.forEach(V,function(X){var te=0;t.forEach(X,function(Q,Y){var ae=H.node(Q);ae.order=Y+te,t.forEach(ae.selfEdges,function(se){d.addDummyNode(H,"selfedge",{width:se.label.width,height:se.label.height,rank:ae.rank,order:Y+ ++te,e:se.e,label:se.label},"_se")}),delete ae.selfEdges})})}function O(H){t.forEach(H.nodes(),function(V){var X=H.node(V);if(X.dummy==="selfedge"){var te=H.node(X.e.v),Q=te.x+te.width/2,Y=te.y,ae=X.x-Q,se=te.height/2;H.setEdge(X.e,X.label),H.removeNode(V),X.label.points=[{x:Q+2*ae/3,y:Y-se},{x:Q+5*ae/6,y:Y-se},{x:Q+ae,y:Y},{x:Q+5*ae/6,y:Y+se},{x:Q+2*ae/3,y:Y+se}],X.label.x=X.x,X.label.y=X.y}})}function j(H,V){return t.mapValues(t.pick(H,V),Number)}function J(H){var V={};return t.forEach(H,function(X,te){V[te.toLowerCase()]=X}),V}return aS}var sS,E5;function vwe(){if(E5)return sS;E5=1;var t=Pt(),e=xn(),r=$i().Graph;sS={debugOrdering:n};function n(i){var a=e.buildLayerMatrix(i),s=new r({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(o){s.setNode(o,{label:o}),s.setParent(o,"layer"+i.node(o).rank)}),t.forEach(i.edges(),function(o){s.setEdge(o.v,o.w,{},o.name)}),t.forEach(a,function(o,l){var u="layer"+l;s.setNode(u,{rank:"same"}),t.reduce(o,function(c,h){return s.setEdge(c,h,{style:"invis"}),h})}),s}return sS}var oS,S5;function mwe(){return S5||(S5=1,oS="0.8.5"),oS}var lS,C5;function gwe(){return C5||(C5=1,lS={graphlib:$i(),layout:pwe(),debug:vwe(),util:{time:xn().time,notime:xn().notime},version:mwe()}),lS}(function(t,e){(function(n,i){t.exports=i(gwe())})(ir,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:l})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,o){if(o&1&&(s=a(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var u in s)a.d(l,u,(function(c){return s[c]}).bind(null,u));return l},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=0)}([function(n,i,a){var s=a(1),o=function(u){u&&u("layout","dagre",s)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,i,a){function s(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(p){return typeof p}:s=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}var o=function(f){return typeof f=="function"},l=a(2),u=a(3),c=a(4);function h(d){this.options=u({},l,d)}h.prototype.run=function(){var d=this.options,f=this,p=d.cy,g=d.eles,m=function(O,j){return o(j)?j.apply(O,[O]):j},v=d.boundingBox||{x1:0,y1:0,w:p.width(),h:p.height()};v.x2===void 0&&(v.x2=v.x1+v.w),v.w===void 0&&(v.w=v.x2-v.x1),v.y2===void 0&&(v.y2=v.y1+v.h),v.h===void 0&&(v.h=v.y2-v.y1);var y=new c.graphlib.Graph({multigraph:!0,compound:!0}),b={},x=function(O,j){j!=null&&(b[O]=j)};x("nodesep",d.nodeSep),x("edgesep",d.edgeSep),x("ranksep",d.rankSep),x("rankdir",d.rankDir),x("align",d.align),x("ranker",d.ranker),x("acyclicer",d.acyclicer),y.setGraph(b),y.setDefaultEdgeLabel(function(){return{}}),y.setDefaultNodeLabel(function(){return{}});var w=g.nodes();o(d.sort)&&(w=w.sort(d.sort));for(var E=0;E<w.length;E++){var _=w[E],T=_.layoutDimensions(d);y.setNode(_.id(),{width:T.w,height:T.h,name:_.id()})}for(var C=0;C<w.length;C++){var P=w[C];P.isChild()&&y.setParent(P.id(),P.parent().id())}var M=g.edges().stdFilter(function($){return!$.source().isParent()&&!$.target().isParent()});o(d.sort)&&(M=M.sort(d.sort));for(var R=0;R<M.length;R++){var I=M[R];y.setEdge(I.source().id(),I.target().id(),{minlen:m(I,d.minLen),weight:m(I,d.edgeWeight),name:I.id()},I.id())}c.layout(y);for(var S=y.nodes(),B=0;B<S.length;B++){var L=S[B],N=y.node(L);p.getElementById(L).scratch().dagre=N}var F;d.boundingBox?(F={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},w.forEach(function($){var O=$.scratch().dagre;F.x1=Math.min(F.x1,O.x),F.x2=Math.max(F.x2,O.x),F.y1=Math.min(F.y1,O.y),F.y2=Math.max(F.y2,O.y)}),F.w=F.x2-F.x1,F.h=F.y2-F.y1):F=v;var z=function(O){if(d.boundingBox){var j=F.w===0?0:(O.x-F.x1)/F.w,J=F.h===0?0:(O.y-F.y1)/F.h;return{x:v.x1+j*v.w,y:v.y1+J*v.h}}else return O};return w.layoutPositions(f,d,function($){$=s($)==="object"?$:this;var O=$.scratch().dagre;return z({x:O.x,y:O.y})}),this},n.exports=h},function(n,i){var a={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(o){return 1},edgeWeight:function(o){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(o,l){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(o,l){return l},ready:function(){},sort:void 0,stop:function(){}};n.exports=a},function(n,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(a){for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return o.forEach(function(u){Object.keys(u).forEach(function(c){return a[c]=u[c]})}),a}},function(n,i){n.exports=r}])})})(OH);var ywe=OH.exports;const bwe=Rl(ywe);po.use(bwe);function xwe(t){return t.data.item.COND.filter(n=>Object.values(n).some(i=>i!=="")).length?!0:Object.values(t.data.item.visi).some(n=>n!=="")}function wwe(){const t=D.useRef(null),e=D.useRef(null),{project:r}=Gi(),n=r.maps.flatMap(m=>m.data.objects.filter(xwe).map(v=>({obj:v,mapName:m.filename}))),i=n.flatMap(({obj:m})=>m.data.item.COND),a=[...new Set(i.flatMap(m=>[m.hasObj,m.giveObj]))].filter(m=>m!==""),s=[...new Set(i.flatMap(m=>[m.hasAct,m.giveAct]))].filter(m=>m!==""),o=a.map(m=>({data:{id:m,name:m,image:g(m)}})),l=s.map(m=>({data:{id:m,name:m}})),u=n.map(({obj:m,mapName:v})=>({data:{id:m.random_id,name:`${m.member} (${v})`,image:g(m.member)}})),c=[...o,...l],h=[...c,...u],d=c.flatMap(m=>n.flatMap(({obj:v})=>{const y=[],b=m.data.id,x=v.data.item.COND.flatMap(E=>E),{visi:w}=v.data.item;return(x.some(E=>E.hasAct===b||E.hasObj===b)||Object.values(w).includes(b))&&y.push({data:{id:`${b}->${v.random_id}`,source:b,target:v.random_id}}),x.some(E=>E.giveAct===b||E.giveObj===b)&&y.push({data:{id:`${v.random_id}->${b}`,source:v.random_id,target:b}}),y})),f={nodes:h,edges:d},p={name:"dagre",fit:!0,nodeDimensionsIncludeLabels:!0,align:"UL",ranker:"longest-path",rankDir:"TB"};return D.useEffect(()=>(t.current=po({container:e.current,elements:f,layout:p,style:[{selector:"node",style:{"background-color":"#666","background-clip":"none","text-wrap":"wrap",label:"data(name)"}},{selector:"node[image]",style:{"background-color":"#666","background-image":"data(image)","background-image-smoothing":"no","background-clip":"none","background-opacity":0,"text-wrap":"wrap",label:"data(name)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","curve-style":"bezier","target-arrow-color":"#ccc","target-arrow-shape":"triangle"}}]}),()=>{t.current&&t.current.destroy()}),[]),A.jsx(A.Fragment,{children:A.jsx("div",{ref:e,style:{width:"100%",height:"100%"}})});function g(m){const v=r.images.find(y=>y.filename.toLowerCase()===m.toLowerCase()||y.filename.toLowerCase()+".x"===m.toLowerCase());return v?URL.createObjectURL(v.data):"none"}}var Zm=(t=>(t.Project="/project",t.MapEditor="/map",t.ObjectEditor="/object",t.Images="/images",t.EventGraph="/event-graph",t))(Zm||{});function _we(){const[t,{toggle:e}]=Zs(!0),[r,n]=D.useState(iR()),i={project:r,rerenderProject:()=>{bi.renderProject(r,!0)},updateProject:(y,b=!1,x=!0)=>{n(y),x&&bi.renderProject(y,b)},updateMap:(y,b=!0)=>{const x={...r,maps:r.maps.map(w=>w.random_id===y.random_id?y:w)};n(x),b&&bi.renderMap(y)},updateState:y=>{n({...r,state:y})},centerOnMap:y=>{bi.centerOnMap(y)}},[a,{open:s,close:o}]=Zs(!1),[l,u]=D.useState(1),[c,h]=D.useState(!0);function d(){const y=bi.viewport.scale,b=parseInt(l.toString());bi.viewport.scale.set(b),bi.app.renderer.extract.image(bi.viewport).then(x=>{bi.viewport.scale.set(y.x,y.y);const w=document.createElement("a");w.href=x.src.replace("image/png","image/octet-stream"),w.download="my_image.png",w.click()})}const[f,p]=Zs(!1),g="calc(100vh - 68px)",m={overflowY:"auto",minHeight:g,maxHeight:g,padding:"1rem"},v={padding:"2px",minHeight:g,maxHeight:g};return A.jsx(A.Fragment,{children:A.jsx(TU.Provider,{value:i,children:A.jsxs(un,{header:{height:60},navbar:{width:200,breakpoint:"sm",collapsed:{desktop:!t}},children:[A.jsx(un.Header,{children:A.jsxs(at,{h:"100%",px:"md",children:[A.jsx(B2,{opened:t,onClick:e,visibleFrom:"sm",size:"sm"}),A.jsx(pt,{onClick:s,color:"gray",children:A.jsx(Hee,{})}),A.jsx(Wr,{opened:a,onClose:o,title:"Save Screenshot",children:A.jsxs(zr,{children:[A.jsx(Rn,{label:"Screenshot Scale",min:1,max:10,value:l,onChange:u,description:"The scale of the resulting screenshot"}),A.jsx(Wa,{label:"Screenshot Entire World",checked:c,onChange:y=>h(y.target.checked)}),A.jsx(ei,{onClick:()=>d(),children:"Take Screenshot"})]})})]})}),A.jsxs(un.Navbar,{p:"md",children:[A.jsxs(un.Section,{grow:!0,my:"md",component:Rc,children:[A.jsx(Vo,{label:"Project",component:ph,to:"/project",leftSection:A.jsx(ute,{size:"1rem"})}),A.jsx(Vo,{component:ph,to:"/map",label:"Map Editor",leftSection:A.jsx(rte,{size:"1rem"})}),A.jsx(Vo,{component:ph,to:"/object",label:"Object Editor",leftSection:A.jsx(pU,{size:"1rem"})}),A.jsx(Vo,{component:ph,to:"/images",label:"Images ("+r.images.length+")",leftSection:A.jsx(ete,{size:"1rem"})}),A.jsx(Vo,{component:ph,to:"/event-graph",label:"Event Graph",leftSection:A.jsx(lte,{size:"1rem"})})]}),A.jsx(un.Section,{children:A.jsx("div",{onClick:p.open,children:A.jsx(Id,{children:A.jsx(bo,{size:"xs",children:"Map-O-Matic v2"})})})})]}),A.jsxs(un.Main,{children:[A.jsx(Ede,{close:p.close,open:p.open,opened:f}),A.jsxs(Uu,{align:"stretch",gutter:{base:0},children:[A.jsx(Uu.Col,{span:6,style:m,children:A.jsxs(ere,{children:[A.jsx(Mo,{path:"/",element:A.jsx(Kk,{})}),A.jsx(Mo,{path:"/project",element:A.jsx(Kk,{})}),A.jsx(Mo,{path:"/map",element:A.jsx(Hre,{})}),A.jsx(Mo,{path:"/object",element:A.jsx(qre,{})}),A.jsx(Mo,{path:"/images",element:A.jsx(_de,{})}),A.jsx(Mo,{path:"/event-graph",element:A.jsx(wwe,{})})]})}),A.jsx(Uu.Col,{span:6,style:v,children:A.jsx(_he,{})})]})]})]})})})}const Ewe={};zz(document.getElementById("root")).render(A.jsx(o6,{defaultColorScheme:"light",theme:Ewe,children:A.jsx(ore,{children:A.jsx(Dre,{children:A.jsx(_we,{})})})}));
